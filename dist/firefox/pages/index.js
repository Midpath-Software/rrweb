import{m as Qu,n as ec,r as I,p as tc,q as it,b as ut,f as ge,e as Re,j as S,d as X,s as wl,u as ct,o as et,t as Be,v as W,w as bt,x as le,y as jn,z as Cl,A as qr,D as nc,E as ic,G as rc,H as sc,J as Sl,i as Pe,g as _i,I as kt,K as oc,M as lc,T as Ii,N as ac,O as uc,B as bl,P as cc,a as fc,F as $s,c as dc,R as hc,C as pc}from"../browser-polyfill.js";import{u as gc,d as mc,e as yc,S as vc,R as wc,a as Ls,c as Cc,b as Sc}from"../SidebarWithHeader.js";import{C as bc,E as Bs,S as xc}from"../types.js";function Rc(n){const{theme:e}=Qu(),t=ec();return I.useMemo(()=>tc(e.direction,{...t,...n}),[n,e.direction,t])}function Ec(n){const{value:e,defaultValue:t,onChange:i,shouldUpdate:r=(f,g)=>f!==g}=n,s=it(i),o=it(r),[l,a]=I.useState(t),u=e!==void 0,c=u?e:l,d=it(f=>{const p=typeof f=="function"?f(c):f;o(c,p)&&(u||a(p),s(p))},[u,s,c,o]);return[c,d]}var[_c,Qr]=ut({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),Zn=ge(function(e,t){const{isCurrentPage:i,as:r,className:s,href:o,...l}=e,a=Qr(),u={ref:t,as:r,className:Re("chakra-breadcrumb__link",s),...l};return i?S.jsx(X.span,{"aria-current":"page",__css:a.link,...u}):S.jsx(X.a,{__css:a.link,href:o,...u})});Zn.displayName="BreadcrumbLink";var tr=ge(function(e,t){const{spacing:i,...r}=e,s=Qr(),o={mx:i,...s.separator};return S.jsx(X.span,{ref:t,role:"presentation",...r,__css:o})});tr.displayName="BreadcrumbSeparator";var nr=ge(function(e,t){const{isCurrentPage:i,separator:r,isLastChild:s,spacing:o,children:l,className:a,...u}=e,d=wl(l).map(v=>v.type===Zn?I.cloneElement(v,{isCurrentPage:i}):v.type===tr?I.cloneElement(v,{spacing:o,children:v.props.children||r}):v),g={display:"inline-flex",alignItems:"center",...Qr().item},p=Re("chakra-breadcrumb__list-item",a);return S.jsxs(X.li,{ref:t,className:p,...u,__css:g,children:[d,!s&&S.jsx(tr,{spacing:o,children:r})]})});nr.displayName="BreadcrumbItem";var xl=ge(function(e,t){const i=ct("Breadcrumb",e),r=et(e),{children:s,spacing:o="0.5rem",separator:l="/",className:a,listProps:u,...c}=r,d=wl(s),f=d.length,g=d.map((v,h)=>I.cloneElement(v,{separator:l,spacing:o,isLastChild:f===h+1})),p=Re("chakra-breadcrumb",a);return S.jsx(X.nav,{ref:t,"aria-label":"breadcrumb",className:p,__css:i.container,...c,children:S.jsx(_c,{value:i,children:S.jsx(X.ol,{className:"chakra-breadcrumb__list",...u,__css:{display:"flex",alignItems:"center",...i.list},children:g})})})});xl.displayName="Breadcrumb";var[$v,Ic]=ut({name:"CheckboxGroupContext",strict:!1});function Mc(n){const[e,t]=I.useState(n),[i,r]=I.useState(!1);return n!==e&&(r(!0),t(n)),i}function Ac(n){return S.jsx(X.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:S.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Dc(n){return S.jsx(X.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...n,children:S.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Pc(n){const{isIndeterminate:e,isChecked:t,...i}=n,r=e?Dc:Ac;return t||e?S.jsx(X.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:S.jsx(r,{...i})}):null}var[Nc,Oc]=ut({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[kc,Rl]=ut({strict:!1,name:"FormControlContext"});function Fc(n){const{id:e,isRequired:t,isInvalid:i,isDisabled:r,isReadOnly:s,...o}=n,l=I.useId(),a=e||`field-${l}`,u=`${a}-label`,c=`${a}-feedback`,d=`${a}-helptext`,[f,g]=I.useState(!1),[p,v]=I.useState(!1),[h,m]=I.useState(!1),w=I.useCallback((N={},_=null)=>({id:d,...N,ref:Be(_,O=>{O&&v(!0)})}),[d]),y=I.useCallback((N={},_=null)=>({...N,ref:_,"data-focus":W(h),"data-disabled":W(r),"data-invalid":W(i),"data-readonly":W(s),id:N.id!==void 0?N.id:u,htmlFor:N.htmlFor!==void 0?N.htmlFor:a}),[a,r,h,i,s,u]),C=I.useCallback((N={},_=null)=>({id:c,...N,ref:Be(_,O=>{O&&g(!0)}),"aria-live":"polite"}),[c]),x=I.useCallback((N={},_=null)=>({...N,...o,ref:_,role:"group","data-focus":W(h),"data-disabled":W(r),"data-invalid":W(i),"data-readonly":W(s)}),[o,r,h,i,s]),A=I.useCallback((N={},_=null)=>({...N,ref:_,role:"presentation","aria-hidden":!0,children:N.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!i,isReadOnly:!!s,isDisabled:!!r,isFocused:!!h,onFocus:()=>m(!0),onBlur:()=>m(!1),hasFeedbackText:f,setHasFeedbackText:g,hasHelpText:p,setHasHelpText:v,id:a,labelId:u,feedbackId:c,helpTextId:d,htmlProps:o,getHelpTextProps:w,getErrorMessageProps:C,getRootProps:x,getLabelProps:y,getRequiredIndicatorProps:A}}var Tc=ge(function(e,t){const i=ct("Form",e),r=et(e),{getRootProps:s,htmlProps:o,...l}=Fc(r),a=Re("chakra-form-control",e.className);return S.jsx(kc,{value:l,children:S.jsx(Nc,{value:i,children:S.jsx(X.div,{...s({},t),className:a,__css:i.container})})})});Tc.displayName="FormControl";var $c=ge(function(e,t){const i=Rl(),r=Oc(),s=Re("chakra-form__helper-text",e.className);return S.jsx(X.div,{...i==null?void 0:i.getHelpTextProps(e,t),__css:r.helperText,className:s})});$c.displayName="FormHelperText";function El(n){const{isDisabled:e,isInvalid:t,isReadOnly:i,isRequired:r,...s}=_l(n);return{...s,disabled:e,readOnly:i,required:r,"aria-invalid":bt(t),"aria-required":bt(r),"aria-readonly":bt(i)}}function _l(n){var e,t,i;const r=Rl(),{id:s,disabled:o,readOnly:l,required:a,isRequired:u,isInvalid:c,isReadOnly:d,isDisabled:f,onFocus:g,onBlur:p,...v}=n,h=n["aria-describedby"]?[n["aria-describedby"]]:[];return r!=null&&r.hasFeedbackText&&(r!=null&&r.isInvalid)&&h.push(r.feedbackId),r!=null&&r.hasHelpText&&h.push(r.helpTextId),{...v,"aria-describedby":h.join(" ")||void 0,id:s??(r==null?void 0:r.id),isDisabled:(e=o??f)!=null?e:r==null?void 0:r.isDisabled,isReadOnly:(t=l??d)!=null?t:r==null?void 0:r.isReadOnly,isRequired:(i=a??u)!=null?i:r==null?void 0:r.isRequired,isInvalid:c??(r==null?void 0:r.isInvalid),onFocus:le(r==null?void 0:r.onFocus,g),onBlur:le(r==null?void 0:r.onBlur,p)}}var Lc={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Bc=()=>typeof document<"u",Vs=!1,sn=null,ot=!1,ir=!1,rr=new Set;function es(n,e){rr.forEach(t=>t(n,e))}var Vc=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function zc(n){return!(n.metaKey||!Vc&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function zs(n){ot=!0,zc(n)&&(sn="keyboard",es("keyboard",n))}function ht(n){if(sn="pointer",n.type==="mousedown"||n.type==="pointerdown"){ot=!0;const e=n.composedPath?n.composedPath()[0]:n.target;let t=!1;try{t=e.matches(":focus-visible")}catch{}if(t)return;es("pointer",n)}}function jc(n){return n.mozInputSource===0&&n.isTrusted?!0:n.detail===0&&!n.pointerType}function Uc(n){jc(n)&&(ot=!0,sn="virtual")}function Gc(n){n.target===window||n.target===document||(!ot&&!ir&&(sn="virtual",es("virtual",n)),ot=!1,ir=!1)}function Hc(){ot=!1,ir=!0}function js(){return sn!=="pointer"}function Wc(){if(!Bc()||Vs)return;const{focus:n}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...t){ot=!0,n.apply(this,t)},document.addEventListener("keydown",zs,!0),document.addEventListener("keyup",zs,!0),document.addEventListener("click",Uc,!0),window.addEventListener("focus",Gc,!0),window.addEventListener("blur",Hc,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",ht,!0),document.addEventListener("pointermove",ht,!0),document.addEventListener("pointerup",ht,!0)):(document.addEventListener("mousedown",ht,!0),document.addEventListener("mousemove",ht,!0),document.addEventListener("mouseup",ht,!0)),Vs=!0}function Yc(n){Wc(),n(js());const e=()=>n(js());return rr.add(e),()=>{rr.delete(e)}}function Zc(n,e=[]){const t=Object.assign({},n);for(const i of e)i in t&&delete t[i];return t}function Xc(n={}){const e=_l(n),{isDisabled:t,isReadOnly:i,isRequired:r,isInvalid:s,id:o,onBlur:l,onFocus:a,"aria-describedby":u}=e,{defaultChecked:c,isChecked:d,isFocusable:f,onChange:g,isIndeterminate:p,name:v,value:h,tabIndex:m=void 0,"aria-label":w,"aria-labelledby":y,"aria-invalid":C,...x}=n,A=Zc(x,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),N=it(g),_=it(l),O=it(a),[B,ce]=I.useState(!1),[ne,K]=I.useState(!1),[V,ie]=I.useState(!1),[k,z]=I.useState(!1);I.useEffect(()=>Yc(ce),[]);const J=I.useRef(null),[de,re]=I.useState(!0),[te,me]=I.useState(!!c),Se=d!==void 0,E=Se?d:te,R=I.useCallback(j=>{if(i||t){j.preventDefault();return}Se||me(E?j.target.checked:p?!0:j.target.checked),N==null||N(j)},[i,t,E,Se,p,N]);jn(()=>{J.current&&(J.current.indeterminate=!!p)},[p]),Cl(()=>{t&&K(!1)},[t,K]),jn(()=>{const j=J.current;if(!(j!=null&&j.form))return;const Ee=()=>{me(!!c)};return j.form.addEventListener("reset",Ee),()=>{var De;return(De=j.form)==null?void 0:De.removeEventListener("reset",Ee)}},[]);const b=t&&!f,M=I.useCallback(j=>{j.key===" "&&z(!0)},[z]),G=I.useCallback(j=>{j.key===" "&&z(!1)},[z]);jn(()=>{if(!J.current)return;J.current.checked!==E&&me(J.current.checked)},[J.current]);const P=I.useCallback((j={},Ee=null)=>{const De=pn=>{ne&&pn.preventDefault(),z(!0)};return{...j,ref:Ee,"data-active":W(k),"data-hover":W(V),"data-checked":W(E),"data-focus":W(ne),"data-focus-visible":W(ne&&B),"data-indeterminate":W(p),"data-disabled":W(t),"data-invalid":W(s),"data-readonly":W(i),"aria-hidden":!0,onMouseDown:le(j.onMouseDown,De),onMouseUp:le(j.onMouseUp,()=>z(!1)),onMouseEnter:le(j.onMouseEnter,()=>ie(!0)),onMouseLeave:le(j.onMouseLeave,()=>ie(!1))}},[k,E,t,ne,B,V,p,s,i]),U=I.useCallback((j={},Ee=null)=>({...j,ref:Ee,"data-active":W(k),"data-hover":W(V),"data-checked":W(E),"data-focus":W(ne),"data-focus-visible":W(ne&&B),"data-indeterminate":W(p),"data-disabled":W(t),"data-invalid":W(s),"data-readonly":W(i)}),[k,E,t,ne,B,V,p,s,i]),Ce=I.useCallback((j={},Ee=null)=>({...A,...j,ref:Be(Ee,De=>{De&&re(De.tagName==="LABEL")}),onClick:le(j.onClick,()=>{var De;de||((De=J.current)==null||De.click(),requestAnimationFrame(()=>{var pn;(pn=J.current)==null||pn.focus({preventScroll:!0})}))}),"data-disabled":W(t),"data-checked":W(E),"data-invalid":W(s)}),[A,t,E,s,de]),xe=I.useCallback((j={},Ee=null)=>({...j,ref:Be(J,Ee),type:"checkbox",name:v,value:h,id:o,tabIndex:m,onChange:le(j.onChange,R),onBlur:le(j.onBlur,_,()=>K(!1)),onFocus:le(j.onFocus,O,()=>K(!0)),onKeyDown:le(j.onKeyDown,M),onKeyUp:le(j.onKeyUp,G),required:r,checked:E,disabled:b,readOnly:i,"aria-label":w,"aria-labelledby":y,"aria-invalid":C?!!C:s,"aria-describedby":u,"aria-disabled":t,style:Lc}),[v,h,o,R,_,O,M,G,r,E,b,i,w,y,C,s,u,t,m]),Ye=I.useCallback((j={},Ee=null)=>({...j,ref:Ee,onMouseDown:le(j.onMouseDown,Kc),"data-disabled":W(t),"data-checked":W(E),"data-invalid":W(s)}),[E,t,s]);return{state:{isInvalid:s,isFocused:ne,isChecked:E,isActive:k,isHovered:V,isIndeterminate:p,isDisabled:t,isReadOnly:i,isRequired:r},getRootProps:Ce,getCheckboxProps:P,getIndicatorProps:U,getInputProps:xe,getLabelProps:Ye,htmlProps:A}}function Kc(n){n.preventDefault(),n.stopPropagation()}var Jc={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},qc={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Qc=qr({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),ef=qr({from:{opacity:0},to:{opacity:1}}),tf=qr({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),sr=ge(function(e,t){const i=Ic(),r={...i,...e},s=ct("Checkbox",r),o=et(e),{spacing:l="0.5rem",className:a,children:u,iconColor:c,iconSize:d,icon:f=S.jsx(Pc,{}),isChecked:g,isDisabled:p=i==null?void 0:i.isDisabled,onChange:v,inputProps:h,...m}=o;let w=g;i!=null&&i.value&&o.value&&(w=i.value.includes(o.value));let y=v;i!=null&&i.onChange&&o.value&&(y=nc(i.onChange,v));const{state:C,getInputProps:x,getCheckboxProps:A,getLabelProps:N,getRootProps:_}=Xc({...m,isDisabled:p,isChecked:w,onChange:y}),O=Mc(C.isChecked),B=I.useMemo(()=>({animation:O?C.isIndeterminate?`${ef} 20ms linear, ${tf} 200ms linear`:`${Qc} 200ms linear`:void 0,fontSize:d,color:c,...s.icon}),[c,d,O,C.isIndeterminate,s.icon]),ce=I.cloneElement(f,{__css:B,isIndeterminate:C.isIndeterminate,isChecked:C.isChecked});return S.jsxs(X.label,{__css:{...qc,...s.container},className:Re("chakra-checkbox",a),..._(),children:[S.jsx("input",{className:"chakra-checkbox__input",...x(h,t)}),S.jsx(X.span,{__css:{...Jc,...s.control},className:"chakra-checkbox__control",...A(),children:ce}),u&&S.jsx(X.span,{className:"chakra-checkbox__label",...N(),__css:{marginStart:l,...s.label},children:u})]})});sr.displayName="Checkbox";var[nf,Il]=ut({name:"EditableStylesContext",errorMessage:`useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Editable />" `}),[rf,ts]=ut({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"}),Ml={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"},Al=ge(function(e,t){const{getInputProps:i}=ts(),r=Il(),s=i(e,t),o=Re("chakra-editable__input",e.className);return S.jsx(X.input,{...s,__css:{outline:0,...Ml,...r.input},className:o})});Al.displayName="EditableInput";var Dl=ge(function(e,t){const{getPreviewProps:i}=ts(),r=Il(),s=i(e,t),o=Re("chakra-editable__preview",e.className);return S.jsx(X.span,{...s,__css:{cursor:"text",display:"inline-block",...Ml,...r.preview},className:o})});Dl.displayName="EditablePreview";function Us(n,e){return n?n===e||n.contains(e):!1}function sf(n={}){const{onChange:e,onCancel:t,onSubmit:i,onBlur:r,value:s,isDisabled:o,defaultValue:l,startWithEditView:a,isPreviewFocusable:u=!0,submitOnBlur:c=!0,selectAllOnFocus:d=!0,placeholder:f,onEdit:g,finalFocusRef:p,...v}=n,h=it(g),m=!!(a&&!o),[w,y]=I.useState(m),[C,x]=Ec({defaultValue:l||"",value:s,onChange:e}),[A,N]=I.useState(C),_=I.useRef(null),O=I.useRef(null),B=I.useRef(null),ce=I.useRef(null),ne=I.useRef(null);gc({ref:_,enabled:w,elements:[ce,ne]});const K=!w&&!o;jn(()=>{var P,U;w&&((P=_.current)==null||P.focus(),d&&((U=_.current)==null||U.select()))},[]),Cl(()=>{var P,U,Ce,xe;if(!w){p?(P=p.current)==null||P.focus():(U=B.current)==null||U.focus();return}(Ce=_.current)==null||Ce.focus(),d&&((xe=_.current)==null||xe.select()),h==null||h()},[w,h,d]);const V=I.useCallback(()=>{K&&y(!0)},[K]),ie=I.useCallback(()=>{N(C)},[C]),k=I.useCallback(()=>{y(!1),x(A),t==null||t(A),r==null||r(A)},[t,r,x,A]),z=I.useCallback(()=>{y(!1),N(C),i==null||i(C),r==null||r(A)},[C,i,r,A]);I.useEffect(()=>{if(w)return;const P=_.current;(P==null?void 0:P.ownerDocument.activeElement)===P&&(P==null||P.blur())},[w]);const J=I.useCallback(P=>{x(P.currentTarget.value)},[x]),de=I.useCallback(P=>{const U=P.key,xe={Escape:k,Enter:Ye=>{!Ye.shiftKey&&!Ye.metaKey&&z()}}[U];xe&&(P.preventDefault(),xe(P))},[k,z]),re=I.useCallback(P=>{const U=P.key,xe={Escape:k}[U];xe&&(P.preventDefault(),xe(P))},[k]),te=C.length===0,me=I.useCallback(P=>{var U;if(!w)return;const Ce=P.currentTarget.ownerDocument,xe=(U=P.relatedTarget)!=null?U:Ce.activeElement,Ye=Us(ce.current,xe),hn=Us(ne.current,xe);!Ye&&!hn&&(c?z():k())},[c,z,k,w]),Se=I.useCallback((P={},U=null)=>{const Ce=K&&u?0:void 0;return{...P,ref:Be(U,O),children:te?f:C,hidden:w,"aria-disabled":bt(o),tabIndex:Ce,onFocus:le(P.onFocus,V,ie)}},[o,w,K,u,te,V,ie,f,C]),E=I.useCallback((P={},U=null)=>({...P,hidden:!w,placeholder:f,ref:Be(U,_),disabled:o,"aria-disabled":bt(o),value:C,onBlur:le(P.onBlur,me),onChange:le(P.onChange,J),onKeyDown:le(P.onKeyDown,de),onFocus:le(P.onFocus,ie)}),[o,w,me,J,de,ie,f,C]),R=I.useCallback((P={},U=null)=>({...P,hidden:!w,placeholder:f,ref:Be(U,_),disabled:o,"aria-disabled":bt(o),value:C,onBlur:le(P.onBlur,me),onChange:le(P.onChange,J),onKeyDown:le(P.onKeyDown,re),onFocus:le(P.onFocus,ie)}),[o,w,me,J,re,ie,f,C]),b=I.useCallback((P={},U=null)=>({"aria-label":"Edit",...P,type:"button",onClick:le(P.onClick,V),ref:Be(U,B),disabled:o}),[V,o]),M=I.useCallback((P={},U=null)=>({...P,"aria-label":"Submit",ref:Be(ne,U),type:"button",onClick:le(P.onClick,z),disabled:o}),[z,o]),G=I.useCallback((P={},U=null)=>({"aria-label":"Cancel",id:"cancel",...P,ref:Be(ce,U),type:"button",onClick:le(P.onClick,k),disabled:o}),[k,o]);return{isEditing:w,isDisabled:o,isValueEmpty:te,value:C,onEdit:V,onCancel:k,onSubmit:z,getPreviewProps:Se,getInputProps:E,getTextareaProps:R,getEditButtonProps:b,getSubmitButtonProps:M,getCancelButtonProps:G,htmlProps:v}}var Pl=ge(function(e,t){const i=ct("Editable",e),r=et(e),{htmlProps:s,...o}=sf(r),{isEditing:l,onSubmit:a,onCancel:u,onEdit:c}=o,d=Re("chakra-editable",e.className),f=ic(e.children,{isEditing:l,onSubmit:a,onCancel:u,onEdit:c});return S.jsx(rf,{value:o,children:S.jsx(nf,{value:i,children:S.jsx(X.div,{ref:t,...s,className:d,children:f})})})});Pl.displayName="Editable";function of(){const{isEditing:n,getEditButtonProps:e,getCancelButtonProps:t,getSubmitButtonProps:i}=ts();return{isEditing:n,getEditButtonProps:e,getCancelButtonProps:t,getSubmitButtonProps:i}}var ns=ge(function(e,t){const{htmlSize:i,...r}=e,s=ct("Input",r),o=et(r),l=El(o),a=Re("chakra-input",e.className);return S.jsx(X.input,{size:i,...l,__css:s.field,ref:t,className:a})});ns.displayName="Input";ns.id="Input";var Nl=X("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Nl.displayName="Center";var lf={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};ge(function(e,t){const{axis:i="both",...r}=e;return S.jsx(X.div,{ref:t,__css:lf[i],...r,position:"absolute"})});var Ol=ge(function(e,t){const{borderLeftWidth:i,borderBottomWidth:r,borderTopWidth:s,borderRightWidth:o,borderWidth:l,borderStyle:a,borderColor:u,...c}=rc("Divider",e),{className:d,orientation:f="horizontal",__css:g,...p}=et(e),v={vertical:{borderLeftWidth:i||o||l||"1px",height:"100%"},horizontal:{borderBottomWidth:r||s||l||"1px",width:"100%"}};return S.jsx(X.hr,{ref:t,"aria-orientation":f,...p,__css:{...c,border:"0",borderColor:u,borderStyle:a,...v[f],...g},className:Re("chakra-divider",d)})});Ol.displayName="Divider";var kl=ge(function(e,t){const{children:i,placeholder:r,className:s,...o}=e;return S.jsxs(X.select,{...o,ref:t,className:Re("chakra-select",s),children:[r&&S.jsx("option",{value:"",children:r}),i]})});kl.displayName="SelectField";function af(n,e){const t={},i={};for(const[r,s]of Object.entries(n))e.includes(r)?t[r]=s:i[r]=s;return[t,i]}var Fl=ge((n,e)=>{var t;const i=ct("Select",n),{rootProps:r,placeholder:s,icon:o,color:l,height:a,h:u,minH:c,minHeight:d,iconColor:f,iconSize:g,...p}=et(n),[v,h]=af(p,sc),m=El(h),w={width:"100%",height:"fit-content",position:"relative",color:l},y={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...(t=i.field)==null?void 0:t._focus}};return S.jsxs(X.div,{className:"chakra-select__wrapper",__css:w,...v,...r,children:[S.jsx(kl,{ref:e,height:u??a,minH:c??d,placeholder:s,...m,__css:y,children:n.children}),S.jsx(Tl,{"data-disabled":W(m.disabled),...(f||l)&&{color:f||l},__css:i.icon,...g&&{fontSize:g},children:o})]})});Fl.displayName="Select";var uf=n=>S.jsx("svg",{viewBox:"0 0 24 24",...n,children:S.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),cf=X("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),Tl=n=>{const{children:e=S.jsx(uf,{}),...t}=n,i=I.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return S.jsx(cf,{...t,className:"chakra-select__icon-wrapper",children:I.isValidElement(e)?i:null})};Tl.displayName="SelectIcon";var[ff,on]=ut({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),$l=ge((n,e)=>{const t=ct("Table",n),{className:i,layout:r,...s}=et(n);return S.jsx(ff,{value:t,children:S.jsx(X.table,{ref:e,__css:{tableLayout:r,...t.table},className:Re("chakra-table",i),...s})})});$l.displayName="Table";var df=ge((n,e)=>{const t=on();return S.jsx(X.thead,{...n,ref:e,__css:t.thead})}),Gs=ge((n,e)=>{const t=on();return S.jsx(X.tr,{...n,ref:e,__css:t.tr})}),hf=ge((n,e)=>{var t;const{overflow:i,overflowX:r,className:s,...o}=n;return S.jsx(X.div,{ref:e,className:Re("chakra-table__container",s),...o,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:(t=i??r)!=null?t:"auto",overflowY:"hidden",maxWidth:"100%"}})}),pf=ge((n,e)=>{const t=on();return S.jsx(X.tbody,{...n,ref:e,__css:t.tbody})}),gf=ge(({isNumeric:n,...e},t)=>{const i=on();return S.jsx(X.td,{...e,ref:t,__css:i.td,"data-is-numeric":n})}),mf=ge(({isNumeric:n,...e},t)=>{const i=on();return S.jsx(X.th,{...e,ref:t,__css:i.th,"data-is-numeric":n})});let yf=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vf(){return{accessor:(n,e)=>typeof n=="function"?{...e,accessorFn:n}:{...e,accessorKey:n},display:n=>n,group:n=>n}}function Ke(n,e){return typeof n=="function"?n(e):n}function Ie(n,e){return t=>{e.setState(i=>({...i,[n]:Ke(t,i[n])}))}}function ci(n){return n instanceof Function}function wf(n){return Array.isArray(n)&&n.every(e=>typeof e=="number")}function Cf(n,e){const t=[],i=r=>{r.forEach(s=>{t.push(s);const o=e(s);o!=null&&o.length&&i(o)})};return i(n),t}function F(n,e,t){let i=[],r;return s=>{let o;t.key&&t.debug&&(o=Date.now());const l=n(s);if(!(l.length!==i.length||l.some((c,d)=>i[d]!==c)))return r;i=l;let u;if(t.key&&t.debug&&(u=Date.now()),r=e(...l),t==null||t.onChange==null||t.onChange(r),t.key&&t.debug&&t!=null&&t.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,g=(p,v)=>{for(p=String(p);p.length<v;)p=" "+p;return p};console.info(`%c⏱ ${g(d,5)} /${g(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return r}}function T(n,e,t,i){return{debug:()=>{var r;return(r=n==null?void 0:n.debugAll)!=null?r:n[e]},key:!1,onChange:i}}function Sf(n,e,t,i){const r=()=>{var o;return(o=s.getValue())!=null?o:n.options.renderFallbackValue},s={id:`${e.id}_${t.id}`,row:e,column:t,getValue:()=>e.getValue(i),renderValue:r,getContext:F(()=>[n,t,e,s],(o,l,a,u)=>({table:o,column:l,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),T(n.options,"debugCells"))};return n._features.forEach(o=>{o.createCell==null||o.createCell(s,t,e,n)},{}),s}function bf(n,e,t,i){var r,s;const l={...n._getDefaultColumnDef(),...e},a=l.accessorKey;let u=(r=(s=l.id)!=null?s:a?a.replace(".","_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,c;if(l.accessorFn?c=l.accessorFn:a&&(a.includes(".")?c=f=>{let g=f;for(const v of a.split(".")){var p;g=(p=g)==null?void 0:p[v]}return g}:c=f=>f[l.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:i,depth:t,columnDef:l,columns:[],getFlatColumns:F(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},T(n.options,"debugColumns")),getLeafColumns:F(()=>[n._getOrderColumnsFn()],f=>{var g;if((g=d.columns)!=null&&g.length){let p=d.columns.flatMap(v=>v.getLeafColumns());return f(p)}return[d]},T(n.options,"debugColumns"))};for(const f of n._features)f.createColumn==null||f.createColumn(d,n);return d}const be="debugHeaders";function Hs(n,e,t){var i;let s={id:(i=t.id)!=null?i:e.id,column:e,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(l),o.push(a)};return l(s),o},getContext:()=>({table:n,header:s,column:e})};return n._features.forEach(o=>{o.createHeader==null||o.createHeader(s,n)}),s}const xf={createTable:n=>{n.getHeaderGroups=F(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i,r)=>{var s,o;const l=(s=i==null?void 0:i.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?s:[],a=(o=r==null?void 0:r.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=t.filter(d=>!(i!=null&&i.includes(d.id))&&!(r!=null&&r.includes(d.id)));return gn(e,[...l,...u,...a],n)},T(n.options,be)),n.getCenterHeaderGroups=F(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i,r)=>(t=t.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),gn(e,t,n,"center")),T(n.options,be)),n.getLeftHeaderGroups=F(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left],(e,t,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return gn(e,s,n,"left")},T(n.options,be)),n.getRightHeaderGroups=F(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.right],(e,t,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return gn(e,s,n,"right")},T(n.options,be)),n.getFooterGroups=F(()=>[n.getHeaderGroups()],e=>[...e].reverse(),T(n.options,be)),n.getLeftFooterGroups=F(()=>[n.getLeftHeaderGroups()],e=>[...e].reverse(),T(n.options,be)),n.getCenterFooterGroups=F(()=>[n.getCenterHeaderGroups()],e=>[...e].reverse(),T(n.options,be)),n.getRightFooterGroups=F(()=>[n.getRightHeaderGroups()],e=>[...e].reverse(),T(n.options,be)),n.getFlatHeaders=F(()=>[n.getHeaderGroups()],e=>e.map(t=>t.headers).flat(),T(n.options,be)),n.getLeftFlatHeaders=F(()=>[n.getLeftHeaderGroups()],e=>e.map(t=>t.headers).flat(),T(n.options,be)),n.getCenterFlatHeaders=F(()=>[n.getCenterHeaderGroups()],e=>e.map(t=>t.headers).flat(),T(n.options,be)),n.getRightFlatHeaders=F(()=>[n.getRightHeaderGroups()],e=>e.map(t=>t.headers).flat(),T(n.options,be)),n.getCenterLeafHeaders=F(()=>[n.getCenterFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),T(n.options,be)),n.getLeftLeafHeaders=F(()=>[n.getLeftFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),T(n.options,be)),n.getRightLeafHeaders=F(()=>[n.getRightFlatHeaders()],e=>e.filter(t=>{var i;return!((i=t.subHeaders)!=null&&i.length)}),T(n.options,be)),n.getLeafHeaders=F(()=>[n.getLeftHeaderGroups(),n.getCenterHeaderGroups(),n.getRightHeaderGroups()],(e,t,i)=>{var r,s,o,l,a,u;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(a=(u=i[0])==null?void 0:u.headers)!=null?a:[]].map(c=>c.getLeafHeaders()).flat()},T(n.options,be))}};function gn(n,e,t,i){var r,s;let o=0;const l=function(f,g){g===void 0&&(g=1),o=Math.max(o,g),f.filter(p=>p.getIsVisible()).forEach(p=>{var v;(v=p.columns)!=null&&v.length&&l(p.columns,g+1)},0)};l(n);let a=[];const u=(f,g)=>{const p={depth:g,id:[i,`${g}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(h=>{const m=[...v].reverse()[0],w=h.column.depth===p.depth;let y,C=!1;if(w&&h.column.parent?y=h.column.parent:(y=h.column,C=!0),m&&(m==null?void 0:m.column)===y)m.subHeaders.push(h);else{const x=Hs(t,y,{id:[i,g,y.id,h==null?void 0:h.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${v.filter(A=>A.column===y).length}`:void 0,depth:g,index:v.length});x.subHeaders.push(h),v.push(x)}p.headers.push(h),h.headerGroup=p}),a.push(p),g>0&&u(v,g-1)},c=e.map((f,g)=>Hs(t,f,{depth:o,index:g}));u(c,o-1),a.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let v=0,h=0,m=[0];p.subHeaders&&p.subHeaders.length?(m=[],d(p.subHeaders).forEach(y=>{let{colSpan:C,rowSpan:x}=y;v+=C,m.push(x)})):v=1;const w=Math.min(...m);return h=h+w,p.colSpan=v,p.rowSpan=h,{colSpan:v,rowSpan:h}});return d((r=(s=a[0])==null?void 0:s.headers)!=null?r:[]),a}const Rf=(n,e,t,i,r,s,o)=>{let l={id:e,index:i,original:t,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(l._valuesCache.hasOwnProperty(a))return l._valuesCache[a];const u=n.getColumn(a);if(u!=null&&u.accessorFn)return l._valuesCache[a]=u.accessorFn(l.original,i),l._valuesCache[a]},getUniqueValues:a=>{if(l._uniqueValuesCache.hasOwnProperty(a))return l._uniqueValuesCache[a];const u=n.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[a]=u.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[a]):(l._uniqueValuesCache[a]=[l.getValue(a)],l._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=l.getValue(a))!=null?u:n.options.renderFallbackValue},subRows:[],getLeafRows:()=>Cf(l.subRows,a=>a.subRows),getParentRow:()=>l.parentId?n.getRow(l.parentId,!0):void 0,getParentRows:()=>{let a=[],u=l;for(;;){const c=u.getParentRow();if(!c)break;a.push(c),u=c}return a.reverse()},getAllCells:F(()=>[n.getAllLeafColumns()],a=>a.map(u=>Sf(n,l,u,u.id)),T(n.options,"debugRows")),_getAllCellsByColumnId:F(()=>[l.getAllCells()],a=>a.reduce((u,c)=>(u[c.column.id]=c,u),{}),T(n.options,"debugRows"))};for(let a=0;a<n._features.length;a++){const u=n._features[a];u==null||u.createRow==null||u.createRow(l,n)}return l},Ef={createColumn:(n,e)=>{n._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,n.id),n.getFacetedRowModel=()=>n._getFacetedRowModel?n._getFacetedRowModel():e.getPreFilteredRowModel(),n._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,n.id),n.getFacetedUniqueValues=()=>n._getFacetedUniqueValues?n._getFacetedUniqueValues():new Map,n._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,n.id),n.getFacetedMinMaxValues=()=>{if(n._getFacetedMinMaxValues)return n._getFacetedMinMaxValues()}}},Ll=(n,e,t)=>{var i;const r=t.toLowerCase();return!!(!((i=n.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(r))};Ll.autoRemove=n=>Oe(n);const Bl=(n,e,t)=>{var i;return!!(!((i=n.getValue(e))==null||(i=i.toString())==null)&&i.includes(t))};Bl.autoRemove=n=>Oe(n);const Vl=(n,e,t)=>{var i;return((i=n.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===(t==null?void 0:t.toLowerCase())};Vl.autoRemove=n=>Oe(n);const zl=(n,e,t)=>{var i;return(i=n.getValue(e))==null?void 0:i.includes(t)};zl.autoRemove=n=>Oe(n)||!(n!=null&&n.length);const jl=(n,e,t)=>!t.some(i=>{var r;return!((r=n.getValue(e))!=null&&r.includes(i))});jl.autoRemove=n=>Oe(n)||!(n!=null&&n.length);const Ul=(n,e,t)=>t.some(i=>{var r;return(r=n.getValue(e))==null?void 0:r.includes(i)});Ul.autoRemove=n=>Oe(n)||!(n!=null&&n.length);const Gl=(n,e,t)=>n.getValue(e)===t;Gl.autoRemove=n=>Oe(n);const Hl=(n,e,t)=>n.getValue(e)==t;Hl.autoRemove=n=>Oe(n);const is=(n,e,t)=>{let[i,r]=t;const s=n.getValue(e);return s>=i&&s<=r};is.resolveFilterValue=n=>{let[e,t]=n,i=typeof e!="number"?parseFloat(e):e,r=typeof t!="number"?parseFloat(t):t,s=e===null||Number.isNaN(i)?-1/0:i,o=t===null||Number.isNaN(r)?1/0:r;if(s>o){const l=s;s=o,o=l}return[s,o]};is.autoRemove=n=>Oe(n)||Oe(n[0])&&Oe(n[1]);const je={includesString:Ll,includesStringSensitive:Bl,equalsString:Vl,arrIncludes:zl,arrIncludesAll:jl,arrIncludesSome:Ul,equals:Gl,weakEquals:Hl,inNumberRange:is};function Oe(n){return n==null||n===""}const _f={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:n=>({columnFilters:[],...n}),getDefaultOptions:n=>({onColumnFiltersChange:Ie("columnFilters",n),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(n,e)=>{n.getAutoFilterFn=()=>{const t=e.getCoreRowModel().flatRows[0],i=t==null?void 0:t.getValue(n.id);return typeof i=="string"?je.includesString:typeof i=="number"?je.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?je.equals:Array.isArray(i)?je.arrIncludes:je.weakEquals},n.getFilterFn=()=>{var t,i;return ci(n.columnDef.filterFn)?n.columnDef.filterFn:n.columnDef.filterFn==="auto"?n.getAutoFilterFn():(t=(i=e.options.filterFns)==null?void 0:i[n.columnDef.filterFn])!=null?t:je[n.columnDef.filterFn]},n.getCanFilter=()=>{var t,i,r;return((t=n.columnDef.enableColumnFilter)!=null?t:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!n.accessorFn},n.getIsFiltered=()=>n.getFilterIndex()>-1,n.getFilterValue=()=>{var t;return(t=e.getState().columnFilters)==null||(t=t.find(i=>i.id===n.id))==null?void 0:t.value},n.getFilterIndex=()=>{var t,i;return(t=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===n.id))!=null?t:-1},n.setFilterValue=t=>{e.setColumnFilters(i=>{const r=n.getFilterFn(),s=i==null?void 0:i.find(c=>c.id===n.id),o=Ke(t,s?s.value:void 0);if(Ws(r,o,n)){var l;return(l=i==null?void 0:i.filter(c=>c.id!==n.id))!=null?l:[]}const a={id:n.id,value:o};if(s){var u;return(u=i==null?void 0:i.map(c=>c.id===n.id?a:c))!=null?u:[]}return i!=null&&i.length?[...i,a]:[a]})}},createRow:(n,e)=>{n.columnFilters={},n.columnFiltersMeta={}},createTable:n=>{n.setColumnFilters=e=>{const t=n.getAllLeafColumns(),i=r=>{var s;return(s=Ke(e,r))==null?void 0:s.filter(o=>{const l=t.find(a=>a.id===o.id);if(l){const a=l.getFilterFn();if(Ws(a,o.value,l))return!1}return!0})};n.options.onColumnFiltersChange==null||n.options.onColumnFiltersChange(i)},n.resetColumnFilters=e=>{var t,i;n.setColumnFilters(e?[]:(t=(i=n.initialState)==null?void 0:i.columnFilters)!=null?t:[])},n.getPreFilteredRowModel=()=>n.getCoreRowModel(),n.getFilteredRowModel=()=>(!n._getFilteredRowModel&&n.options.getFilteredRowModel&&(n._getFilteredRowModel=n.options.getFilteredRowModel(n)),n.options.manualFiltering||!n._getFilteredRowModel?n.getPreFilteredRowModel():n._getFilteredRowModel())}};function Ws(n,e,t){return(n&&n.autoRemove?n.autoRemove(e,t):!1)||typeof e>"u"||typeof e=="string"&&!e}const If=(n,e,t)=>t.reduce((i,r)=>{const s=r.getValue(n);return i+(typeof s=="number"?s:0)},0),Mf=(n,e,t)=>{let i;return t.forEach(r=>{const s=r.getValue(n);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},Af=(n,e,t)=>{let i;return t.forEach(r=>{const s=r.getValue(n);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},Df=(n,e,t)=>{let i,r;return t.forEach(s=>{const o=s.getValue(n);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},Pf=(n,e)=>{let t=0,i=0;if(e.forEach(r=>{let s=r.getValue(n);s!=null&&(s=+s)>=s&&(++t,i+=s)}),t)return i/t},Nf=(n,e)=>{if(!e.length)return;const t=e.map(s=>s.getValue(n));if(!wf(t))return;if(t.length===1)return t[0];const i=Math.floor(t.length/2),r=t.sort((s,o)=>s-o);return t.length%2!==0?r[i]:(r[i-1]+r[i])/2},Of=(n,e)=>Array.from(new Set(e.map(t=>t.getValue(n))).values()),kf=(n,e)=>new Set(e.map(t=>t.getValue(n))).size,Ff=(n,e)=>e.length,Mi={sum:If,min:Mf,max:Af,extent:Df,mean:Pf,median:Nf,unique:Of,uniqueCount:kf,count:Ff},Tf={getDefaultColumnDef:()=>({aggregatedCell:n=>{var e,t;return(e=(t=n.getValue())==null||t.toString==null?void 0:t.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:n=>({grouping:[],...n}),getDefaultOptions:n=>({onGroupingChange:Ie("grouping",n),groupedColumnMode:"reorder"}),createColumn:(n,e)=>{n.toggleGrouping=()=>{e.setGrouping(t=>t!=null&&t.includes(n.id)?t.filter(i=>i!==n.id):[...t??[],n.id])},n.getCanGroup=()=>{var t,i;return((t=n.columnDef.enableGrouping)!=null?t:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!n.accessorFn||!!n.columnDef.getGroupingValue)},n.getIsGrouped=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.includes(n.id)},n.getGroupedIndex=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.indexOf(n.id)},n.getToggleGroupingHandler=()=>{const t=n.getCanGroup();return()=>{t&&n.toggleGrouping()}},n.getAutoAggregationFn=()=>{const t=e.getCoreRowModel().flatRows[0],i=t==null?void 0:t.getValue(n.id);if(typeof i=="number")return Mi.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Mi.extent},n.getAggregationFn=()=>{var t,i;if(!n)throw new Error;return ci(n.columnDef.aggregationFn)?n.columnDef.aggregationFn:n.columnDef.aggregationFn==="auto"?n.getAutoAggregationFn():(t=(i=e.options.aggregationFns)==null?void 0:i[n.columnDef.aggregationFn])!=null?t:Mi[n.columnDef.aggregationFn]}},createTable:n=>{n.setGrouping=e=>n.options.onGroupingChange==null?void 0:n.options.onGroupingChange(e),n.resetGrouping=e=>{var t,i;n.setGrouping(e?[]:(t=(i=n.initialState)==null?void 0:i.grouping)!=null?t:[])},n.getPreGroupedRowModel=()=>n.getFilteredRowModel(),n.getGroupedRowModel=()=>(!n._getGroupedRowModel&&n.options.getGroupedRowModel&&(n._getGroupedRowModel=n.options.getGroupedRowModel(n)),n.options.manualGrouping||!n._getGroupedRowModel?n.getPreGroupedRowModel():n._getGroupedRowModel())},createRow:(n,e)=>{n.getIsGrouped=()=>!!n.groupingColumnId,n.getGroupingValue=t=>{if(n._groupingValuesCache.hasOwnProperty(t))return n._groupingValuesCache[t];const i=e.getColumn(t);return i!=null&&i.columnDef.getGroupingValue?(n._groupingValuesCache[t]=i.columnDef.getGroupingValue(n.original),n._groupingValuesCache[t]):n.getValue(t)},n._groupingValuesCache={}},createCell:(n,e,t,i)=>{n.getIsGrouped=()=>e.getIsGrouped()&&e.id===t.groupingColumnId,n.getIsPlaceholder=()=>!n.getIsGrouped()&&e.getIsGrouped(),n.getIsAggregated=()=>{var r;return!n.getIsGrouped()&&!n.getIsPlaceholder()&&!!((r=t.subRows)!=null&&r.length)}}};function $f(n,e,t){if(!(e!=null&&e.length)||!t)return n;const i=n.filter(s=>!e.includes(s.id));return t==="remove"?i:[...e.map(s=>n.find(o=>o.id===s)).filter(Boolean),...i]}const Lf={getInitialState:n=>({columnOrder:[],...n}),getDefaultOptions:n=>({onColumnOrderChange:Ie("columnOrder",n)}),createColumn:(n,e)=>{n.getIndex=F(t=>[Ut(e,t)],t=>t.findIndex(i=>i.id===n.id),T(e.options,"debugColumns")),n.getIsFirstColumn=t=>{var i;return((i=Ut(e,t)[0])==null?void 0:i.id)===n.id},n.getIsLastColumn=t=>{var i;const r=Ut(e,t);return((i=r[r.length-1])==null?void 0:i.id)===n.id}},createTable:n=>{n.setColumnOrder=e=>n.options.onColumnOrderChange==null?void 0:n.options.onColumnOrderChange(e),n.resetColumnOrder=e=>{var t;n.setColumnOrder(e?[]:(t=n.initialState.columnOrder)!=null?t:[])},n._getOrderColumnsFn=F(()=>[n.getState().columnOrder,n.getState().grouping,n.options.groupedColumnMode],(e,t,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const o=[...e],l=[...r];for(;l.length&&o.length;){const a=o.shift(),u=l.findIndex(c=>c.id===a);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return $f(s,t,i)},T(n.options,"debugTable"))}},Ai=()=>({left:[],right:[]}),Bf={getInitialState:n=>({columnPinning:Ai(),...n}),getDefaultOptions:n=>({onColumnPinningChange:Ie("columnPinning",n)}),createColumn:(n,e)=>{n.pin=t=>{const i=n.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,o;if(t==="right"){var l,a;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(d=>!(i!=null&&i.includes(d))),right:[...((a=r==null?void 0:r.right)!=null?a:[]).filter(d=>!(i!=null&&i.includes(d))),...i]}}if(t==="left"){var u,c;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(d=>!(i!=null&&i.includes(d))),...i],right:((c=r==null?void 0:r.right)!=null?c:[]).filter(d=>!(i!=null&&i.includes(d)))}}return{left:((s=r==null?void 0:r.left)!=null?s:[]).filter(d=>!(i!=null&&i.includes(d))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(d=>!(i!=null&&i.includes(d)))}})},n.getCanPin=()=>n.getLeafColumns().some(i=>{var r,s,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),n.getIsPinned=()=>{const t=n.getLeafColumns().map(l=>l.id),{left:i,right:r}=e.getState().columnPinning,s=t.some(l=>i==null?void 0:i.includes(l)),o=t.some(l=>r==null?void 0:r.includes(l));return s?"left":o?"right":!1},n.getPinnedIndex=()=>{var t,i;const r=n.getIsPinned();return r?(t=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(n.id))!=null?t:-1:0}},createRow:(n,e)=>{n.getCenterVisibleCells=F(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,i,r)=>{const s=[...i??[],...r??[]];return t.filter(o=>!s.includes(o.column.id))},T(e.options,"debugRows")),n.getLeftVisibleCells=F(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left],(t,i)=>(i??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),T(e.options,"debugRows")),n.getRightVisibleCells=F(()=>[n._getAllVisibleCells(),e.getState().columnPinning.right],(t,i)=>(i??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),T(e.options,"debugRows"))},createTable:n=>{n.setColumnPinning=e=>n.options.onColumnPinningChange==null?void 0:n.options.onColumnPinningChange(e),n.resetColumnPinning=e=>{var t,i;return n.setColumnPinning(e?Ai():(t=(i=n.initialState)==null?void 0:i.columnPinning)!=null?t:Ai())},n.getIsSomeColumnsPinned=e=>{var t;const i=n.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((t=i[e])!=null&&t.length)},n.getLeftLeafColumns=F(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left],(e,t)=>(t??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),T(n.options,"debugColumns")),n.getRightLeafColumns=F(()=>[n.getAllLeafColumns(),n.getState().columnPinning.right],(e,t)=>(t??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),T(n.options,"debugColumns")),n.getCenterLeafColumns=F(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,i)=>{const r=[...t??[],...i??[]];return e.filter(s=>!r.includes(s.id))},T(n.options,"debugColumns"))}},mn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Di=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Vf={getDefaultColumnDef:()=>mn,getInitialState:n=>({columnSizing:{},columnSizingInfo:Di(),...n}),getDefaultOptions:n=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ie("columnSizing",n),onColumnSizingInfoChange:Ie("columnSizingInfo",n)}),createColumn:(n,e)=>{n.getSize=()=>{var t,i,r;const s=e.getState().columnSizing[n.id];return Math.min(Math.max((t=n.columnDef.minSize)!=null?t:mn.minSize,(i=s??n.columnDef.size)!=null?i:mn.size),(r=n.columnDef.maxSize)!=null?r:mn.maxSize)},n.getStart=F(t=>[t,Ut(e,t),e.getState().columnSizing],(t,i)=>i.slice(0,n.getIndex(t)).reduce((r,s)=>r+s.getSize(),0),T(e.options,"debugColumns")),n.getAfter=F(t=>[t,Ut(e,t),e.getState().columnSizing],(t,i)=>i.slice(n.getIndex(t)+1).reduce((r,s)=>r+s.getSize(),0),T(e.options,"debugColumns")),n.resetSize=()=>{e.setColumnSizing(t=>{let{[n.id]:i,...r}=t;return r})},n.getCanResize=()=>{var t,i;return((t=n.columnDef.enableResizing)!=null?t:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},n.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===n.id},createHeader:(n,e)=>{n.getSize=()=>{let t=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;t+=(s=r.column.getSize())!=null?s:0}};return i(n),t},n.getStart=()=>{if(n.index>0){const t=n.headerGroup.headers[n.index-1];return t.getStart()+t.getSize()}return 0},n.getResizeHandler=t=>{const i=e.getColumn(n.column.id),r=i==null?void 0:i.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),Pi(s)&&s.touches&&s.touches.length>1))return;const o=n.getSize(),l=n?n.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[i.id,i.getSize()]],a=Pi(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(m,w)=>{typeof w=="number"&&(e.setColumnSizingInfo(y=>{var C,x;const A=e.options.columnResizeDirection==="rtl"?-1:1,N=(w-((C=y==null?void 0:y.startOffset)!=null?C:0))*A,_=Math.max(N/((x=y==null?void 0:y.startSize)!=null?x:0),-.999999);return y.columnSizingStart.forEach(O=>{let[B,ce]=O;u[B]=Math.round(Math.max(ce+ce*_,0)*100)/100}),{...y,deltaOffset:N,deltaPercentage:_}}),(e.options.columnResizeMode==="onChange"||m==="end")&&e.setColumnSizing(y=>({...y,...u})))},d=m=>c("move",m),f=m=>{c("end",m),e.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=t||typeof document<"u"?document:null,p={moveHandler:m=>d(m.clientX),upHandler:m=>{g==null||g.removeEventListener("mousemove",p.moveHandler),g==null||g.removeEventListener("mouseup",p.upHandler),f(m.clientX)}},v={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),d(m.touches[0].clientX),!1),upHandler:m=>{var w;g==null||g.removeEventListener("touchmove",v.moveHandler),g==null||g.removeEventListener("touchend",v.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),f((w=m.touches[0])==null?void 0:w.clientX)}},h=zf()?{passive:!1}:!1;Pi(s)?(g==null||g.addEventListener("touchmove",v.moveHandler,h),g==null||g.addEventListener("touchend",v.upHandler,h)):(g==null||g.addEventListener("mousemove",p.moveHandler,h),g==null||g.addEventListener("mouseup",p.upHandler,h)),e.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:n=>{n.setColumnSizing=e=>n.options.onColumnSizingChange==null?void 0:n.options.onColumnSizingChange(e),n.setColumnSizingInfo=e=>n.options.onColumnSizingInfoChange==null?void 0:n.options.onColumnSizingInfoChange(e),n.resetColumnSizing=e=>{var t;n.setColumnSizing(e?{}:(t=n.initialState.columnSizing)!=null?t:{})},n.resetHeaderSizeInfo=e=>{var t;n.setColumnSizingInfo(e?Di():(t=n.initialState.columnSizingInfo)!=null?t:Di())},n.getTotalSize=()=>{var e,t;return(e=(t=n.getHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getLeftTotalSize=()=>{var e,t;return(e=(t=n.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getCenterTotalSize=()=>{var e,t;return(e=(t=n.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},n.getRightTotalSize=()=>{var e,t;return(e=(t=n.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let yn=null;function zf(){if(typeof yn=="boolean")return yn;let n=!1;try{const e={get passive(){return n=!0,!1}},t=()=>{};window.addEventListener("test",t,e),window.removeEventListener("test",t)}catch{n=!1}return yn=n,yn}function Pi(n){return n.type==="touchstart"}const jf={getInitialState:n=>({columnVisibility:{},...n}),getDefaultOptions:n=>({onColumnVisibilityChange:Ie("columnVisibility",n)}),createColumn:(n,e)=>{n.toggleVisibility=t=>{n.getCanHide()&&e.setColumnVisibility(i=>({...i,[n.id]:t??!n.getIsVisible()}))},n.getIsVisible=()=>{var t,i;const r=n.columns;return(t=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[n.id])!=null?t:!0},n.getCanHide=()=>{var t,i;return((t=n.columnDef.enableHiding)!=null?t:!0)&&((i=e.options.enableHiding)!=null?i:!0)},n.getToggleVisibilityHandler=()=>t=>{n.toggleVisibility==null||n.toggleVisibility(t.target.checked)}},createRow:(n,e)=>{n._getAllVisibleCells=F(()=>[n.getAllCells(),e.getState().columnVisibility],t=>t.filter(i=>i.column.getIsVisible()),T(e.options,"debugRows")),n.getVisibleCells=F(()=>[n.getLeftVisibleCells(),n.getCenterVisibleCells(),n.getRightVisibleCells()],(t,i,r)=>[...t,...i,...r],T(e.options,"debugRows"))},createTable:n=>{const e=(t,i)=>F(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),T(n.options,"debugColumns"));n.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>n.getAllFlatColumns()),n.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>n.getAllLeafColumns()),n.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>n.getLeftLeafColumns()),n.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>n.getRightLeafColumns()),n.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>n.getCenterLeafColumns()),n.setColumnVisibility=t=>n.options.onColumnVisibilityChange==null?void 0:n.options.onColumnVisibilityChange(t),n.resetColumnVisibility=t=>{var i;n.setColumnVisibility(t?{}:(i=n.initialState.columnVisibility)!=null?i:{})},n.toggleAllColumnsVisible=t=>{var i;t=(i=t)!=null?i:!n.getIsAllColumnsVisible(),n.setColumnVisibility(n.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},n.getIsAllColumnsVisible=()=>!n.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),n.getIsSomeColumnsVisible=()=>n.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),n.getToggleAllColumnsVisibilityHandler=()=>t=>{var i;n.toggleAllColumnsVisible((i=t.target)==null?void 0:i.checked)}}};function Ut(n,e){return e?e==="center"?n.getCenterVisibleLeafColumns():e==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns()}const Uf={createTable:n=>{n._getGlobalFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,"__global__"),n.getGlobalFacetedRowModel=()=>n.options.manualFiltering||!n._getGlobalFacetedRowModel?n.getPreFilteredRowModel():n._getGlobalFacetedRowModel(),n._getGlobalFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,"__global__"),n.getGlobalFacetedUniqueValues=()=>n._getGlobalFacetedUniqueValues?n._getGlobalFacetedUniqueValues():new Map,n._getGlobalFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,"__global__"),n.getGlobalFacetedMinMaxValues=()=>{if(n._getGlobalFacetedMinMaxValues)return n._getGlobalFacetedMinMaxValues()}}},Gf={getInitialState:n=>({globalFilter:void 0,...n}),getDefaultOptions:n=>({onGlobalFilterChange:Ie("globalFilter",n),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var t;const i=(t=n.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[e.id])==null?void 0:t.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(n,e)=>{n.getCanGlobalFilter=()=>{var t,i,r,s;return((t=n.columnDef.enableGlobalFilter)!=null?t:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(n))!=null?s:!0)&&!!n.accessorFn}},createTable:n=>{n.getGlobalAutoFilterFn=()=>je.includesString,n.getGlobalFilterFn=()=>{var e,t;const{globalFilterFn:i}=n.options;return ci(i)?i:i==="auto"?n.getGlobalAutoFilterFn():(e=(t=n.options.filterFns)==null?void 0:t[i])!=null?e:je[i]},n.setGlobalFilter=e=>{n.options.onGlobalFilterChange==null||n.options.onGlobalFilterChange(e)},n.resetGlobalFilter=e=>{n.setGlobalFilter(e?void 0:n.initialState.globalFilter)}}},Hf={getInitialState:n=>({expanded:{},...n}),getDefaultOptions:n=>({onExpandedChange:Ie("expanded",n),paginateExpandedRows:!0}),createTable:n=>{let e=!1,t=!1;n._autoResetExpanded=()=>{var i,r;if(!e){n._queue(()=>{e=!0});return}if((i=(r=n.options.autoResetAll)!=null?r:n.options.autoResetExpanded)!=null?i:!n.options.manualExpanding){if(t)return;t=!0,n._queue(()=>{n.resetExpanded(),t=!1})}},n.setExpanded=i=>n.options.onExpandedChange==null?void 0:n.options.onExpandedChange(i),n.toggleAllRowsExpanded=i=>{i??!n.getIsAllRowsExpanded()?n.setExpanded(!0):n.setExpanded({})},n.resetExpanded=i=>{var r,s;n.setExpanded(i?{}:(r=(s=n.initialState)==null?void 0:s.expanded)!=null?r:{})},n.getCanSomeRowsExpand=()=>n.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),n.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),n.toggleAllRowsExpanded()},n.getIsSomeRowsExpanded=()=>{const i=n.getState().expanded;return i===!0||Object.values(i).some(Boolean)},n.getIsAllRowsExpanded=()=>{const i=n.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||n.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},n.getExpandedDepth=()=>{let i=0;return(n.getState().expanded===!0?Object.keys(n.getRowModel().rowsById):Object.keys(n.getState().expanded)).forEach(s=>{const o=s.split(".");i=Math.max(i,o.length)}),i},n.getPreExpandedRowModel=()=>n.getSortedRowModel(),n.getExpandedRowModel=()=>(!n._getExpandedRowModel&&n.options.getExpandedRowModel&&(n._getExpandedRowModel=n.options.getExpandedRowModel(n)),n.options.manualExpanding||!n._getExpandedRowModel?n.getPreExpandedRowModel():n._getExpandedRowModel())},createRow:(n,e)=>{n.toggleExpanded=t=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[n.id]);let o={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=i,t=(r=t)!=null?r:!s,!s&&t)return{...o,[n.id]:!0};if(s&&!t){const{[n.id]:l,...a}=o;return a}return i})},n.getIsExpanded=()=>{var t;const i=e.getState().expanded;return!!((t=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(n))!=null?t:i===!0||i!=null&&i[n.id])},n.getCanExpand=()=>{var t,i,r;return(t=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(n))!=null?t:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=n.subRows)!=null&&r.length)},n.getIsAllParentsExpanded=()=>{let t=!0,i=n;for(;t&&i.parentId;)i=e.getRow(i.parentId,!0),t=i.getIsExpanded();return t},n.getToggleExpandedHandler=()=>{const t=n.getCanExpand();return()=>{t&&n.toggleExpanded()}}}},or=0,lr=10,Ni=()=>({pageIndex:or,pageSize:lr}),Wf={getInitialState:n=>({...n,pagination:{...Ni(),...n==null?void 0:n.pagination}}),getDefaultOptions:n=>({onPaginationChange:Ie("pagination",n)}),createTable:n=>{let e=!1,t=!1;n._autoResetPageIndex=()=>{var i,r;if(!e){n._queue(()=>{e=!0});return}if((i=(r=n.options.autoResetAll)!=null?r:n.options.autoResetPageIndex)!=null?i:!n.options.manualPagination){if(t)return;t=!0,n._queue(()=>{n.resetPageIndex(),t=!1})}},n.setPagination=i=>{const r=s=>Ke(i,s);return n.options.onPaginationChange==null?void 0:n.options.onPaginationChange(r)},n.resetPagination=i=>{var r;n.setPagination(i?Ni():(r=n.initialState.pagination)!=null?r:Ni())},n.setPageIndex=i=>{n.setPagination(r=>{let s=Ke(i,r.pageIndex);const o=typeof n.options.pageCount>"u"||n.options.pageCount===-1?Number.MAX_SAFE_INTEGER:n.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...r,pageIndex:s}})},n.resetPageIndex=i=>{var r,s;n.setPageIndex(i?or:(r=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:or)},n.resetPageSize=i=>{var r,s;n.setPageSize(i?lr:(r=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:lr)},n.setPageSize=i=>{n.setPagination(r=>{const s=Math.max(1,Ke(i,r.pageSize)),o=r.pageSize*r.pageIndex,l=Math.floor(o/s);return{...r,pageIndex:l,pageSize:s}})},n.setPageCount=i=>n.setPagination(r=>{var s;let o=Ke(i,(s=n.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),n.getPageOptions=F(()=>[n.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,o)=>o)),r},T(n.options,"debugTable")),n.getCanPreviousPage=()=>n.getState().pagination.pageIndex>0,n.getCanNextPage=()=>{const{pageIndex:i}=n.getState().pagination,r=n.getPageCount();return r===-1?!0:r===0?!1:i<r-1},n.previousPage=()=>n.setPageIndex(i=>i-1),n.nextPage=()=>n.setPageIndex(i=>i+1),n.firstPage=()=>n.setPageIndex(0),n.lastPage=()=>n.setPageIndex(n.getPageCount()-1),n.getPrePaginationRowModel=()=>n.getExpandedRowModel(),n.getPaginationRowModel=()=>(!n._getPaginationRowModel&&n.options.getPaginationRowModel&&(n._getPaginationRowModel=n.options.getPaginationRowModel(n)),n.options.manualPagination||!n._getPaginationRowModel?n.getPrePaginationRowModel():n._getPaginationRowModel()),n.getPageCount=()=>{var i;return(i=n.options.pageCount)!=null?i:Math.ceil(n.getRowCount()/n.getState().pagination.pageSize)},n.getRowCount=()=>{var i;return(i=n.options.rowCount)!=null?i:n.getPrePaginationRowModel().rows.length}}},Oi=()=>({top:[],bottom:[]}),Yf={getInitialState:n=>({rowPinning:Oi(),...n}),getDefaultOptions:n=>({onRowPinningChange:Ie("rowPinning",n)}),createRow:(n,e)=>{n.pin=(t,i,r)=>{const s=i?n.getLeafRows().map(a=>{let{id:u}=a;return u}):[],o=r?n.getParentRows().map(a=>{let{id:u}=a;return u}):[],l=new Set([...o,n.id,...s]);e.setRowPinning(a=>{var u,c;if(t==="bottom"){var d,f;return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((f=a==null?void 0:a.bottom)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(t==="top"){var g,p;return{top:[...((g=a==null?void 0:a.top)!=null?g:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((p=a==null?void 0:a.bottom)!=null?p:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((c=a==null?void 0:a.bottom)!=null?c:[]).filter(v=>!(l!=null&&l.has(v)))}})},n.getCanPin=()=>{var t;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(n):(t=i??r)!=null?t:!0},n.getIsPinned=()=>{const t=[n.id],{top:i,bottom:r}=e.getState().rowPinning,s=t.some(l=>i==null?void 0:i.includes(l)),o=t.some(l=>r==null?void 0:r.includes(l));return s?"top":o?"bottom":!1},n.getPinnedIndex=()=>{var t,i;const r=n.getIsPinned();if(!r)return-1;const s=(t=e._getPinnedRows(r))==null?void 0:t.map(o=>{let{id:l}=o;return l});return(i=s==null?void 0:s.indexOf(n.id))!=null?i:-1}},createTable:n=>{n.setRowPinning=e=>n.options.onRowPinningChange==null?void 0:n.options.onRowPinningChange(e),n.resetRowPinning=e=>{var t,i;return n.setRowPinning(e?Oi():(t=(i=n.initialState)==null?void 0:i.rowPinning)!=null?t:Oi())},n.getIsSomeRowsPinned=e=>{var t;const i=n.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((t=i[e])!=null&&t.length)},n._getPinnedRows=F(e=>[n.getRowModel().rows,n.getState().rowPinning[e],e],(e,t,i)=>{var r;return((r=n.options.keepPinnedRows)==null||r?(t??[]).map(o=>{const l=n.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:i}))},T(n.options,"debugRows")),n.getTopRows=()=>n._getPinnedRows("top"),n.getBottomRows=()=>n._getPinnedRows("bottom"),n.getCenterRows=F(()=>[n.getRowModel().rows,n.getState().rowPinning.top,n.getState().rowPinning.bottom],(e,t,i)=>{const r=new Set([...t??[],...i??[]]);return e.filter(s=>!r.has(s.id))},T(n.options,"debugRows"))}},Zf={getInitialState:n=>({rowSelection:{},...n}),getDefaultOptions:n=>({onRowSelectionChange:Ie("rowSelection",n),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:n=>{n.setRowSelection=e=>n.options.onRowSelectionChange==null?void 0:n.options.onRowSelectionChange(e),n.resetRowSelection=e=>{var t;return n.setRowSelection(e?{}:(t=n.initialState.rowSelection)!=null?t:{})},n.toggleAllRowsSelected=e=>{n.setRowSelection(t=>{e=typeof e<"u"?e:!n.getIsAllRowsSelected();const i={...t},r=n.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},n.toggleAllPageRowsSelected=e=>n.setRowSelection(t=>{const i=typeof e<"u"?e:!n.getIsAllPageRowsSelected(),r={...t};return n.getRowModel().rows.forEach(s=>{ar(r,s.id,i,!0,n)}),r}),n.getPreSelectedRowModel=()=>n.getCoreRowModel(),n.getSelectedRowModel=F(()=>[n.getState().rowSelection,n.getCoreRowModel()],(e,t)=>Object.keys(e).length?ki(n,t):{rows:[],flatRows:[],rowsById:{}},T(n.options,"debugTable")),n.getFilteredSelectedRowModel=F(()=>[n.getState().rowSelection,n.getFilteredRowModel()],(e,t)=>Object.keys(e).length?ki(n,t):{rows:[],flatRows:[],rowsById:{}},T(n.options,"debugTable")),n.getGroupedSelectedRowModel=F(()=>[n.getState().rowSelection,n.getSortedRowModel()],(e,t)=>Object.keys(e).length?ki(n,t):{rows:[],flatRows:[],rowsById:{}},T(n.options,"debugTable")),n.getIsAllRowsSelected=()=>{const e=n.getFilteredRowModel().flatRows,{rowSelection:t}=n.getState();let i=!!(e.length&&Object.keys(t).length);return i&&e.some(r=>r.getCanSelect()&&!t[r.id])&&(i=!1),i},n.getIsAllPageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:t}=n.getState();let i=!!e.length;return i&&e.some(r=>!t[r.id])&&(i=!1),i},n.getIsSomeRowsSelected=()=>{var e;const t=Object.keys((e=n.getState().rowSelection)!=null?e:{}).length;return t>0&&t<n.getFilteredRowModel().flatRows.length},n.getIsSomePageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows;return n.getIsAllPageRowsSelected()?!1:e.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},n.getToggleAllRowsSelectedHandler=()=>e=>{n.toggleAllRowsSelected(e.target.checked)},n.getToggleAllPageRowsSelectedHandler=()=>e=>{n.toggleAllPageRowsSelected(e.target.checked)}},createRow:(n,e)=>{n.toggleSelected=(t,i)=>{const r=n.getIsSelected();e.setRowSelection(s=>{var o;if(t=typeof t<"u"?t:!r,n.getCanSelect()&&r===t)return s;const l={...s};return ar(l,n.id,t,(o=i==null?void 0:i.selectChildren)!=null?o:!0,e),l})},n.getIsSelected=()=>{const{rowSelection:t}=e.getState();return rs(n,t)},n.getIsSomeSelected=()=>{const{rowSelection:t}=e.getState();return ur(n,t)==="some"},n.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=e.getState();return ur(n,t)==="all"},n.getCanSelect=()=>{var t;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(n):(t=e.options.enableRowSelection)!=null?t:!0},n.getCanSelectSubRows=()=>{var t;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(n):(t=e.options.enableSubRowSelection)!=null?t:!0},n.getCanMultiSelect=()=>{var t;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(n):(t=e.options.enableMultiRowSelection)!=null?t:!0},n.getToggleSelectedHandler=()=>{const t=n.getCanSelect();return i=>{var r;t&&n.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},ar=(n,e,t,i,r)=>{var s;const o=r.getRow(e,!0);t?(o.getCanMultiSelect()||Object.keys(n).forEach(l=>delete n[l]),o.getCanSelect()&&(n[e]=!0)):delete n[e],i&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>ar(n,l.id,t,i,r))};function ki(n,e){const t=n.getState().rowSelection,i=[],r={},s=function(o,l){return o.map(a=>{var u;const c=rs(a,t);if(c&&(i.push(a),r[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:s(a.subRows)}),c)return a}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function rs(n,e){var t;return(t=e[n.id])!=null?t:!1}function ur(n,e,t){var i;if(!((i=n.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return n.subRows.forEach(o=>{if(!(s&&!r)&&(o.getCanSelect()&&(rs(o,e)?s=!0:r=!1),o.subRows&&o.subRows.length)){const l=ur(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const cr=/([0-9]+)/gm,Xf=(n,e,t)=>Wl(Qe(n.getValue(t)).toLowerCase(),Qe(e.getValue(t)).toLowerCase()),Kf=(n,e,t)=>Wl(Qe(n.getValue(t)),Qe(e.getValue(t))),Jf=(n,e,t)=>ss(Qe(n.getValue(t)).toLowerCase(),Qe(e.getValue(t)).toLowerCase()),qf=(n,e,t)=>ss(Qe(n.getValue(t)),Qe(e.getValue(t))),Qf=(n,e,t)=>{const i=n.getValue(t),r=e.getValue(t);return i>r?1:i<r?-1:0},ed=(n,e,t)=>ss(n.getValue(t),e.getValue(t));function ss(n,e){return n===e?0:n>e?1:-1}function Qe(n){return typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?"":String(n):typeof n=="string"?n:""}function Wl(n,e){const t=n.split(cr).filter(Boolean),i=e.split(cr).filter(Boolean);for(;t.length&&i.length;){const r=t.shift(),s=i.shift(),o=parseInt(r,10),l=parseInt(s,10),a=[o,l].sort();if(isNaN(a[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return t.length-i.length}const Ft={alphanumeric:Xf,alphanumericCaseSensitive:Kf,text:Jf,textCaseSensitive:qf,datetime:Qf,basic:ed},td={getInitialState:n=>({sorting:[],...n}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:n=>({onSortingChange:Ie("sorting",n),isMultiSortEvent:e=>e.shiftKey}),createColumn:(n,e)=>{n.getAutoSortingFn=()=>{const t=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of t){const s=r==null?void 0:r.getValue(n.id);if(Object.prototype.toString.call(s)==="[object Date]")return Ft.datetime;if(typeof s=="string"&&(i=!0,s.split(cr).length>1))return Ft.alphanumeric}return i?Ft.text:Ft.basic},n.getAutoSortDir=()=>{const t=e.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(n.id))=="string"?"asc":"desc"},n.getSortingFn=()=>{var t,i;if(!n)throw new Error;return ci(n.columnDef.sortingFn)?n.columnDef.sortingFn:n.columnDef.sortingFn==="auto"?n.getAutoSortingFn():(t=(i=e.options.sortingFns)==null?void 0:i[n.columnDef.sortingFn])!=null?t:Ft[n.columnDef.sortingFn]},n.toggleSorting=(t,i)=>{const r=n.getNextSortingOrder(),s=typeof t<"u"&&t!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(g=>g.id===n.id),a=o==null?void 0:o.findIndex(g=>g.id===n.id);let u=[],c,d=s?t:r==="desc";if(o!=null&&o.length&&n.getCanMultiSort()&&i?l?c="toggle":c="add":o!=null&&o.length&&a!==o.length-1?c="replace":l?c="toggle":c="replace",c==="toggle"&&(s||r||(c="remove")),c==="add"){var f;u=[...o,{id:n.id,desc:d}],u.splice(0,u.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(g=>g.id===n.id?{...g,desc:d}:g):c==="remove"?u=o.filter(g=>g.id!==n.id):u=[{id:n.id,desc:d}];return u})},n.getFirstSortDir=()=>{var t,i;return((t=(i=n.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?t:n.getAutoSortDir()==="desc")?"desc":"asc"},n.getNextSortingOrder=t=>{var i,r;const s=n.getFirstSortDir(),o=n.getIsSorted();return o?o!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(t&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":s},n.getCanSort=()=>{var t,i;return((t=n.columnDef.enableSorting)!=null?t:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!n.accessorFn},n.getCanMultiSort=()=>{var t,i;return(t=(i=n.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?t:!!n.accessorFn},n.getIsSorted=()=>{var t;const i=(t=e.getState().sorting)==null?void 0:t.find(r=>r.id===n.id);return i?i.desc?"desc":"asc":!1},n.getSortIndex=()=>{var t,i;return(t=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===n.id))!=null?t:-1},n.clearSorting=()=>{e.setSorting(t=>t!=null&&t.length?t.filter(i=>i.id!==n.id):[])},n.getToggleSortingHandler=()=>{const t=n.getCanSort();return i=>{t&&(i.persist==null||i.persist(),n.toggleSorting==null||n.toggleSorting(void 0,n.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:n=>{n.setSorting=e=>n.options.onSortingChange==null?void 0:n.options.onSortingChange(e),n.resetSorting=e=>{var t,i;n.setSorting(e?[]:(t=(i=n.initialState)==null?void 0:i.sorting)!=null?t:[])},n.getPreSortedRowModel=()=>n.getGroupedRowModel(),n.getSortedRowModel=()=>(!n._getSortedRowModel&&n.options.getSortedRowModel&&(n._getSortedRowModel=n.options.getSortedRowModel(n)),n.options.manualSorting||!n._getSortedRowModel?n.getPreSortedRowModel():n._getSortedRowModel())}},nd=[xf,jf,Lf,Bf,Ef,_f,Uf,Gf,td,Tf,Hf,Wf,Yf,Zf,Vf];function id(n){var e,t;const i=[...nd,...(e=n._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((f,g)=>Object.assign(f,g.getDefaultOptions==null?void 0:g.getDefaultOptions(r)),{}),o=f=>r.options.mergeOptions?r.options.mergeOptions(s,f):{...s,...f};let a={...{},...(t=n.initialState)!=null?t:{}};r._features.forEach(f=>{var g;a=(g=f.getInitialState==null?void 0:f.getInitialState(a))!=null?g:a});const u=[];let c=!1;const d={_features:i,options:{...s,...n},initialState:a,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const g=Ke(f,r.options);r.options=o(g)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,g,p)=>{var v;return(v=r.options.getRowId==null?void 0:r.options.getRowId(f,g,p))!=null?v:`${p?[p.id,g].join("."):g}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,g)=>{let p=(g?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!p&&(p=r.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:F(()=>[r.options.defaultColumn],f=>{var g;return f=(g=f)!=null?g:{},{header:p=>{const v=p.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:p=>{var v,h;return(v=(h=p.renderValue())==null||h.toString==null?void 0:h.toString())!=null?v:null},...r._features.reduce((p,v)=>Object.assign(p,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},T(n,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:F(()=>[r._getColumnDefs()],f=>{const g=function(p,v,h){return h===void 0&&(h=0),p.map(m=>{const w=bf(r,m,h,v),y=m;return w.columns=y.columns?g(y.columns,w,h+1):[],w})};return g(f)},T(n,"debugColumns")),getAllFlatColumns:F(()=>[r.getAllColumns()],f=>f.flatMap(g=>g.getFlatColumns()),T(n,"debugColumns")),_getAllFlatColumnsById:F(()=>[r.getAllFlatColumns()],f=>f.reduce((g,p)=>(g[p.id]=p,g),{}),T(n,"debugColumns")),getAllLeafColumns:F(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,g)=>{let p=f.flatMap(v=>v.getLeafColumns());return g(p)},T(n,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,d);for(let f=0;f<r._features.length;f++){const g=r._features[f];g==null||g.createTable==null||g.createTable(r)}return r}function rd(){return n=>F(()=>[n.options.data],e=>{const t={rows:[],flatRows:[],rowsById:{}},i=function(r,s,o){s===void 0&&(s=0);const l=[];for(let u=0;u<r.length;u++){const c=Rf(n,n._getRowId(r[u],u,o),r[u],u,s,void 0,o==null?void 0:o.id);if(t.flatRows.push(c),t.rowsById[c.id]=c,l.push(c),n.options.getSubRows){var a;c.originalSubRows=n.options.getSubRows(r[u],u),(a=c.originalSubRows)!=null&&a.length&&(c.subRows=i(c.originalSubRows,s+1,c))}}return l};return t.rows=i(e),t},T(n.options,"debugTable","getRowModel",()=>n._autoResetPageIndex()))}function sd(){return n=>F(()=>[n.getState().sorting,n.getPreSortedRowModel()],(e,t)=>{if(!t.rows.length||!(e!=null&&e.length))return t;const i=n.getState().sorting,r=[],s=i.filter(a=>{var u;return(u=n.getColumn(a.id))==null?void 0:u.getCanSort()}),o={};s.forEach(a=>{const u=n.getColumn(a.id);u&&(o[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=a=>{const u=a.map(c=>({...c}));return u.sort((c,d)=>{for(let g=0;g<s.length;g+=1){var f;const p=s[g],v=o[p.id],h=v.sortUndefined,m=(f=p==null?void 0:p.desc)!=null?f:!1;let w=0;if(h){const y=c.getValue(p.id),C=d.getValue(p.id),x=y===void 0,A=C===void 0;if(x||A){if(h==="first")return x?-1:1;if(h==="last")return x?1:-1;w=x&&A?0:x?h:-h}}if(w===0&&(w=v.sortingFn(c,d,p.id)),w!==0)return m&&(w*=-1),v.invertSorting&&(w*=-1),w}return c.index-d.index}),u.forEach(c=>{var d;r.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=l(c.subRows))}),u};return{rows:l(t.rows),flatRows:r,rowsById:t.rowsById}},T(n.options,"debugTable","getSortedRowModel",()=>n._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ys(n,e){return n?od(n)?I.createElement(n,e):n:null}function od(n){return ld(n)||typeof n=="function"||ad(n)}function ld(n){return typeof n=="function"&&(()=>{const e=Object.getPrototypeOf(n);return e.prototype&&e.prototype.isReactComponent})()}function ad(n){return typeof n=="object"&&typeof n.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(n.$$typeof.description)}function ud(n){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...n},[t]=I.useState(()=>({current:id(e)})),[i,r]=I.useState(()=>t.current.initialState);return t.current.setOptions(s=>({...s,...n,state:{...i,...n.state},onStateChange:o=>{r(o),n.onStateChange==null||n.onStateChange(o)}})),t.current}function cd(n){return Sl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 5.56L2.413 5h11.194l.393.54L8.373 11h-.827L2 5.56z"}}]})(n)}function fd(n){return Sl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(n)}const dd=(n,e)=>e.some(t=>n instanceof t);let Zs,Xs;function hd(){return Zs||(Zs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pd(){return Xs||(Xs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yl=new WeakMap,fr=new WeakMap,Zl=new WeakMap,Fi=new WeakMap,os=new WeakMap;function gd(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(qe(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Yl.set(t,n)}).catch(()=>{}),os.set(e,n),e}function md(n){if(fr.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});fr.set(n,e)}let dr={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fr.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Zl.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qe(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yd(n){dr=n(dr)}function vd(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ti(this),e,...t);return Zl.set(i,e.sort?e.sort():[e]),qe(i)}:pd().includes(n)?function(...e){return n.apply(Ti(this),e),qe(Yl.get(this))}:function(...e){return qe(n.apply(Ti(this),e))}}function wd(n){return typeof n=="function"?vd(n):(n instanceof IDBTransaction&&md(n),dd(n,hd())?new Proxy(n,dr):n)}function qe(n){if(n instanceof IDBRequest)return gd(n);if(Fi.has(n))return Fi.get(n);const e=wd(n);return e!==n&&(Fi.set(n,e),os.set(e,n)),e}const Ti=n=>os.get(n);function Xl(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),l=qe(o);return i&&o.addEventListener("upgradeneeded",a=>{i(qe(o.result),a.oldVersion,a.newVersion,qe(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Cd=["get","getKey","getAll","getAllKeys","count"],Sd=["put","add","delete","clear"],$i=new Map;function Ks(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($i.get(e))return $i.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Sd.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Cd.includes(t)))return;const s=async function(o,...l){const a=this.transaction(o,r?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),r&&a.done]))[0]};return $i.set(e,s),s}yd(n=>({...n,get:(e,t,i)=>Ks(e,t)||n.get(e,t,i),has:(e,t)=>!!Ks(e,t)||n.has(e,t)}));const Yt="events";async function fi(){return Xl(Yt,1,{upgrade(n){n.createObjectStore(Yt,{keyPath:"id",autoIncrement:!1})}})}async function Kl(n){return(await(await fi()).get(Yt,n)).events}const lt="sessions";async function ln(){return Xl(lt,1,{upgrade(n){n.createObjectStore(lt,{keyPath:"id",autoIncrement:!1})}})}async function bd(n,e){await(await fi()).put(Yt,{id:n.id,events:e}),await(await ln()).add(lt,n)}async function xd(n,e){await fi(),await(await ln()).put(lt,n)}async function Jl(n){return(await ln()).get(lt,n)}async function Rd(){return(await(await ln()).getAll(lt)).sort((t,i)=>i.createTimestamp-t.createTimestamp)}async function Ed(n){const e=await fi(),t=await ln(),i=e.transaction(Yt,"readwrite"),r=t.transaction(lt,"readwrite"),s=[];for(const o of n)s.push(i.store.delete(o)),s.push(r.store.delete(o));await Promise.all(s).then(()=>Promise.all([i.done,r.done]))}async function _d(n){for(const e of n){const t=await Kl(e),i=await Jl(e),r=new Blob([JSON.stringify({session:i,events:t},null,2)],{type:"application/json"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=`${i.name}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}}const vn=vf(),Js=new bc;function Id(){const n=mc(),e=Rc(),t=I.useRef(null),[i,r]=I.useState([]),[s,o]=I.useState([{id:"createTimestamp",desc:!0}]),[l,a]=I.useState({}),[{pageIndex:u,pageSize:c},d]=I.useState({pageIndex:0,pageSize:10}),f={pageIndex:u,pageSize:c},g=y=>({rows:i.slice(y.pageIndex*y.pageSize,(y.pageIndex+1)*y.pageSize),pageCount:Math.ceil(i.length/y.pageSize)}),p=I.useMemo(()=>({pageIndex:u,pageSize:c}),[u,c]),v=I.useMemo(()=>[vn.display({id:"select",header:({table:y})=>S.jsx(sr,{isChecked:y.getIsAllRowsSelected(),isIndeterminate:y.getIsSomeRowsSelected(),onChange:y.getToggleAllRowsSelectedHandler()}),cell:({row:y})=>S.jsx(sr,{isChecked:y.getIsSelected(),isIndeterminate:y.getIsSomeSelected(),onChange:y.getToggleSelectedHandler()})}),vn.accessor(y=>y.name,{cell:y=>{const[C,x]=I.useState(!1);function A(){const{isEditing:N,getEditButtonProps:_}=of();return C&&!N&&S.jsx(bl,{position:"absolute",top:"0",right:"0",onClick:O=>O.stopPropagation(),children:S.jsx(kt,{"aria-label":"edit name",size:"sm",icon:S.jsx(cc,{}),variant:"ghost",..._()})})}return S.jsx(Pe,{onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),alignItems:"center",position:"relative",children:S.jsxs(Pl,{defaultValue:y.getValue(),isPreviewFocusable:!1,onSubmit:N=>{const _={...y.row.original,name:N};r(i.map(O=>O.id===_.id?_:O)),xd(_)},children:[S.jsx(Dl,{cursor:"pointer"}),S.jsx(A,{}),S.jsx(Al,{onClick:N=>N.stopPropagation()})]})})},header:"Name"}),vn.accessor(y=>y.createTimestamp,{id:"createTimestamp",cell:y=>new Date(y.getValue()).toLocaleString(),header:"Created Time",sortDescFirst:!0}),vn.accessor(y=>y.recorderVersion,{cell:y=>y.getValue(),header:"RRWEB Version"})],[i]),h=ud({columns:v,data:g(f).rows,getCoreRowModel:rd(),onPaginationChange:d,onRowSelectionChange:a,onSortingChange:o,getSortedRowModel:sd(),state:{pagination:p,sorting:s,rowSelection:l},manualPagination:!0,pageCount:g(f).pageCount}),m=async()=>{const y=await Rd();r(y)};I.useEffect(()=>{m(),Js.on(Bs.SessionUpdated,()=>{m()})},[]);const w=y=>{var A;const C=(A=y.target.files)==null?void 0:A[0];if(!C)return;const x=new FileReader;x.onload=async N=>{var _;try{const O=(_=N.target)==null?void 0:_.result,B=JSON.parse(O),ce=yf();B.session.id=ce,await bd(B.session,B.events),e({title:"Session imported",description:"The session was successfully imported.",status:"success",duration:3e3,isClosable:!0}),await m()}catch(O){console.error("Error uploading file:",O),e({title:"Error importing session",description:O.message,status:"error",duration:3e3,isClosable:!0})}},x.readAsText(C)};return S.jsxs(S.Fragment,{children:[S.jsxs(Pe,{justify:"flex-end",mb:4,children:[S.jsx(_i,{onClick:()=>{var y;(y=t.current)==null||y.click()},size:"sm",m:4,children:"Import Session"}),S.jsx("input",{type:"file",accept:"application/json",ref:t,style:{display:"none"},onChange:w})]}),S.jsx(hf,{fontSize:"md",children:S.jsxs($l,{variant:"simple",children:[S.jsx(df,{children:h.getHeaderGroups().map(y=>S.jsx(Gs,{children:y.headers.map(C=>{const x=C.column.columnDef.meta;return S.jsx(mf,{onClick:C.column.getToggleSortingHandler(),isNumeric:x==null?void 0:x.isNumeric,verticalAlign:"center",userSelect:"none",children:S.jsxs(Pe,{align:"center",children:[Ys(C.column.columnDef.header,C.getContext()),S.jsx(X.span,{pl:4,children:{asc:S.jsx(fd,{"aria-label":"sorted ascending"}),desc:S.jsx(cd,{"aria-label":"sorted descending"})}[C.column.getIsSorted()]??null})]})},C.id)})},y.id))}),S.jsx(pf,{children:h.getRowModel().rows.map(y=>S.jsx(Gs,{_hover:{cursor:"pointer"},children:y.getVisibleCells().map((C,x)=>{const A=C.column.columnDef.meta;return S.jsx(gf,{isNumeric:A==null?void 0:A.isNumeric,onClick:()=>{x!==0&&n(`/session/${y.original.id}`)},children:Ys(C.column.columnDef.cell,C.getContext())},C.id)})},y.id))})]})}),S.jsxs(Pe,{mt:4,children:[S.jsxs(Pe,{gap:16,align:"center",ml:4,children:[S.jsxs(Pe,{gap:1,children:[S.jsx(kt,{"aria-label":"Goto 1st Page",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:S.jsx(oc,{})}),S.jsx(kt,{"aria-label":"Goto Previous Page",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:S.jsx(lc,{})})]}),S.jsxs(Pe,{gap:1,fontSize:"md",children:[S.jsx(Ii,{children:"Page"}),S.jsx(Ii,{as:"b",w:12,children:`${h.getState().pagination.pageIndex+1} of ${h.getPageCount()}`})]}),S.jsx(Ol,{orientation:"vertical"}),S.jsxs(Pe,{gap:1,justify:"center",align:"center",fontSize:"md",children:[S.jsx(Ii,{w:28,children:"Go to page:"}),S.jsx(ns,{w:20,size:"md",type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:y=>{const C=y.target.value?Number(y.target.value)-1:0;h.setPageIndex(C)}})]}),S.jsxs(Pe,{gap:1,children:[S.jsx(kt,{"aria-label":"Goto Next Page",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:S.jsx(ac,{})}),S.jsx(kt,{"aria-label":"Goto last Page",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:S.jsx(uc,{})})]})]}),S.jsx(xc,{}),S.jsxs(Pe,{gap:8,align:"center",mr:4,children:[S.jsx(Fl,{variant:"outline",size:"md",value:h.getState().pagination.pageSize,onChange:y=>{h.setPageSize(Number(y.target.value))},children:[10,20,30,40,50].map(y=>S.jsxs("option",{value:y,children:["Show ",y," items"]},y))}),Object.keys(l).length>0&&S.jsxs(Pe,{gap:1,children:[S.jsx(_i,{mr:4,size:"md",colorScheme:"red",onClick:()=>{if(h.getSelectedRowModel().flatRows.length===0)return;const y=h.getSelectedRowModel().flatRows.map(C=>C.original.id);Ed(y).then(()=>{a({}),m(),Js.emit(Bs.SessionUpdated,{})})},children:"Delete"}),S.jsx(_i,{mr:4,size:"md",colorScheme:"green",onClick:()=>{const y=h.getSelectedRowModel().flatRows;y.length!==0&&_d(y.map(C=>C.original.id))},children:"Download"})]})]})]})]})}var Xn={},Md=Object.defineProperty,Ad=(n,e,t)=>e in n?Md(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qs=(n,e,t)=>Ad(n,typeof e!="symbol"?e+"":e,t);function Zt(){}function Qs(n,e){for(const t in e)n[t]=e[t];return n}function ql(n){return n()}function eo(){return Object.create(null)}function Nt(n){n.forEach(ql)}function Ql(n){return typeof n=="function"}function ls(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Dd(n){return Object.keys(n).length===0}function to(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Z(n,e){n.appendChild(e)}function We(n,e,t){n.insertBefore(e,t||null)}function ze(n){n.parentNode&&n.parentNode.removeChild(n)}function Li(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function we(n){return document.createElement(n)}function Kn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function at(n){return document.createTextNode(n)}function Me(){return at(" ")}function Pd(){return at("")}function Ct(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function L(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Nd(n){return Array.from(n.childNodes)}function Jn(n,e){e=""+e,n.data!==e&&(n.data=e)}function ye(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function Rt(n,e,t){n.classList.toggle(e,!!t)}function Od(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}let Xt;function Gt(n){Xt=n}function di(){if(!Xt)throw new Error("Function called outside component initialization");return Xt}function ea(n){di().$$.on_mount.push(n)}function kd(n){di().$$.after_update.push(n)}function ta(n){di().$$.on_destroy.push(n)}function Fd(){const n=di();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const s=Od(e,t,{cancelable:i});return r.slice().forEach(o=>{o.call(n,s)}),!s.defaultPrevented}return!0}}const mt=[],rt=[];let xt=[];const hr=[],Td=Promise.resolve();let pr=!1;function $d(){pr||(pr=!0,Td.then(na))}function gr(n){xt.push(n)}function Ld(n){hr.push(n)}const Bi=new Set;let pt=0;function na(){if(pt!==0)return;const n=Xt;do{try{for(;pt<mt.length;){const e=mt[pt];pt++,Gt(e),Bd(e.$$)}}catch(e){throw mt.length=0,pt=0,e}for(Gt(null),mt.length=0,pt=0;rt.length;)rt.pop()();for(let e=0;e<xt.length;e+=1){const t=xt[e];Bi.has(t)||(Bi.add(t),t())}xt.length=0}while(mt.length);for(;hr.length;)hr.pop()();pr=!1,Bi.clear(),Gt(n)}function Bd(n){if(n.fragment!==null){n.update(),Nt(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(gr)}}function Vd(n){const e=[],t=[];xt.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),xt=e}const Un=new Set;let nt;function ia(){nt={r:0,c:[],p:nt}}function ra(){nt.r||Nt(nt.c),nt=nt.p}function Ue(n,e){n&&n.i&&(Un.delete(n),n.i(e))}function Et(n,e,t,i){if(n&&n.o){if(Un.has(n))return;Un.add(n),nt.c.push(()=>{Un.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function gt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function zd(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function sa(n){n&&n.c()}function as(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),gr(()=>{const s=n.$$.on_mount.map(ql).filter(Ql);n.$$.on_destroy?n.$$.on_destroy.push(...s):Nt(s),n.$$.on_mount=[]}),r.forEach(gr)}function us(n,e){const t=n.$$;t.fragment!==null&&(Vd(t.after_update),Nt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jd(n,e){n.$$.dirty[0]===-1&&(mt.push(n),$d(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function cs(n,e,t,i,r,s,o=null,l=[-1]){const a=Xt;Gt(n);const u=n.$$={fragment:null,ctx:[],props:s,update:Zt,not_equal:r,bound:eo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:eo(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(n,e.props||{},(d,f,...g)=>{const p=g.length?g[0]:f;return u.ctx&&r(u.ctx[d],u.ctx[d]=p)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](p),c&&jd(n,d)),f}):[],u.update(),c=!0,Nt(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const d=Nd(e.target);u.fragment&&u.fragment.l(d),d.forEach(ze)}else u.fragment&&u.fragment.c();e.intro&&Ue(n.$$.fragment),as(n,e.target,e.anchor),na()}Gt(a)}class fs{constructor(){qs(this,"$$"),qs(this,"$$set")}$destroy(){us(this,1),this.$destroy=Zt}$on(e,t){if(!Ql(t))return Zt;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Dd(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ud="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ud);var Gd=Object.defineProperty,Hd=(n,e,t)=>e in n?Gd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$=(n,e,t)=>Hd(n,typeof e!="symbol"?e+"":e,t),no,Wd=Object.defineProperty,Yd=(n,e,t)=>e in n?Wd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,io=(n,e,t)=>Yd(n,typeof e!="symbol"?e+"":e,t),pe=(n=>(n[n.Document=0]="Document",n[n.DocumentType=1]="DocumentType",n[n.Element=2]="Element",n[n.Text=3]="Text",n[n.CDATA=4]="CDATA",n[n.Comment=5]="Comment",n))(pe||{});function Zd(n){return n.nodeType===n.ELEMENT_NODE}class oa{constructor(){io(this,"idNodeMap",new Map),io(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?((t=this.getMeta(e))==null?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function la(){return new oa}function Xd(n){return n.toLowerCase()}function Kd(n,e){return!n||!e||n.type!==e.type?!1:n.type===pe.Document?n.compatMode===e.compatMode:n.type===pe.DocumentType?n.name===e.name&&n.publicId===e.publicId&&n.systemId===e.systemId:n.type===pe.Comment||n.type===pe.Text||n.type===pe.CDATA?n.textContent===e.textContent:n.type===pe.Element?n.tagName===e.tagName&&JSON.stringify(n.attributes)===JSON.stringify(e.attributes)&&n.isSVG===e.isSVG&&n.needBlock===e.needBlock:!1}const Jd=/(max|min)-device-(width|height)/,ro=new RegExp(Jd.source,"g"),qd={postcssPlugin:"postcss-custom-selectors",prepare(){return{postcssPlugin:"postcss-custom-selectors",AtRule:function(n){n.params.match(ro)&&(n.params=n.params.replace(ro,"$1-$2"))}}}},Qd={postcssPlugin:"postcss-hover-classes",prepare:function(){const n=[];return{Rule:function(e){n.indexOf(e)===-1&&(n.push(e),e.selectors.forEach(function(t){t.includes(":hover")&&(e.selector+=`,
`+t.replace(/:hover/g,".\\:hover"))}))}}}};function eh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function th(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var ds={exports:{}},se=String,aa=function(){return{isColorSupported:!1,reset:se,bold:se,dim:se,italic:se,underline:se,inverse:se,hidden:se,strikethrough:se,black:se,red:se,green:se,yellow:se,blue:se,magenta:se,cyan:se,white:se,gray:se,bgBlack:se,bgRed:se,bgGreen:se,bgYellow:se,bgBlue:se,bgMagenta:se,bgCyan:se,bgWhite:se}};ds.exports=aa();ds.exports.createColors=aa;var nh=ds.exports;const ih={},rh=Object.freeze(Object.defineProperty({__proto__:null,default:ih},Symbol.toStringTag,{value:"Module"})),ke=th(rh);let so=nh,oo=ke,mr=class ua extends Error{constructor(e,t,i,r,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),r&&(this.source=r),o&&(this.plugin=o),typeof t<"u"&&typeof i<"u"&&(typeof t=="number"?(this.line=t,this.column=i):(this.line=t.line,this.column=t.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,ua)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=so.isColorSupported),oo&&e&&(t=oo(t));let i=t.split(/\r?\n/),r=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),o=String(s).length,l,a;if(e){let{bold:u,gray:c,red:d}=so.createColors(!0);l=f=>u(d(f)),a=f=>c(f)}else l=a=u=>u;return i.slice(r,s).map((u,c)=>{let d=r+1+c,f=" "+(" "+d).slice(-o)+" | ";if(d===this.line){let g=a(f.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(f)+u+`
 `+g+l("^")}return" "+a(f)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var hs=mr;mr.default=mr;var an={};an.isClean=Symbol("isClean");an.my=Symbol("my");const lo={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function sh(n){return n[0].toUpperCase()+n.slice(1)}let yr=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?i+=e.raws.afterName:r&&(i+=" "),e.nodes)this.block(e,i+r);else{let s=(e.raws.between||"")+(t?";":"");this.builder(i+r+s,e)}}beforeAfter(e,t){let i;e.type==="decl"?i=this.raw(e,null,"beforeDecl"):e.type==="comment"?i=this.raw(e,null,"beforeComment"):t==="before"?i=this.raw(e,null,"beforeRule"):i=this.raw(e,null,"beforeClose");let r=e.parent,s=0;for(;r&&r.type!=="root";)s+=1,r=r.parent;if(i.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<s;l++)i+=o}return i}block(e,t){let i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start");let r;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let i=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let s=e.nodes[r],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==r||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),r=e.prop+i+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,i){let r;if(i||(i=t),t&&(r=e.raws[t],typeof r<"u"))return r;let s=e.parent;if(i==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return lo[i];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[i]<"u")return o.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(e,i);{let l="raw"+sh(i);this[l]?r=this[l](o,e):o.walk(a=>{if(r=a.raws[t],typeof r<"u")return!1})}return typeof r>"u"&&(r=lo[i]),o.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return t=i.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(r=>{if(typeof r.raws.before<"u")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(r=>{if(typeof r.raws.before<"u")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if(i.type!=="decl"&&(t=i.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before<"u")return t=i.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between<"u")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length===0&&(t=i.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let r=i.parent;if(r&&r!==e&&r.parent&&r.parent===e&&typeof i.raws.before<"u"){let s=i.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(t=i.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let i=e[t],r=e.raws[t];return r&&r.value===i?r.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var ca=yr;yr.default=yr;let oh=ca;function vr(n,e){new oh(e).stringify(n)}var hi=vr;vr.default=vr;let{isClean:wn,my:lh}=an,ah=hs,uh=ca,ch=hi;function wr(n,e){let t=new n.constructor;for(let i in n){if(!Object.prototype.hasOwnProperty.call(n,i)||i==="proxyCache")continue;let r=n[i],s=typeof r;i==="parent"&&s==="object"?e&&(t[i]=e):i==="source"?t[i]=r:Array.isArray(r)?t[i]=r.map(o=>wr(o,t)):(s==="object"&&r!==null&&(r=wr(r)),t[i]=r)}return t}let Cr=class{constructor(e={}){this.raws={},this[wn]=!1,this[lh]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let i of e[t])typeof i.clone=="function"?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=wr(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:i.column,line:i.line},t)}return new ah(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[wn]){this[wn]=!1;let e=this;for(;e=e.parent;)e[wn]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){t=this.toString();let r=t.indexOf(e.word);r!==-1&&(i=this.positionInside(r,t))}return i}positionInside(e,t){let i=t||this.toString(),r=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)i[o]===`
`?(r=1,s+=1):r+=1;return{column:r,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),s=r.indexOf(e.word);s!==-1&&(t=this.positionInside(s,r),i=this.positionInside(s+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return new uh().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let r of e)r===this?i=!0:i?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let i={},r=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))i[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)i[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=s,t.set(l.input,s),s++),i[o]={end:l.end,inputId:a,start:l.start}}else i[o]=l}return r&&(i.inputs=[...t.keys()].map(o=>o.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=ch){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let r={node:this};for(let s in i)r[s]=i[s];return e.warn(t,r)}get proxyOf(){return this}};var pi=Cr;Cr.default=Cr;let fh=pi,Sr=class extends fh{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var gi=Sr;Sr.default=Sr;let dh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hh=(n,e=21)=>(t=e)=>{let i="",r=t;for(;r--;)i+=n[Math.random()*n.length|0];return i},ph=(n=21)=>{let e="",t=n;for(;t--;)e+=dh[Math.random()*64|0];return e};var gh={nanoid:ph,customAlphabet:hh};let{SourceMapConsumer:ao,SourceMapGenerator:uo}=ke,{existsSync:mh,readFileSync:yh}=ke,{dirname:Vi,join:vh}=ke;function wh(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}let br=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,r=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Vi(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new ao(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,r=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(r.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||i.test(e))return wh(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let i=e.lastIndexOf(t.pop()),r=e.indexOf("*/",i);i>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,r)))}loadFile(e){if(this.root=Vi(e),mh(e))return this.mapFile=e,yh(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let i=t(e);if(i){let r=this.loadFile(i);if(!r)throw new Error("Unable to load previous source map: "+i.toString());return r}}else{if(t instanceof ao)return uo.fromSourceMap(t).toString();if(t instanceof uo)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=vh(Vi(e),i)),this.loadFile(i)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var fa=br;br.default=br;let{SourceMapConsumer:Ch,SourceMapGenerator:Sh}=ke,{fileURLToPath:co,pathToFileURL:Cn}=ke,{isAbsolute:xr,resolve:Rr}=ke,{nanoid:bh}=gh,zi=ke,fo=hs,xh=fa,ji=Symbol("fromOffsetCache"),Rh=!!(Ch&&Sh),ho=!!(Rr&&xr),qn=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ho||/^\w+:\/\//.test(t.from)||xr(t.from)?this.file=t.from:this.file=Rr(t.from)),ho&&Rh){let i=new xh(this.css,t);if(i.text){this.map=i;let r=i.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+bh(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,r={}){let s,o,l;if(t&&typeof t=="object"){let u=t,c=i;if(typeof u.offset=="number"){let d=this.fromOffset(u.offset);t=d.line,i=d.col}else t=u.line,i=u.column;if(typeof c.offset=="number"){let d=this.fromOffset(c.offset);o=d.line,l=d.col}else o=c.line,l=c.column}else if(!i){let u=this.fromOffset(t);t=u.line,i=u.col}let a=this.origin(t,i,o,l);return a?s=new fo(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):s=new fo(e,o===void 0?t:{column:i,line:t},o===void 0?i:{column:l,line:o},this.css,this.file,r.plugin),s.input={column:i,endColumn:l,endLine:o,line:t,source:this.css},this.file&&(Cn&&(s.input.url=Cn(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,i;if(this[ji])i=this[ji];else{let s=this.css.split(`
`);i=new Array(s.length);let o=0;for(let l=0,a=s.length;l<a;l++)i[l]=o,o+=s[l].length+1;this[ji]=i}t=i[i.length-1];let r=0;if(e>=t)r=i.length-1;else{let s=i.length-2,o;for(;r<s;)if(o=r+(s-r>>1),e<i[o])s=o-1;else if(e>=i[o+1])r=o+1;else{r=o;break}}return{col:e-i[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Rr(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,r){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof i=="number"&&(l=s.originalPositionFor({column:r,line:i}));let a;xr(o.source)?a=Cn(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||Cn(this.map.mapFile));let u={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(co)u.file=co(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=s.sourceContentFor(o.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var mi=qn;qn.default=qn;zi&&zi.registerInput&&zi.registerInput(qn);let{SourceMapConsumer:da,SourceMapGenerator:Gn}=ke,{dirname:Hn,relative:ha,resolve:pa,sep:ga}=ke,{pathToFileURL:po}=ke,Eh=mi,_h=!!(da&&Gn),Ih=!!(Hn&&pa&&ha&&ga),Mh=class{constructor(e,t,i,r){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),i=e.root||Hn(e.file),r;this.mapOpts.sourcesContent===!1?(r=new da(e.text),r.sourcesContent&&(r.sourcesContent=null)):r=e.consumer(),this.map.applySourceMap(r,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Ih&&_h&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Gn.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Gn({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Gn({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,i="<no source>",r={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(r.generated.line=e,r.generated.column=t-1,a.source&&a.source.start?(r.source=this.sourcePath(a),r.original.line=a.source.start.line,r.original.column=a.source.start.column-1,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,this.map.addMapping(r))),s=l.match(/\n/g),s?(e+=s.length,o=l.lastIndexOf(`
`),t=l.length-o):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(r.source=this.sourcePath(a),r.original.line=a.source.end.line,r.original.column=a.source.end.column-1,r.generated.line=e,r.generated.column=t-2,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,r.generated.line=e,r.generated.column=t-1,this.map.addMapping(r)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?Hn(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=Hn(pa(i,this.mapOpts.annotation)));let r=ha(i,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Eh(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let r=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(po){let i=po(e).toString();return this.memoizedFileURLs.set(e,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;ga==="\\"&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};var ma=Mh;let Ah=pi,Er=class extends Ah{constructor(e){super(e),this.type="comment"}};var yi=Er;Er.default=Er;let{isClean:ya,my:va}=an,wa=gi,Ca=yi,Dh=pi,Sa,ps,gs,ba;function xa(n){return n.map(e=>(e.nodes&&(e.nodes=xa(e.nodes)),delete e.source,e))}function Ra(n){if(n[ya]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)Ra(e)}let Ge=class Ea extends Dh{append(...e){for(let t of e){let i=this.normalize(t,this.last);for(let r of i)this.proxyOf.nodes.push(r)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),i,r;for(;this.indexes[t]<this.proxyOf.nodes.length&&(i=this.indexes[t],r=e(this.proxyOf.nodes[i],i),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...i)=>e[t](...i.map(r=>typeof r=="function"?(s,o)=>r(s.toProxy(),o):r)):t==="every"||t==="some"?i=>e[t]((r,...s)=>i(r.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(i=>i.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let o of r)this.proxyOf.nodes.splice(i+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],i<s&&(this.indexes[o]=s+r.length);return this.markDirty(),this}insertBefore(e,t){let i=this.index(e),r=i===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let l of s)this.proxyOf.nodes.splice(i,0,l);let o;for(let l in this.indexes)o=this.indexes[l],i<=o&&(this.indexes[l]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=xa(Sa(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new wa(e)]}else if(e.selector)e=[new ps(e)];else if(e.name)e=[new gs(e)];else if(e.text)e=[new Ca(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[va]||Ea.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[ya]&&Ra(r),typeof r.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(r.raws.before=t.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let t of e){let i=this.normalize(t,this.first,"prepend").reverse();for(let r of i)this.proxyOf.nodes.unshift(r);for(let r in this.indexes)this.indexes[r]=this.indexes[r]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls(r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,i))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,i)=>{let r;try{r=e(t,i)}catch(s){throw t.addToError(s)}return r!==!1&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="atrule"&&e.test(i.name))return t(i,r)}):this.walk((i,r)=>{if(i.type==="atrule"&&i.name===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="atrule")return t(i,r)}))}walkComments(e){return this.walk((t,i)=>{if(t.type==="comment")return e(t,i)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="decl"&&e.test(i.prop))return t(i,r)}):this.walk((i,r)=>{if(i.type==="decl"&&i.prop===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="decl")return t(i,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="rule"&&e.test(i.selector))return t(i,r)}):this.walk((i,r)=>{if(i.type==="rule"&&i.selector===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="rule")return t(i,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Ge.registerParse=n=>{Sa=n};Ge.registerRule=n=>{ps=n};Ge.registerAtRule=n=>{gs=n};Ge.registerRoot=n=>{ba=n};var ft=Ge;Ge.default=Ge;Ge.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,gs.prototype):n.type==="rule"?Object.setPrototypeOf(n,ps.prototype):n.type==="decl"?Object.setPrototypeOf(n,wa.prototype):n.type==="comment"?Object.setPrototypeOf(n,Ca.prototype):n.type==="root"&&Object.setPrototypeOf(n,ba.prototype),n[va]=!0,n.nodes&&n.nodes.forEach(e=>{Ge.rebuild(e)})};let Ph=ft,_a,Ia,Kt=class extends Ph{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new _a(new Ia,this,e).stringify()}};Kt.registerLazyResult=n=>{_a=n};Kt.registerProcessor=n=>{Ia=n};var ms=Kt;Kt.default=Kt;let _r=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Ma=_r;_r.default=_r;let Nh=Ma,Ir=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new Nh(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var ys=Ir;Ir.default=Ir;const Ui=39,go=34,Sn=92,mo=47,bn=10,Tt=32,xn=12,Rn=9,En=13,Oh=91,kh=93,Fh=40,Th=41,$h=123,Lh=125,Bh=59,Vh=42,zh=58,jh=64,_n=/[\t\n\f\r "#'()/;[\\\]{}]/g,In=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Uh=/.[\r\n"'(/\\]/,yo=/[\da-f]/i;var Gh=function(e,t={}){let i=e.css.valueOf(),r=t.ignoreErrors,s,o,l,a,u,c,d,f,g,p,v=i.length,h=0,m=[],w=[];function y(){return h}function C(_){throw e.error("Unclosed "+_,h)}function x(){return w.length===0&&h>=v}function A(_){if(w.length)return w.pop();if(h>=v)return;let O=_?_.ignoreUnclosed:!1;switch(s=i.charCodeAt(h),s){case bn:case Tt:case Rn:case En:case xn:{o=h;do o+=1,s=i.charCodeAt(o);while(s===Tt||s===bn||s===Rn||s===En||s===xn);p=["space",i.slice(h,o)],h=o-1;break}case Oh:case kh:case $h:case Lh:case zh:case Bh:case Th:{let B=String.fromCharCode(s);p=[B,B,h];break}case Fh:{if(f=m.length?m.pop()[1]:"",g=i.charCodeAt(h+1),f==="url"&&g!==Ui&&g!==go&&g!==Tt&&g!==bn&&g!==Rn&&g!==xn&&g!==En){o=h;do{if(c=!1,o=i.indexOf(")",o+1),o===-1)if(r||O){o=h;break}else C("bracket");for(d=o;i.charCodeAt(d-1)===Sn;)d-=1,c=!c}while(c);p=["brackets",i.slice(h,o+1),h,o],h=o}else o=i.indexOf(")",h+1),a=i.slice(h,o+1),o===-1||Uh.test(a)?p=["(","(",h]:(p=["brackets",a,h,o],h=o);break}case Ui:case go:{l=s===Ui?"'":'"',o=h;do{if(c=!1,o=i.indexOf(l,o+1),o===-1)if(r||O){o=h+1;break}else C("string");for(d=o;i.charCodeAt(d-1)===Sn;)d-=1,c=!c}while(c);p=["string",i.slice(h,o+1),h,o],h=o;break}case jh:{_n.lastIndex=h+1,_n.test(i),_n.lastIndex===0?o=i.length-1:o=_n.lastIndex-2,p=["at-word",i.slice(h,o+1),h,o],h=o;break}case Sn:{for(o=h,u=!0;i.charCodeAt(o+1)===Sn;)o+=1,u=!u;if(s=i.charCodeAt(o+1),u&&s!==mo&&s!==Tt&&s!==bn&&s!==Rn&&s!==En&&s!==xn&&(o+=1,yo.test(i.charAt(o)))){for(;yo.test(i.charAt(o+1));)o+=1;i.charCodeAt(o+1)===Tt&&(o+=1)}p=["word",i.slice(h,o+1),h,o],h=o;break}default:{s===mo&&i.charCodeAt(h+1)===Vh?(o=i.indexOf("*/",h+2)+1,o===0&&(r||O?o=i.length:C("comment")),p=["comment",i.slice(h,o+1),h,o],h=o):(In.lastIndex=h+1,In.test(i),In.lastIndex===0?o=i.length-1:o=In.lastIndex-2,p=["word",i.slice(h,o+1),h,o],m.push(p),h=o);break}}return h++,p}function N(_){w.push(_)}return{back:N,endOfFile:x,nextToken:A,position:y}};let Aa=ft,Qn=class extends Aa{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var vs=Qn;Qn.default=Qn;Aa.registerAtRule(Qn);let Da=ft,Pa,Na,_t=class extends Da{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let r=super.normalize(e);if(t){if(i==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of r)s.raws.before=t.raws.before}return r}removeChild(e,t){let i=this.index(e);return!t&&i===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new Pa(new Na,this,e).stringify()}};_t.registerLazyResult=n=>{Pa=n};_t.registerProcessor=n=>{Na=n};var un=_t;_t.default=_t;Da.registerRoot(_t);let Jt={comma(n){return Jt.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return Jt.split(n,e)},split(n,e,t){let i=[],r="",s=!1,o=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?o+=1:c===")"?o>0&&(o-=1):o===0&&e.includes(c)&&(s=!0),s?(r!==""&&i.push(r.trim()),r="",s=!1):r+=c;return(t||r!=="")&&i.push(r.trim()),i}};var Oa=Jt;Jt.default=Jt;let ka=ft,Hh=Oa,ei=class extends ka{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Hh.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var ws=ei;ei.default=ei;ka.registerRule(ei);let Wh=gi,Yh=Gh,Zh=yi,Xh=vs,Kh=un,vo=ws;const wo={empty:!0,space:!0};function Jh(n){for(let e=n.length-1;e>=0;e--){let t=n[e],i=t[3]||t[2];if(i)return i}}let qh=class{constructor(e){this.input=e,this.root=new Kh,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Xh;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,r,s,o=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),i=e[0],i==="("||i==="["?u.push(i==="("?")":"]"):i==="{"&&u.length>0?u.push("}"):i===u[u.length-1]&&u.pop(),u.length===0)if(i===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){l=!0;break}else if(i==="}"){if(a.length>0){for(s=a.length-1,r=a[s];r&&r[0]==="space";)r=a[--s];r&&(t.source.end=this.getPosition(r[3]||r[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let i=0,r;for(let s=t-1;s>=0&&(r=e[s],!(r[0]!=="space"&&(i+=1,i===2)));s--);throw this.input.error("Missed semicolon",r[0]==="word"?r[3]+1:r[2])}colon(e){let t=0,i,r,s;for(let[o,l]of e.entries()){if(i=l,r=i[0],r==="("&&(t+=1),r===")"&&(t-=1),t===0&&r===":")if(!s)this.doubleColon(i);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=i}return!1}comment(e){let t=new Zh;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let r=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}createTokenizer(){this.tokenizer=Yh(this.input)}decl(e,t){let i=new Wh;this.init(i,e[0][2]);let r=e[e.length-1];for(r[0]===";"&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(r[3]||r[2]||Jh(e)),i.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;i.prop+=e.shift()[1]}i.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){i.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(s=e[u],s[1].toLowerCase()==="!important"){i.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(i.raws.important=c);break}else if(s[1].toLowerCase()==="important"){let c=e.slice(0),d="";for(let f=u;f>0;f--){let g=c[f][0];if(d.trim().indexOf("!")===0&&g!=="space")break;d=c.pop()[1]+d}d.trim().indexOf("!")===0&&(i.important=!0,i.raws.important=d,e=c)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(i.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(i,"value",o.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new vo;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,i=null,r=!1,s=null,o=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(i=u[0],a.push(u),i==="("||i==="[")s||(s=u),o.push(i==="("?")":"]");else if(l&&r&&i==="{")s||(s=u),o.push("}");else if(o.length===0)if(i===";")if(r){this.decl(a,l);return}else break;else if(i==="{"){this.rule(a);return}else if(i==="}"){this.tokenizer.back(a.pop()),t=!0;break}else i===":"&&(r=!0);else i===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&r){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,r){let s,o,l=i.length,a="",u=!0,c,d;for(let f=0;f<l;f+=1)s=i[f],o=s[0],o==="space"&&f===l-1&&!r?u=!1:o==="comment"?(d=i[f-1]?i[f-1][0]:"empty",c=i[f+1]?i[f+1][0]:"empty",!wo[d]&&!wo[c]?a.slice(-1)===","?u=!1:a+=s[1]:u=!1):a+=s[1];if(!u){let f=i.reduce((g,p)=>g+p[1],"");e.raws[t]={raw:f,value:a}}e[t]=a}rule(e){e.pop();let t=new vo;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],t==="space");)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let r=t;r<e.length;r++)i+=e[r][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var Qh=qh;let ep=ft,tp=Qh,np=mi;function ti(n,e){let t=new np(n,e),i=new tp(t);try{i.parse()}catch(r){throw r}return i.root}var Cs=ti;ti.default=ti;ep.registerParse(ti);let{isClean:$e,my:ip}=an,rp=ma,sp=hi,op=ft,lp=ms,Co=ys,ap=Cs,up=un;const cp={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},fp={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},dp={Once:!0,postcssPlugin:!0,prepare:!0},It=0;function $t(n){return typeof n=="object"&&typeof n.then=="function"}function Fa(n){let e=!1,t=cp[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,It,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,It,t+"Exit"]:[t,t+"Exit"]}function So(n){let e;return n.type==="document"?e=["Document",It,"DocumentExit"]:n.type==="root"?e=["Root",It,"RootExit"]:e=Fa(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Mr(n){return n[$e]=!1,n.nodes&&n.nodes.forEach(e=>Mr(e)),n}let Ar={},Mt=class Ta{constructor(e,t,i){this.stringified=!1,this.processed=!1;let r;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))r=Mr(t);else if(t instanceof Ta||t instanceof Co)r=Mr(t.root),t.map&&(typeof i.map>"u"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{let s=ap;i.syntax&&(s=i.syntax.parse),i.parser&&(s=i.parser),s.parse&&(s=s.parse);try{r=s(t,i)}catch(o){this.processed=!0,this.error=o}r&&!r[ip]&&op.rebuild(r)}this.result=new Co(e,r,i),this.helpers={...Ar,postcss:Ar,result:this.result},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=i.postcssPlugin,e.setMessage()):i.postcssVersion}catch(r){console&&console.error&&console.error(r)}return e}prepareVisitors(){this.listeners={};let e=(t,i,r)=>{this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push([t,r])};for(let t of this.plugins)if(typeof t=="object")for(let i in t){if(!fp[i]&&/^[A-Z]/.test(i))throw new Error(`Unknown event ${i} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!dp[i])if(typeof t[i]=="object")for(let r in t[i])r==="*"?e(t,i,t[i][r]):e(t,i+"-"+r.toLowerCase(),t[i][r]);else typeof t[i]=="function"&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],i=this.runOnRoot(t);if($t(i))try{await i}catch(r){throw this.handleError(r)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$e];){e[$e]=!0;let t=[So(e)];for(;t.length>0;){let i=this.visitTick(t);if($t(i))try{await i}catch(r){let s=t[t.length-1].node;throw this.handleError(r,s)}}}if(this.listeners.OnceExit)for(let[t,i]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let r=e.nodes.map(s=>i(s,this.helpers));await Promise.all(r)}else await i(e,this.helpers)}catch(r){throw this.handleError(r)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(i=>e.Once(i,this.helpers));return $t(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=sp;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new rp(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if($t(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$e];)e[$e]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[i,r]of e){this.result.lastPlugin=i;let s;try{s=r(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if($t(s))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:r}=t;if(i.type!=="root"&&i.type!=="document"&&!i.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[o,l]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(i.toProxy(),this.helpers)}catch(a){throw this.handleError(a,i)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=i.nodes[i.indexes[o]];)if(i.indexes[o]+=1,!l[$e]){l[$e]=!0,e.push(So(l));return}t.iterator=0,delete i.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===It){i.nodes&&i.nodes.length&&(i[$e]=!0,t.iterator=i.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[$e]=!0;let t=Fa(e);for(let i of t)if(i===It)e.nodes&&e.each(r=>{r[$e]||this.walkSync(r)});else{let r=this.listeners[i];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Mt.registerPostcss=n=>{Ar=n};var $a=Mt;Mt.default=Mt;up.registerLazyResult(Mt);lp.registerLazyResult(Mt);let hp=ma,pp=hi,gp=Cs;const mp=ys;let Dr=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let r,s=pp;this.result=new mp(this._processor,r,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new hp(s,r,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=gp;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var yp=Dr;Dr.default=Dr;let vp=yp,wp=$a,Cp=ms,Sp=un,qt=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(i.postcss===!0?i=i():i.postcss&&(i=i.postcss),typeof i=="object"&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if(typeof i=="object"&&i.postcssPlugin)t.push(i);else if(typeof i=="function")t.push(i);else if(!(typeof i=="object"&&(i.parse||i.stringify)))throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new vp(this,e,t):new wp(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var bp=qt;qt.default=qt;Sp.registerProcessor(qt);Cp.registerProcessor(qt);let xp=gi,Rp=fa,Ep=yi,_p=vs,Ip=mi,Mp=un,Ap=ws;function Qt(n,e){if(Array.isArray(n))return n.map(r=>Qt(r));let{inputs:t,...i}=n;if(t){e=[];for(let r of t){let s={...r,__proto__:Ip.prototype};s.map&&(s.map={...s.map,__proto__:Rp.prototype}),e.push(s)}}if(i.nodes&&(i.nodes=n.nodes.map(r=>Qt(r,e))),i.source){let{inputId:r,...s}=i.source;i.source=s,r!=null&&(i.source.input=e[r])}if(i.type==="root")return new Mp(i);if(i.type==="decl")return new xp(i);if(i.type==="rule")return new Ap(i);if(i.type==="comment")return new Ep(i);if(i.type==="atrule")return new _p(i);throw new Error("Unknown node type: "+n.type)}var Dp=Qt;Qt.default=Qt;let Pp=hs,La=gi,Np=$a,Op=ft,Ss=bp,kp=hi,Fp=Dp,Ba=ms,Tp=Ma,Va=yi,za=vs,$p=ys,Lp=mi,Bp=Cs,Vp=Oa,ja=ws,Ua=un,zp=pi;function Q(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new Ss(n)}Q.plugin=function(e,t){let i=!1;function r(...o){console&&console.warn&&!i&&(i=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Xn.LANG&&Xn.LANG.startsWith("cn")&&console.warn(e+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new Ss().version,l}let s;return Object.defineProperty(r,"postcss",{get(){return s||(s=r()),s}}),r.process=function(o,l,a){return Q([r(a)]).process(o,l)},r};Q.stringify=kp;Q.parse=Bp;Q.fromJSON=Fp;Q.list=Vp;Q.comment=n=>new Va(n);Q.atRule=n=>new za(n);Q.decl=n=>new La(n);Q.rule=n=>new ja(n);Q.root=n=>new Ua(n);Q.document=n=>new Ba(n);Q.CssSyntaxError=Pp;Q.Declaration=La;Q.Container=Op;Q.Processor=Ss;Q.Document=Ba;Q.Comment=Va;Q.Warning=Tp;Q.AtRule=za;Q.Result=$p;Q.Input=Lp;Q.Rule=ja;Q.Root=Ua;Q.Node=zp;Np.registerPostcss(Q);var jp=Q;Q.default=Q;const ue=eh(jp);ue.stringify;ue.fromJSON;ue.plugin;ue.parse;ue.list;ue.document;ue.comment;ue.atRule;ue.rule;ue.decl;ue.root;ue.CssSyntaxError;ue.Declaration;ue.Container;ue.Processor;ue.Document;ue.Comment;ue.Warning;ue.AtRule;ue.Result;ue.Input;ue.Rule;ue.Root;ue.Node;const bo={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function Up(n){let e=bo[n.tagName]?bo[n.tagName]:n.tagName;return e==="link"&&n.attributes._cssText&&(e="style"),e}function vi(n,e){const t=e==null?void 0:e.stylesWithHoverClass.get(n);if(t)return t;let i=n;try{i=ue([qd,Qd]).process(n).css}catch(r){console.warn("Failed to adapt css for replay",r)}return e==null||e.stylesWithHoverClass.set(n,i),i}function xo(){return{stylesWithHoverClass:new Map}}function Gp(n,e,t,i){const r=[];for(const a of n.childNodes)a.type===pe.Text&&r.push(a);const s=e.split("/* rr_split */");for(;s.length>1&&s.length>r.length;)s.splice(-2,2,s.slice(-2).join(""));let o="";t&&(o=vi(s.join(""),i));let l=0;for(let a=0;a<r.length&&a!==s.length;a++){const u=r[a];if(!t)u.textContent=s[a];else if(a<s.length-1){let c=l,d=s[a+1].length;d=Math.min(d,30);let f=!1;for(;d>2;d--){const g=s[a+1].substring(0,d),p=o.substring(l).indexOf(g);if(f=p!==-1,f){c+=p;break}}f||(c+=s[a].length),u.textContent=o.substring(l,c),l=c}else u.textContent=o.substring(l)}}function Hp(n,e,t,i){const{doc:r,hackCss:s,cache:o}=i;n.childNodes.length?Gp(n,t,s,o):(s&&(t=vi(t,o)),e.appendChild(r.createTextNode(t)))}function Wp(n,e){var t;const{doc:i,hackCss:r,cache:s}=e;switch(n.type){case pe.Document:return i.implementation.createDocument(null,"",null);case pe.DocumentType:return i.implementation.createDocumentType(n.name||"html",n.publicId,n.systemId);case pe.Element:{const o=Up(n);let l;n.isSVG?l=i.createElementNS("http://www.w3.org/2000/svg",o):(n.isCustom&&((t=i.defaultView)!=null&&t.customElements)&&!i.defaultView.customElements.get(n.tagName)&&i.defaultView.customElements.define(n.tagName,class extends i.defaultView.HTMLElement{}),l=i.createElement(o));const a={};for(const u in n.attributes){if(!Object.prototype.hasOwnProperty.call(n.attributes,u))continue;let c=n.attributes[u];if(!(o==="option"&&u==="selected"&&c===!1)&&c!==null){if(c===!0&&(c=""),u.startsWith("rr_")){a[u]=c;continue}if(typeof c=="string"){if(o==="style"&&u==="_cssText"){Hp(n,l,c,e);continue}else if(o==="textarea"&&u==="value"){l.appendChild(i.createTextNode(c)),n.childNodes=[];continue}}try{if(n.isSVG&&u==="xlink:href")l.setAttributeNS("http://www.w3.org/1999/xlink",u,c.toString());else if(u==="onload"||u==="onclick"||u.substring(0,7)==="onmouse")l.setAttribute("_"+u,c.toString());else if(o==="meta"&&n.attributes["http-equiv"]==="Content-Security-Policy"&&u==="content"){l.setAttribute("csp-content",c.toString());continue}else o==="link"&&(n.attributes.rel==="preload"||n.attributes.rel==="modulepreload")&&n.attributes.as==="script"||o==="link"&&n.attributes.rel==="prefetch"&&typeof n.attributes.href=="string"&&n.attributes.href.endsWith(".js")||(o==="img"&&n.attributes.srcset&&n.attributes.rr_dataURL?l.setAttribute("rrweb-original-srcset",n.attributes.srcset):l.setAttribute(u,c.toString()))}catch{}}}for(const u in a){const c=a[u];if(o==="canvas"&&u==="rr_dataURL"){const d=i.createElement("img");d.onload=()=>{const f=l.getContext("2d");f&&f.drawImage(d,0,0,d.width,d.height)},d.src=c.toString(),l.RRNodeType&&(l.rr_dataURL=c.toString())}else if(o==="img"&&u==="rr_dataURL"){const d=l;d.currentSrc.startsWith("data:")||(d.setAttribute("rrweb-original-src",n.attributes.src),d.src=c.toString())}if(u==="rr_width")l.style.setProperty("width",c.toString());else if(u==="rr_height")l.style.setProperty("height",c.toString());else if(u==="rr_mediaCurrentTime"&&typeof c=="number")l.currentTime=c;else if(u==="rr_mediaState")switch(c){case"played":l.play().catch(d=>console.warn("media playback error",d));break;case"paused":l.pause();break}else u==="rr_mediaPlaybackRate"&&typeof c=="number"?l.playbackRate=c:u==="rr_mediaMuted"&&typeof c=="boolean"?l.muted=c:u==="rr_mediaLoop"&&typeof c=="boolean"?l.loop=c:u==="rr_mediaVolume"&&typeof c=="number"?l.volume=c:u==="rr_open_mode"&&l.setAttribute("rr_open_mode",c)}if(n.isShadowHost)if(!l.shadowRoot)l.attachShadow({mode:"open"});else for(;l.shadowRoot.firstChild;)l.shadowRoot.removeChild(l.shadowRoot.firstChild);return l}case pe.Text:return n.isStyle&&r?i.createTextNode(vi(n.textContent,s)):i.createTextNode(n.textContent);case pe.CDATA:return i.createCDATASection(n.textContent);case pe.Comment:return i.createComment(n.textContent);default:return null}}function Ht(n,e){const{doc:t,mirror:i,skipChild:r=!1,hackCss:s=!0,afterAppend:o,cache:l}=e;if(i.has(n.id)){const u=i.getNode(n.id),c=i.getMeta(u);if(Kd(c,n))return i.getNode(n.id)}let a=Wp(n,{doc:t,hackCss:s,cache:l});if(!a)return null;if(n.rootId&&i.getNode(n.rootId)!==t&&i.replace(n.rootId,t),n.type===pe.Document&&(t.close(),t.open(),n.compatMode==="BackCompat"&&n.childNodes&&n.childNodes[0].type!==pe.DocumentType&&(n.childNodes[0].type===pe.Element&&"xmlns"in n.childNodes[0].attributes&&n.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),a=t),i.add(a,n),(n.type===pe.Document||n.type===pe.Element)&&!r)for(const u of n.childNodes){const c=Ht(u,{doc:t,mirror:i,skipChild:!1,hackCss:s,afterAppend:o,cache:l});if(!c){console.warn("Failed to rebuild",u);continue}if(u.isShadow&&Zd(a)&&a.shadowRoot)a.shadowRoot.appendChild(c);else if(n.type===pe.Document&&u.type==pe.Element){const d=c;let f=null;d.childNodes.forEach(g=>{g.nodeName==="BODY"&&(f=g)}),f?(d.removeChild(f),a.appendChild(c),d.appendChild(f)):a.appendChild(c)}else a.appendChild(c);o&&o(c,u.id)}return a}function Yp(n,e){function t(i){e(i)}for(const i of n.getIds())n.has(i)&&t(n.getNode(i))}function Zp(n,e){const t=e.getMeta(n);if((t==null?void 0:t.type)!==pe.Element)return;const i=n;for(const r in t.attributes){if(!(Object.prototype.hasOwnProperty.call(t.attributes,r)&&r.startsWith("rr_")))continue;const s=t.attributes[r];r==="rr_scrollLeft"&&(i.scrollLeft=s),r==="rr_scrollTop"&&(i.scrollTop=s)}}function Xp(n,e){const{doc:t,onVisit:i,hackCss:r=!0,afterAppend:s,cache:o,mirror:l=new oa}=e,a=Ht(n,{doc:t,mirror:l,skipChild:!1,hackCss:r,afterAppend:s,cache:o});return Yp(l,u=>{i&&i(u),Zp(u,l)}),a}var Kp=Object.defineProperty,Jp=(n,e,t)=>e in n?Kp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,D=(n,e,t)=>Jp(n,typeof e!="symbol"?e+"":e,t),qp=Object.defineProperty,Qp=(n,e,t)=>e in n?qp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ro=(n,e,t)=>Qp(n,typeof e!="symbol"?e+"":e,t);let eg=class{constructor(){Ro(this,"idNodeMap",new Map),Ro(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?((t=this.getMeta(e))==null?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function tg(){return new eg}function ng(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ig(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var bs={exports:{}},oe=String,Ga=function(){return{isColorSupported:!1,reset:oe,bold:oe,dim:oe,italic:oe,underline:oe,inverse:oe,hidden:oe,strikethrough:oe,black:oe,red:oe,green:oe,yellow:oe,blue:oe,magenta:oe,cyan:oe,white:oe,gray:oe,bgBlack:oe,bgRed:oe,bgGreen:oe,bgYellow:oe,bgBlue:oe,bgMagenta:oe,bgCyan:oe,bgWhite:oe}};bs.exports=Ga();bs.exports.createColors=Ga;var rg=bs.exports;const sg={},og=Object.freeze(Object.defineProperty({__proto__:null,default:sg},Symbol.toStringTag,{value:"Module"})),Fe=ig(og);let Eo=rg,_o=Fe,Pr=class Ha extends Error{constructor(e,t,i,r,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),r&&(this.source=r),o&&(this.plugin=o),typeof t<"u"&&typeof i<"u"&&(typeof t=="number"?(this.line=t,this.column=i):(this.line=t.line,this.column=t.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Ha)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Eo.isColorSupported),_o&&e&&(t=_o(t));let i=t.split(/\r?\n/),r=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),o=String(s).length,l,a;if(e){let{bold:u,gray:c,red:d}=Eo.createColors(!0);l=f=>u(d(f)),a=f=>c(f)}else l=a=u=>u;return i.slice(r,s).map((u,c)=>{let d=r+1+c,f=" "+(" "+d).slice(-o)+" | ";if(d===this.line){let g=a(f.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(f)+u+`
 `+g+l("^")}return" "+a(f)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var xs=Pr;Pr.default=Pr;var cn={};cn.isClean=Symbol("isClean");cn.my=Symbol("my");const Io={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function lg(n){return n[0].toUpperCase()+n.slice(1)}let Nr=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?i+=e.raws.afterName:r&&(i+=" "),e.nodes)this.block(e,i+r);else{let s=(e.raws.between||"")+(t?";":"");this.builder(i+r+s,e)}}beforeAfter(e,t){let i;e.type==="decl"?i=this.raw(e,null,"beforeDecl"):e.type==="comment"?i=this.raw(e,null,"beforeComment"):t==="before"?i=this.raw(e,null,"beforeRule"):i=this.raw(e,null,"beforeClose");let r=e.parent,s=0;for(;r&&r.type!=="root";)s+=1,r=r.parent;if(i.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<s;l++)i+=o}return i}block(e,t){let i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start");let r;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let i=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let s=e.nodes[r],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==r||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),r=e.prop+i+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,i){let r;if(i||(i=t),t&&(r=e.raws[t],typeof r<"u"))return r;let s=e.parent;if(i==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return Io[i];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[i]<"u")return o.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(e,i);{let l="raw"+lg(i);this[l]?r=this[l](o,e):o.walk(a=>{if(r=a.raws[t],typeof r<"u")return!1})}return typeof r>"u"&&(r=Io[i]),o.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return t=i.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(r=>{if(typeof r.raws.before<"u")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(r=>{if(typeof r.raws.before<"u")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if(i.type!=="decl"&&(t=i.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before<"u")return t=i.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between<"u")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length===0&&(t=i.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let r=i.parent;if(r&&r!==e&&r.parent&&r.parent===e&&typeof i.raws.before<"u"){let s=i.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(t=i.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let i=e[t],r=e.raws[t];return r&&r.value===i?r.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Wa=Nr;Nr.default=Nr;let ag=Wa;function Or(n,e){new ag(e).stringify(n)}var wi=Or;Or.default=Or;let{isClean:Mn,my:ug}=cn,cg=xs,fg=Wa,dg=wi;function kr(n,e){let t=new n.constructor;for(let i in n){if(!Object.prototype.hasOwnProperty.call(n,i)||i==="proxyCache")continue;let r=n[i],s=typeof r;i==="parent"&&s==="object"?e&&(t[i]=e):i==="source"?t[i]=r:Array.isArray(r)?t[i]=r.map(o=>kr(o,t)):(s==="object"&&r!==null&&(r=kr(r)),t[i]=r)}return t}let Fr=class{constructor(e={}){this.raws={},this[Mn]=!1,this[ug]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let i of e[t])typeof i.clone=="function"?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=kr(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:i.column,line:i.line},t)}return new cg(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[Mn]){this[Mn]=!1;let e=this;for(;e=e.parent;)e[Mn]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){t=this.toString();let r=t.indexOf(e.word);r!==-1&&(i=this.positionInside(r,t))}return i}positionInside(e,t){let i=t||this.toString(),r=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)i[o]===`
`?(r=1,s+=1):r+=1;return{column:r,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),s=r.indexOf(e.word);s!==-1&&(t=this.positionInside(s,r),i=this.positionInside(s+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return new fg().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let r of e)r===this?i=!0:i?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let i={},r=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))i[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)i[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=s,t.set(l.input,s),s++),i[o]={end:l.end,inputId:a,start:l.start}}else i[o]=l}return r&&(i.inputs=[...t.keys()].map(o=>o.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=dg){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let r={node:this};for(let s in i)r[s]=i[s];return e.warn(t,r)}get proxyOf(){return this}};var Ci=Fr;Fr.default=Fr;let hg=Ci,Tr=class extends hg{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Si=Tr;Tr.default=Tr;let pg="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gg=(n,e=21)=>(t=e)=>{let i="",r=t;for(;r--;)i+=n[Math.random()*n.length|0];return i},mg=(n=21)=>{let e="",t=n;for(;t--;)e+=pg[Math.random()*64|0];return e};var yg={nanoid:mg,customAlphabet:gg};let{SourceMapConsumer:Mo,SourceMapGenerator:Ao}=Fe,{existsSync:vg,readFileSync:wg}=Fe,{dirname:Gi,join:Cg}=Fe;function Sg(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}let $r=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,r=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Gi(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new Mo(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,r=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(r.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||i.test(e))return Sg(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let i=e.lastIndexOf(t.pop()),r=e.indexOf("*/",i);i>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,r)))}loadFile(e){if(this.root=Gi(e),vg(e))return this.mapFile=e,wg(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let i=t(e);if(i){let r=this.loadFile(i);if(!r)throw new Error("Unable to load previous source map: "+i.toString());return r}}else{if(t instanceof Mo)return Ao.fromSourceMap(t).toString();if(t instanceof Ao)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=Cg(Gi(e),i)),this.loadFile(i)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Ya=$r;$r.default=$r;let{SourceMapConsumer:bg,SourceMapGenerator:xg}=Fe,{fileURLToPath:Do,pathToFileURL:An}=Fe,{isAbsolute:Lr,resolve:Br}=Fe,{nanoid:Rg}=yg,Hi=Fe,Po=xs,Eg=Ya,Wi=Symbol("fromOffsetCache"),_g=!!(bg&&xg),No=!!(Br&&Lr),ni=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!No||/^\w+:\/\//.test(t.from)||Lr(t.from)?this.file=t.from:this.file=Br(t.from)),No&&_g){let i=new Eg(this.css,t);if(i.text){this.map=i;let r=i.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+Rg(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,r={}){let s,o,l;if(t&&typeof t=="object"){let u=t,c=i;if(typeof u.offset=="number"){let d=this.fromOffset(u.offset);t=d.line,i=d.col}else t=u.line,i=u.column;if(typeof c.offset=="number"){let d=this.fromOffset(c.offset);o=d.line,l=d.col}else o=c.line,l=c.column}else if(!i){let u=this.fromOffset(t);t=u.line,i=u.col}let a=this.origin(t,i,o,l);return a?s=new Po(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):s=new Po(e,o===void 0?t:{column:i,line:t},o===void 0?i:{column:l,line:o},this.css,this.file,r.plugin),s.input={column:i,endColumn:l,endLine:o,line:t,source:this.css},this.file&&(An&&(s.input.url=An(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,i;if(this[Wi])i=this[Wi];else{let s=this.css.split(`
`);i=new Array(s.length);let o=0;for(let l=0,a=s.length;l<a;l++)i[l]=o,o+=s[l].length+1;this[Wi]=i}t=i[i.length-1];let r=0;if(e>=t)r=i.length-1;else{let s=i.length-2,o;for(;r<s;)if(o=r+(s-r>>1),e<i[o])s=o-1;else if(e>=i[o+1])r=o+1;else{r=o;break}}return{col:e-i[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Br(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,r){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof i=="number"&&(l=s.originalPositionFor({column:r,line:i}));let a;Lr(o.source)?a=An(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||An(this.map.mapFile));let u={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(Do)u.file=Do(a);else throw new Error("file: protocol is not available in this PostCSS build");let c=s.sourceContentFor(o.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var bi=ni;ni.default=ni;Hi&&Hi.registerInput&&Hi.registerInput(ni);let{SourceMapConsumer:Za,SourceMapGenerator:Wn}=Fe,{dirname:Yn,relative:Xa,resolve:Ka,sep:Ja}=Fe,{pathToFileURL:Oo}=Fe,Ig=bi,Mg=!!(Za&&Wn),Ag=!!(Yn&&Ka&&Xa&&Ja),Dg=class{constructor(e,t,i,r){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),i=e.root||Yn(e.file),r;this.mapOpts.sourcesContent===!1?(r=new Za(e.text),r.sourcesContent&&(r.sourcesContent=null)):r=e.consumer(),this.map.applySourceMap(r,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Ag&&Mg&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Wn.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Wn({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Wn({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,i="<no source>",r={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(r.generated.line=e,r.generated.column=t-1,a.source&&a.source.start?(r.source=this.sourcePath(a),r.original.line=a.source.start.line,r.original.column=a.source.start.column-1,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,this.map.addMapping(r))),s=l.match(/\n/g),s?(e+=s.length,o=l.lastIndexOf(`
`),t=l.length-o):t+=l.length,a&&u!=="start"){let c=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==c.last||c.raws.semicolon)&&(a.source&&a.source.end?(r.source=this.sourcePath(a),r.original.line=a.source.end.line,r.original.column=a.source.end.column-1,r.generated.line=e,r.generated.column=t-2,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,r.generated.line=e,r.generated.column=t-1,this.map.addMapping(r)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?Yn(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=Yn(Ka(i,this.mapOpts.annotation)));let r=Xa(i,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Ig(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let r=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Oo){let i=Oo(e).toString();return this.memoizedFileURLs.set(e,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;Ja==="\\"&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};var qa=Dg;let Pg=Ci,Vr=class extends Pg{constructor(e){super(e),this.type="comment"}};var xi=Vr;Vr.default=Vr;let{isClean:Qa,my:eu}=cn,tu=Si,nu=xi,Ng=Ci,iu,Rs,Es,ru;function su(n){return n.map(e=>(e.nodes&&(e.nodes=su(e.nodes)),delete e.source,e))}function ou(n){if(n[Qa]=!1,n.proxyOf.nodes)for(let e of n.proxyOf.nodes)ou(e)}let He=class lu extends Ng{append(...e){for(let t of e){let i=this.normalize(t,this.last);for(let r of i)this.proxyOf.nodes.push(r)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),i,r;for(;this.indexes[t]<this.proxyOf.nodes.length&&(i=this.indexes[t],r=e(this.proxyOf.nodes[i],i),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...i)=>e[t](...i.map(r=>typeof r=="function"?(s,o)=>r(s.toProxy(),o):r)):t==="every"||t==="some"?i=>e[t]((r,...s)=>i(r.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(i=>i.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let o of r)this.proxyOf.nodes.splice(i+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],i<s&&(this.indexes[o]=s+r.length);return this.markDirty(),this}insertBefore(e,t){let i=this.index(e),r=i===0?"prepend":!1,s=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let l of s)this.proxyOf.nodes.splice(i,0,l);let o;for(let l in this.indexes)o=this.indexes[l],i<=o&&(this.indexes[l]=o+s.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=su(iu(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new tu(e)]}else if(e.selector)e=[new Rs(e)];else if(e.name)e=[new Es(e)];else if(e.text)e=[new nu(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[eu]||lu.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[Qa]&&ou(r),typeof r.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(r.raws.before=t.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let t of e){let i=this.normalize(t,this.first,"prepend").reverse();for(let r of i)this.proxyOf.nodes.unshift(r);for(let r in this.indexes)this.indexes[r]=this.indexes[r]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls(r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,i))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,i)=>{let r;try{r=e(t,i)}catch(s){throw t.addToError(s)}return r!==!1&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="atrule"&&e.test(i.name))return t(i,r)}):this.walk((i,r)=>{if(i.type==="atrule"&&i.name===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="atrule")return t(i,r)}))}walkComments(e){return this.walk((t,i)=>{if(t.type==="comment")return e(t,i)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="decl"&&e.test(i.prop))return t(i,r)}):this.walk((i,r)=>{if(i.type==="decl"&&i.prop===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="decl")return t(i,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="rule"&&e.test(i.selector))return t(i,r)}):this.walk((i,r)=>{if(i.type==="rule"&&i.selector===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="rule")return t(i,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};He.registerParse=n=>{iu=n};He.registerRule=n=>{Rs=n};He.registerAtRule=n=>{Es=n};He.registerRoot=n=>{ru=n};var dt=He;He.default=He;He.rebuild=n=>{n.type==="atrule"?Object.setPrototypeOf(n,Es.prototype):n.type==="rule"?Object.setPrototypeOf(n,Rs.prototype):n.type==="decl"?Object.setPrototypeOf(n,tu.prototype):n.type==="comment"?Object.setPrototypeOf(n,nu.prototype):n.type==="root"&&Object.setPrototypeOf(n,ru.prototype),n[eu]=!0,n.nodes&&n.nodes.forEach(e=>{He.rebuild(e)})};let Og=dt,au,uu,en=class extends Og{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new au(new uu,this,e).stringify()}};en.registerLazyResult=n=>{au=n};en.registerProcessor=n=>{uu=n};var _s=en;en.default=en;let zr=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var cu=zr;zr.default=zr;let kg=cu,jr=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new kg(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Is=jr;jr.default=jr;const Yi=39,ko=34,Dn=92,Fo=47,Pn=10,Lt=32,Nn=12,On=9,kn=13,Fg=91,Tg=93,$g=40,Lg=41,Bg=123,Vg=125,zg=59,jg=42,Ug=58,Gg=64,Fn=/[\t\n\f\r "#'()/;[\\\]{}]/g,Tn=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Hg=/.[\r\n"'(/\\]/,To=/[\da-f]/i;var Wg=function(e,t={}){let i=e.css.valueOf(),r=t.ignoreErrors,s,o,l,a,u,c,d,f,g,p,v=i.length,h=0,m=[],w=[];function y(){return h}function C(_){throw e.error("Unclosed "+_,h)}function x(){return w.length===0&&h>=v}function A(_){if(w.length)return w.pop();if(h>=v)return;let O=_?_.ignoreUnclosed:!1;switch(s=i.charCodeAt(h),s){case Pn:case Lt:case On:case kn:case Nn:{o=h;do o+=1,s=i.charCodeAt(o);while(s===Lt||s===Pn||s===On||s===kn||s===Nn);p=["space",i.slice(h,o)],h=o-1;break}case Fg:case Tg:case Bg:case Vg:case Ug:case zg:case Lg:{let B=String.fromCharCode(s);p=[B,B,h];break}case $g:{if(f=m.length?m.pop()[1]:"",g=i.charCodeAt(h+1),f==="url"&&g!==Yi&&g!==ko&&g!==Lt&&g!==Pn&&g!==On&&g!==Nn&&g!==kn){o=h;do{if(c=!1,o=i.indexOf(")",o+1),o===-1)if(r||O){o=h;break}else C("bracket");for(d=o;i.charCodeAt(d-1)===Dn;)d-=1,c=!c}while(c);p=["brackets",i.slice(h,o+1),h,o],h=o}else o=i.indexOf(")",h+1),a=i.slice(h,o+1),o===-1||Hg.test(a)?p=["(","(",h]:(p=["brackets",a,h,o],h=o);break}case Yi:case ko:{l=s===Yi?"'":'"',o=h;do{if(c=!1,o=i.indexOf(l,o+1),o===-1)if(r||O){o=h+1;break}else C("string");for(d=o;i.charCodeAt(d-1)===Dn;)d-=1,c=!c}while(c);p=["string",i.slice(h,o+1),h,o],h=o;break}case Gg:{Fn.lastIndex=h+1,Fn.test(i),Fn.lastIndex===0?o=i.length-1:o=Fn.lastIndex-2,p=["at-word",i.slice(h,o+1),h,o],h=o;break}case Dn:{for(o=h,u=!0;i.charCodeAt(o+1)===Dn;)o+=1,u=!u;if(s=i.charCodeAt(o+1),u&&s!==Fo&&s!==Lt&&s!==Pn&&s!==On&&s!==kn&&s!==Nn&&(o+=1,To.test(i.charAt(o)))){for(;To.test(i.charAt(o+1));)o+=1;i.charCodeAt(o+1)===Lt&&(o+=1)}p=["word",i.slice(h,o+1),h,o],h=o;break}default:{s===Fo&&i.charCodeAt(h+1)===jg?(o=i.indexOf("*/",h+2)+1,o===0&&(r||O?o=i.length:C("comment")),p=["comment",i.slice(h,o+1),h,o],h=o):(Tn.lastIndex=h+1,Tn.test(i),Tn.lastIndex===0?o=i.length-1:o=Tn.lastIndex-2,p=["word",i.slice(h,o+1),h,o],m.push(p),h=o);break}}return h++,p}function N(_){w.push(_)}return{back:N,endOfFile:x,nextToken:A,position:y}};let fu=dt,ii=class extends fu{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var Ms=ii;ii.default=ii;fu.registerAtRule(ii);let du=dt,hu,pu,At=class extends du{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let r=super.normalize(e);if(t){if(i==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of r)s.raws.before=t.raws.before}return r}removeChild(e,t){let i=this.index(e);return!t&&i===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new hu(new pu,this,e).stringify()}};At.registerLazyResult=n=>{hu=n};At.registerProcessor=n=>{pu=n};var fn=At;At.default=At;du.registerRoot(At);let tn={comma(n){return tn.split(n,[","],!0)},space(n){let e=[" ",`
`,"	"];return tn.split(n,e)},split(n,e,t){let i=[],r="",s=!1,o=0,l=!1,a="",u=!1;for(let c of n)u?u=!1:c==="\\"?u=!0:l?c===a&&(l=!1):c==='"'||c==="'"?(l=!0,a=c):c==="("?o+=1:c===")"?o>0&&(o-=1):o===0&&e.includes(c)&&(s=!0),s?(r!==""&&i.push(r.trim()),r="",s=!1):r+=c;return(t||r!=="")&&i.push(r.trim()),i}};var gu=tn;tn.default=tn;let mu=dt,Yg=gu,ri=class extends mu{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Yg.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var As=ri;ri.default=ri;mu.registerRule(ri);let Zg=Si,Xg=Wg,Kg=xi,Jg=Ms,qg=fn,$o=As;const Lo={empty:!0,space:!0};function Qg(n){for(let e=n.length-1;e>=0;e--){let t=n[e],i=t[3]||t[2];if(i)return i}}let em=class{constructor(e){this.input=e,this.root=new qg,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Jg;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,r,s,o=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),i=e[0],i==="("||i==="["?u.push(i==="("?")":"]"):i==="{"&&u.length>0?u.push("}"):i===u[u.length-1]&&u.pop(),u.length===0)if(i===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){l=!0;break}else if(i==="}"){if(a.length>0){for(s=a.length-1,r=a[s];r&&r[0]==="space";)r=a[--s];r&&(t.source.end=this.getPosition(r[3]||r[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let i=0,r;for(let s=t-1;s>=0&&(r=e[s],!(r[0]!=="space"&&(i+=1,i===2)));s--);throw this.input.error("Missed semicolon",r[0]==="word"?r[3]+1:r[2])}colon(e){let t=0,i,r,s;for(let[o,l]of e.entries()){if(i=l,r=i[0],r==="("&&(t+=1),r===")"&&(t-=1),t===0&&r===":")if(!s)this.doubleColon(i);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=i}return!1}comment(e){let t=new Kg;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let r=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}createTokenizer(){this.tokenizer=Xg(this.input)}decl(e,t){let i=new Zg;this.init(i,e[0][2]);let r=e[e.length-1];for(r[0]===";"&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(r[3]||r[2]||Qg(e)),i.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;i.prop+=e.shift()[1]}i.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){i.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(s=e[u],s[1].toLowerCase()==="!important"){i.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(i.raws.important=c);break}else if(s[1].toLowerCase()==="important"){let c=e.slice(0),d="";for(let f=u;f>0;f--){let g=c[f][0];if(d.trim().indexOf("!")===0&&g!=="space")break;d=c.pop()[1]+d}d.trim().indexOf("!")===0&&(i.important=!0,i.raws.important=d,e=c)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(i.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(i,"value",o.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new $o;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,i=null,r=!1,s=null,o=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(i=u[0],a.push(u),i==="("||i==="[")s||(s=u),o.push(i==="("?")":"]");else if(l&&r&&i==="{")s||(s=u),o.push("}");else if(o.length===0)if(i===";")if(r){this.decl(a,l);return}else break;else if(i==="{"){this.rule(a);return}else if(i==="}"){this.tokenizer.back(a.pop()),t=!0;break}else i===":"&&(r=!0);else i===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&r){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,r){let s,o,l=i.length,a="",u=!0,c,d;for(let f=0;f<l;f+=1)s=i[f],o=s[0],o==="space"&&f===l-1&&!r?u=!1:o==="comment"?(d=i[f-1]?i[f-1][0]:"empty",c=i[f+1]?i[f+1][0]:"empty",!Lo[d]&&!Lo[c]?a.slice(-1)===","?u=!1:a+=s[1]:u=!1):a+=s[1];if(!u){let f=i.reduce((g,p)=>g+p[1],"");e.raws[t]={raw:f,value:a}}e[t]=a}rule(e){e.pop();let t=new $o;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],t==="space");)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let r=t;r<e.length;r++)i+=e[r][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var tm=em;let nm=dt,im=tm,rm=bi;function si(n,e){let t=new rm(n,e),i=new im(t);try{i.parse()}catch(r){throw r}return i.root}var Ds=si;si.default=si;nm.registerParse(si);let{isClean:Le,my:sm}=cn,om=qa,lm=wi,am=dt,um=_s,Bo=Is,cm=Ds,fm=fn;const dm={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},hm={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},pm={Once:!0,postcssPlugin:!0,prepare:!0},Dt=0;function Bt(n){return typeof n=="object"&&typeof n.then=="function"}function yu(n){let e=!1,t=dm[n.type];return n.type==="decl"?e=n.prop.toLowerCase():n.type==="atrule"&&(e=n.name.toLowerCase()),e&&n.append?[t,t+"-"+e,Dt,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:n.append?[t,Dt,t+"Exit"]:[t,t+"Exit"]}function Vo(n){let e;return n.type==="document"?e=["Document",Dt,"DocumentExit"]:n.type==="root"?e=["Root",Dt,"RootExit"]:e=yu(n),{eventIndex:0,events:e,iterator:0,node:n,visitorIndex:0,visitors:[]}}function Ur(n){return n[Le]=!1,n.nodes&&n.nodes.forEach(e=>Ur(e)),n}let Gr={},Pt=class vu{constructor(e,t,i){this.stringified=!1,this.processed=!1;let r;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))r=Ur(t);else if(t instanceof vu||t instanceof Bo)r=Ur(t.root),t.map&&(typeof i.map>"u"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{let s=cm;i.syntax&&(s=i.syntax.parse),i.parser&&(s=i.parser),s.parse&&(s=s.parse);try{r=s(t,i)}catch(o){this.processed=!0,this.error=o}r&&!r[sm]&&am.rebuild(r)}this.result=new Bo(e,r,i),this.helpers={...Gr,postcss:Gr,result:this.result},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=i.postcssPlugin,e.setMessage()):i.postcssVersion}catch(r){console&&console.error&&console.error(r)}return e}prepareVisitors(){this.listeners={};let e=(t,i,r)=>{this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push([t,r])};for(let t of this.plugins)if(typeof t=="object")for(let i in t){if(!hm[i]&&/^[A-Z]/.test(i))throw new Error(`Unknown event ${i} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!pm[i])if(typeof t[i]=="object")for(let r in t[i])r==="*"?e(t,i,t[i][r]):e(t,i+"-"+r.toLowerCase(),t[i][r]);else typeof t[i]=="function"&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],i=this.runOnRoot(t);if(Bt(i))try{await i}catch(r){throw this.handleError(r)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Le];){e[Le]=!0;let t=[Vo(e)];for(;t.length>0;){let i=this.visitTick(t);if(Bt(i))try{await i}catch(r){let s=t[t.length-1].node;throw this.handleError(r,s)}}}if(this.listeners.OnceExit)for(let[t,i]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let r=e.nodes.map(s=>i(s,this.helpers));await Promise.all(r)}else await i(e,this.helpers)}catch(r){throw this.handleError(r)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(i=>e.Once(i,this.helpers));return Bt(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=lm;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new om(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Bt(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Le];)e[Le]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[i,r]of e){this.result.lastPlugin=i;let s;try{s=r(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Bt(s))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:r}=t;if(i.type!=="root"&&i.type!=="document"&&!i.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[o,l]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(i.toProxy(),this.helpers)}catch(a){throw this.handleError(a,i)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=i.nodes[i.indexes[o]];)if(i.indexes[o]+=1,!l[Le]){l[Le]=!0,e.push(Vo(l));return}t.iterator=0,delete i.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===Dt){i.nodes&&i.nodes.length&&(i[Le]=!0,t.iterator=i.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[Le]=!0;let t=yu(e);for(let i of t)if(i===Dt)e.nodes&&e.each(r=>{r[Le]||this.walkSync(r)});else{let r=this.listeners[i];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Pt.registerPostcss=n=>{Gr=n};var wu=Pt;Pt.default=Pt;fm.registerLazyResult(Pt);um.registerLazyResult(Pt);let gm=qa,mm=wi,ym=Ds;const vm=Is;let Hr=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let r,s=mm;this.result=new vm(this._processor,r,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new gm(s,r,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=ym;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var wm=Hr;Hr.default=Hr;let Cm=wm,Sm=wu,bm=_s,xm=fn,nn=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(i.postcss===!0?i=i():i.postcss&&(i=i.postcss),typeof i=="object"&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if(typeof i=="object"&&i.postcssPlugin)t.push(i);else if(typeof i=="function")t.push(i);else if(!(typeof i=="object"&&(i.parse||i.stringify)))throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new Cm(this,e,t):new Sm(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Rm=nn;nn.default=nn;xm.registerProcessor(nn);bm.registerProcessor(nn);let Em=Si,_m=Ya,Im=xi,Mm=Ms,Am=bi,Dm=fn,Pm=As;function rn(n,e){if(Array.isArray(n))return n.map(r=>rn(r));let{inputs:t,...i}=n;if(t){e=[];for(let r of t){let s={...r,__proto__:Am.prototype};s.map&&(s.map={...s.map,__proto__:_m.prototype}),e.push(s)}}if(i.nodes&&(i.nodes=n.nodes.map(r=>rn(r,e))),i.source){let{inputId:r,...s}=i.source;i.source=s,r!=null&&(i.source.input=e[r])}if(i.type==="root")return new Dm(i);if(i.type==="decl")return new Em(i);if(i.type==="rule")return new Pm(i);if(i.type==="comment")return new Im(i);if(i.type==="atrule")return new Mm(i);throw new Error("Unknown node type: "+n.type)}var Nm=rn;rn.default=rn;let Om=xs,Cu=Si,km=wu,Fm=dt,Ps=Rm,Tm=wi,$m=Nm,Su=_s,Lm=cu,bu=xi,xu=Ms,Bm=Is,Vm=bi,zm=Ds,jm=gu,Ru=As,Eu=fn,Um=Ci;function ee(...n){return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new Ps(n)}ee.plugin=function(e,t){let i=!1;function r(...o){console&&console.warn&&!i&&(i=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Xn.LANG&&Xn.LANG.startsWith("cn")&&console.warn(e+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new Ps().version,l}let s;return Object.defineProperty(r,"postcss",{get(){return s||(s=r()),s}}),r.process=function(o,l,a){return ee([r(a)]).process(o,l)},r};ee.stringify=Tm;ee.parse=zm;ee.fromJSON=$m;ee.list=jm;ee.comment=n=>new bu(n);ee.atRule=n=>new xu(n);ee.decl=n=>new Cu(n);ee.rule=n=>new Ru(n);ee.root=n=>new Eu(n);ee.document=n=>new Su(n);ee.CssSyntaxError=Om;ee.Declaration=Cu;ee.Container=Fm;ee.Processor=Ps;ee.Document=Su;ee.Comment=bu;ee.Warning=Lm;ee.AtRule=xu;ee.Result=Bm;ee.Input=Vm;ee.Rule=Ru;ee.Root=Eu;ee.Node=Um;km.registerPostcss(ee);var Gm=ee;ee.default=ee;const fe=ng(Gm);fe.stringify;fe.fromJSON;fe.plugin;fe.parse;fe.list;fe.document;fe.comment;fe.atRule;fe.rule;fe.decl;fe.root;fe.CssSyntaxError;fe.Declaration;fe.Container;fe.Processor;fe.Document;fe.Comment;fe.Warning;fe.AtRule;fe.Result;fe.Input;fe.Rule;fe.Root;fe.Node;var H=(n=>(n[n.Document=0]="Document",n[n.DocumentType=1]="DocumentType",n[n.Element=2]="Element",n[n.Text=3]="Text",n[n.CDATA=4]="CDATA",n[n.Comment=5]="Comment",n))(H||{});function Hm(n){const e={},t=/;(?![^(]*\))/g,i=/:(.+)/,r=/\/\*.*?\*\//g;return n.replace(r,"").split(t).forEach(function(s){if(s){const o=s.split(i);o.length>1&&(e[Wr(o[0].trim())]=o[1].trim())}}),e}function zo(n){const e=[];for(const t in n){const i=n[t];if(typeof i!="string")continue;const r=Xm(t);e.push(`${r}: ${i};`)}return e.join(" ")}const Wm=/-([a-z])/g,Ym=/^--[a-zA-Z0-9-]+$/,Wr=n=>Ym.test(n)?n:n.replace(Wm,(e,t)=>t?t.toUpperCase():""),Zm=/\B([A-Z])/g,Xm=n=>n.replace(Zm,"-$1").toLowerCase();class Te{constructor(...e){D(this,"parentElement",null),D(this,"parentNode",null),D(this,"ownerDocument"),D(this,"firstChild",null),D(this,"lastChild",null),D(this,"previousSibling",null),D(this,"nextSibling",null),D(this,"ELEMENT_NODE",1),D(this,"TEXT_NODE",3),D(this,"nodeType"),D(this,"nodeName"),D(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof Te){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class Ns extends Te{constructor(...e){super(e),D(this,"nodeType",9),D(this,"nodeName","#document"),D(this,"compatMode","CSS1Compat"),D(this,"RRNodeType",H.Document),D(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find(e=>e.RRNodeType===H.Element&&e.tagName==="HTML")||null}get body(){var e;return((e=this.documentElement)==null?void 0:e.childNodes.find(t=>t.RRNodeType===H.Element&&t.tagName==="BODY"))||null}get head(){var e;return((e=this.documentElement)==null?void 0:e.childNodes.find(t=>t.RRNodeType===H.Element&&t.tagName==="HEAD"))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if((t===H.Element||t===H.DocumentType)&&this.childNodes.some(r=>r.RRNodeType===t))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===H.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const i=Os(this,e);return i.parentElement=null,i}insertBefore(e,t){const i=e.RRNodeType;if((i===H.Element||i===H.DocumentType)&&this.childNodes.some(s=>s.RRNodeType===i))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${i===H.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const r=Du(this,e,t);return r.parentElement=null,r}removeChild(e){return Pu(this,e)}open(){this.firstChild=null,this.lastChild=null}close(){}write(e){let t;if(e==='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'?t="-//W3C//DTD XHTML 1.0 Transitional//EN":e==='<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'&&(t="-//W3C//DTD HTML 4.0 Transitional//EN"),t){const i=this.createDocumentType("html",t,"");this.open(),this.appendChild(i)}}createDocument(e,t,i){return new Ns}createDocumentType(e,t,i){const r=new _u(e,t,i);return r.ownerDocument=this,r}createElement(e){const t=new Ri(e);return t.ownerDocument=this,t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new Iu(e);return t.ownerDocument=this,t}createComment(e){const t=new Mu(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new Au(e);return t.ownerDocument=this,t}toString(){return"RRDocument"}}class _u extends Te{constructor(e,t,i){super(),D(this,"nodeType",10),D(this,"RRNodeType",H.DocumentType),D(this,"name"),D(this,"publicId"),D(this,"systemId"),D(this,"textContent",null),this.name=e,this.publicId=t,this.systemId=i,this.nodeName=e}toString(){return"RRDocumentType"}}class Ri extends Te{constructor(e){super(),D(this,"nodeType",1),D(this,"RRNodeType",H.Element),D(this,"tagName"),D(this,"attributes",{}),D(this,"shadowRoot",null),D(this,"scrollLeft"),D(this,"scrollTop"),this.tagName=e.toUpperCase(),this.nodeName=e.toUpperCase()}get textContent(){let e="";return this.childNodes.forEach(t=>e+=t.textContent),e}set textContent(e){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(e))}get classList(){return new qm(this.attributes.class,e=>{this.attributes.class=e})}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?Hm(this.attributes.style):{},t=/\B([A-Z])/g;return e.setProperty=(i,r,s)=>{if(t.test(i))return;const o=Wr(i);r?e[o]=r:delete e[o],s==="important"&&(e[o]+=" !important"),this.attributes.style=zo(e)},e.removeProperty=i=>{if(t.test(i))return"";const r=Wr(i),s=e[r]||"";return delete e[r],this.attributes.style=zo(e),s},e}getAttribute(e){return this.attributes[e]===void 0?null:this.attributes[e]}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,i){this.setAttribute(t,i)}removeAttribute(e){delete this.attributes[e]}appendChild(e){return Os(this,e)}insertBefore(e,t){return Du(this,e,t)}removeChild(e){return Pu(this,e)}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=t,t}dispatchEvent(e){return!0}toString(){let e="";for(const t in this.attributes)e+=`${t}="${this.attributes[t]}" `;return`${this.tagName} ${e}`}}class Km extends Ri{constructor(){super(...arguments),D(this,"currentTime"),D(this,"volume"),D(this,"paused"),D(this,"muted"),D(this,"playbackRate"),D(this,"loop")}attachShadow(e){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class Jm extends Ri{constructor(){super(...arguments),D(this,"tagName","DIALOG"),D(this,"nodeName","DIALOG")}get isModal(){return this.getAttribute("rr_open_mode")==="modal"}get open(){return this.getAttribute("open")!==null}close(){this.removeAttribute("open"),this.removeAttribute("rr_open_mode")}show(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","non-modal")}showModal(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","modal")}}class Iu extends Te{constructor(e){super(),D(this,"nodeType",3),D(this,"nodeName","#text"),D(this,"RRNodeType",H.Text),D(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class Mu extends Te{constructor(e){super(),D(this,"nodeType",8),D(this,"nodeName","#comment"),D(this,"RRNodeType",H.Comment),D(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class Au extends Te{constructor(e){super(),D(this,"nodeName","#cdata-section"),D(this,"nodeType",4),D(this,"RRNodeType",H.CDATA),D(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class qm{constructor(e,t){if(D(this,"onChange"),D(this,"classes",[]),D(this,"add",(...i)=>{for(const r of i){const s=String(r);this.classes.indexOf(s)>=0||this.classes.push(s)}this.onChange&&this.onChange(this.classes.join(" "))}),D(this,"remove",(...i)=>{this.classes=this.classes.filter(r=>i.indexOf(r)===-1),this.onChange&&this.onChange(this.classes.join(" "))}),e){const i=e.trim().split(/\s+/);this.classes.push(...i)}this.onChange=t}}function Os(n,e){return e.parentNode&&e.parentNode.removeChild(e),n.lastChild?(n.lastChild.nextSibling=e,e.previousSibling=n.lastChild):(n.firstChild=e,e.previousSibling=null),n.lastChild=e,e.nextSibling=null,e.parentNode=n,e.parentElement=n,e.ownerDocument=n.ownerDocument,e}function Du(n,e,t){if(!t)return Os(n,e);if(t.parentNode!==n)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return e===t||(e.parentNode&&e.parentNode.removeChild(e),e.previousSibling=t.previousSibling,t.previousSibling=e,e.nextSibling=t,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,e.parentElement=n,e.parentNode=n,e.ownerDocument=n.ownerDocument),e}function Pu(n,e){if(e.parentNode!==n)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return e.previousSibling?e.previousSibling.nextSibling=e.nextSibling:n.firstChild=e.nextSibling,e.nextSibling?e.nextSibling.previousSibling=e.previousSibling:n.lastChild=e.previousSibling,e.previousSibling=null,e.nextSibling=null,e.parentElement=null,e.parentNode=null,e}var _e=(n=>(n[n.PLACEHOLDER=0]="PLACEHOLDER",n[n.ELEMENT_NODE=1]="ELEMENT_NODE",n[n.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",n[n.TEXT_NODE=3]="TEXT_NODE",n[n.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",n[n.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",n[n.ENTITY_NODE=6]="ENTITY_NODE",n[n.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",n[n.COMMENT_NODE=8]="COMMENT_NODE",n[n.DOCUMENT_NODE=9]="DOCUMENT_NODE",n[n.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",n[n.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",n))(_e||{});const Yr={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},Qm={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let Ve=null;function oi(n,e,t,i=e.mirror||e.ownerDocument.mirror){n=ey(n,e,t,i),Nu(n,e,t,i),ty(n,e,t)}function ey(n,e,t,i){var r;if(t.afterAppend&&!Ve&&(Ve=new WeakSet,setTimeout(()=>{Ve=null},0)),!ks(n,e)){const s=li(e,t.mirror,i);(r=n.parentNode)==null||r.replaceChild(s,n),n=s}switch(e.RRNodeType){case H.Document:{if(!yt(n,e,t.mirror,i)){const s=i.getMeta(e);s&&(t.mirror.removeNodeFromMap(n),n.close(),n.open(),t.mirror.add(n,s),Ve==null||Ve.add(n))}break}case H.Element:{const s=n,o=e;switch(o.tagName){case"IFRAME":{const l=n.contentDocument;if(!l)break;oi(l,e.contentDocument,t,i);break}}o.shadowRoot&&(s.shadowRoot||s.attachShadow({mode:"open"}),Nu(s.shadowRoot,o.shadowRoot,t,i)),ny(s,o,i);break}}return n}function ty(n,e,t){var i;switch(e.RRNodeType){case H.Document:{const r=e.scrollData;r&&t.applyScroll(r,!0);break}case H.Element:{const r=n,s=e;switch(s.scrollData&&t.applyScroll(s.scrollData,!0),s.inputData&&t.applyInput(s.inputData),s.tagName){case"AUDIO":case"VIDEO":{const o=n,l=s;l.paused!==void 0&&(l.paused?o.pause():o.play()),l.muted!==void 0&&(o.muted=l.muted),l.volume!==void 0&&(o.volume=l.volume),l.currentTime!==void 0&&(o.currentTime=l.currentTime),l.playbackRate!==void 0&&(o.playbackRate=l.playbackRate),l.loop!==void 0&&(o.loop=l.loop);break}case"CANVAS":{const o=e;if(o.rr_dataURL!==null){const l=document.createElement("img");l.onload=()=>{const a=r.getContext("2d");a&&a.drawImage(l,0,0,l.width,l.height)},l.src=o.rr_dataURL}o.canvasMutations.forEach(l=>t.applyCanvas(l.event,l.mutation,n));break}case"STYLE":{const o=r.sheet;o&&e.rules.forEach(l=>t.applyStyleSheetMutation(l,o));break}case"DIALOG":{const o=r,l=s,a=o.open,u=o.matches("dialog:modal"),c=l.open,d=l.isModal,f=u!==d,g=a!==c;if((f||a&&g)&&o.close(),c&&(g||f))try{d?o.showModal():o.show()}catch(p){console.warn(p)}break}}break}case H.Text:case H.Comment:case H.CDATA:{n.textContent!==e.data&&(n.textContent=e.data);break}}Ve!=null&&Ve.has(n)&&(Ve.delete(n),(i=t.afterAppend)==null||i.call(t,n,t.mirror.getId(n)))}function ny(n,e,t){const i=n.attributes,r=e.attributes;for(const s in r){const o=r[s],l=t.getMeta(e);if(l!=null&&l.isSVG&&Yr[s])n.setAttributeNS(Yr[s],s,o);else if(e.tagName==="CANVAS"&&s==="rr_dataURL"){const a=document.createElement("img");a.src=o,a.onload=()=>{const u=n.getContext("2d");u&&u.drawImage(a,0,0,a.width,a.height)}}else{if(e.tagName==="IFRAME"&&s==="srcdoc")continue;try{n.setAttribute(s,o)}catch(a){console.warn(a)}}}for(const{name:s}of Array.from(i))s in r||n.removeAttribute(s);e.scrollLeft&&(n.scrollLeft=e.scrollLeft),e.scrollTop&&(n.scrollTop=e.scrollTop)}function Nu(n,e,t,i){const r=Array.from(n.childNodes),s=e.childNodes;if(r.length===0&&s.length===0)return;let o=0,l=r.length-1,a=0,u=s.length-1,c=r[o],d=r[l],f=s[a],g=s[u],p,v;for(;o<=l&&a<=u;)if(c===void 0)c=r[++o];else if(d===void 0)d=r[--l];else if(yt(c,f,t.mirror,i))c=r[++o],f=s[++a];else if(yt(d,g,t.mirror,i))d=r[--l],g=s[--u];else if(yt(c,g,t.mirror,i)){try{n.insertBefore(c,d.nextSibling)}catch(w){console.warn(w)}c=r[++o],g=s[--u]}else if(yt(d,f,t.mirror,i)){try{n.insertBefore(d,c)}catch(w){console.warn(w)}d=r[--l],f=s[++a]}else{if(!p){p={};for(let y=o;y<=l;y++){const C=r[y];C&&t.mirror.hasNode(C)&&(p[t.mirror.getId(C)]=y)}}v=p[i.getId(f)];const w=r[v];if(v!==void 0&&w&&yt(w,f,t.mirror,i)){try{n.insertBefore(w,c)}catch(y){console.warn(y)}r[v]=void 0}else{const y=li(f,t.mirror,i);n.nodeName==="#document"&&c&&(y.nodeType===y.DOCUMENT_TYPE_NODE&&c.nodeType===c.DOCUMENT_TYPE_NODE||y.nodeType===y.ELEMENT_NODE&&c.nodeType===c.ELEMENT_NODE)&&(n.removeChild(c),t.mirror.removeNodeFromMap(c),c=r[++o]);try{n.insertBefore(y,c||null)}catch(C){console.warn(C)}}f=s[++a]}if(o>l){const w=s[u+1];let y=null;for(w&&(y=t.mirror.getNode(i.getId(w)));a<=u;++a){const C=li(s[a],t.mirror,i);try{n.insertBefore(C,y)}catch(x){console.warn(x)}}}else if(a>u)for(;o<=l;o++){const w=r[o];if(!(!w||w.parentNode!==n))try{n.removeChild(w),t.mirror.removeNodeFromMap(w)}catch(y){console.warn(y)}}let h=n.firstChild,m=e.firstChild;for(;h!==null&&m!==null;)oi(h,m,t,i),h=h.nextSibling,m=m.nextSibling}function li(n,e,t){const i=t.getId(n),r=t.getMeta(n);let s=null;if(i>-1&&(s=e.getNode(i)),s!==null&&ks(s,n))return s;switch(n.RRNodeType){case H.Document:s=new Document;break;case H.DocumentType:s=document.implementation.createDocumentType(n.name,n.publicId,n.systemId);break;case H.Element:{let o=n.tagName.toLowerCase();o=Qm[o]||o,r&&"isSVG"in r&&(r!=null&&r.isSVG)?s=document.createElementNS(Yr.svg,o):s=document.createElement(n.tagName);break}case H.Text:s=document.createTextNode(n.data);break;case H.Comment:s=document.createComment(n.data);break;case H.CDATA:s=document.createCDATASection(n.data);break}r&&e.add(s,{...r});try{Ve==null||Ve.add(s)}catch{}return s}function ks(n,e){return n.nodeType!==e.nodeType?!1:n.nodeType!==n.ELEMENT_NODE||n.tagName.toUpperCase()===e.tagName}function yt(n,e,t,i){const r=t.getId(n),s=i.getId(e);return r===-1||r!==s?!1:ks(n,e)}class Ot extends Ns{constructor(e){super(),D(this,"UNSERIALIZED_STARTING_ID",-2),D(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),D(this,"mirror",py()),D(this,"scrollData",null),e&&(this.mirror=e)}get unserializedId(){return this._unserializedId--}createDocument(e,t,i){return new Ot}createDocumentType(e,t,i){const r=new iy(e,t,i);return r.ownerDocument=this,r}createElement(e){const t=e.toUpperCase();let i;switch(t){case"AUDIO":case"VIDEO":i=new ry(t);break;case"IFRAME":i=new ay(t,this.mirror);break;case"CANVAS":i=new oy(t);break;case"STYLE":i=new ly(t);break;case"DIALOG":i=new sy(t);break;default:i=new Ei(t);break}return i.ownerDocument=this,i}createComment(e){const t=new cy(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new fy(e);return t.ownerDocument=this,t}createTextNode(e){const t=new uy(e);return t.ownerDocument=this,t}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const iy=_u;class Ei extends Ri{constructor(){super(...arguments),D(this,"inputData",null),D(this,"scrollData",null)}}class ry extends Km{}class sy extends Jm{}class oy extends Ei{constructor(){super(...arguments),D(this,"rr_dataURL",null),D(this,"canvasMutations",[])}getContext(){return null}}class ly extends Ei{constructor(){super(...arguments),D(this,"rules",[])}}class ay extends Ei{constructor(e,t){super(e),D(this,"contentDocument",new Ot),this.contentDocument.mirror=t}}const uy=Iu,cy=Mu,fy=Au;function dy(n){return n instanceof HTMLFormElement?"FORM":n.tagName.toUpperCase()}function Ou(n,e,t,i){let r;switch(n.nodeType){case _e.DOCUMENT_NODE:i&&i.nodeName==="IFRAME"?r=i.contentDocument:(r=e,r.compatMode=n.compatMode);break;case _e.DOCUMENT_TYPE_NODE:{const o=n;r=e.createDocumentType(o.name,o.publicId,o.systemId);break}case _e.ELEMENT_NODE:{const o=n,l=dy(o);r=e.createElement(l);const a=r;for(const{name:u,value:c}of Array.from(o.attributes))a.attributes[u]=c;o.scrollLeft&&(a.scrollLeft=o.scrollLeft),o.scrollTop&&(a.scrollTop=o.scrollTop);break}case _e.TEXT_NODE:r=e.createTextNode(n.textContent||"");break;case _e.CDATA_SECTION_NODE:r=e.createCDATASection(n.data);break;case _e.COMMENT_NODE:r=e.createComment(n.textContent||"");break;case _e.DOCUMENT_FRAGMENT_NODE:r=i.attachShadow({mode:"open"});break;default:return null}let s=t.getMeta(n);return e instanceof Ot&&(s||(s=ku(r,e.unserializedId),t.add(n,s)),e.mirror.add(r,{...s})),r}function hy(n,e=tg(),t=new Ot){function i(r,s){const o=Ou(r,t,e,s);if(o!==null)if((s==null?void 0:s.nodeName)!=="IFRAME"&&r.nodeType!==_e.DOCUMENT_FRAGMENT_NODE&&(s==null||s.appendChild(o),o.parentNode=s,o.parentElement=s),r.nodeName==="IFRAME"){const l=r.contentDocument;l&&i(l,o)}else(r.nodeType===_e.DOCUMENT_NODE||r.nodeType===_e.ELEMENT_NODE||r.nodeType===_e.DOCUMENT_FRAGMENT_NODE)&&(r.nodeType===_e.ELEMENT_NODE&&r.shadowRoot&&i(r.shadowRoot,o),r.childNodes.forEach(l=>i(l,o)))}return i(n,null),t}function py(){return new gy}class gy{constructor(){D(this,"idNodeMap",new Map),D(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?((t=this.getMeta(e))==null?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ku(n,e){switch(n.RRNodeType){case H.Document:return{id:e,type:n.RRNodeType,childNodes:[]};case H.DocumentType:{const t=n;return{id:e,type:n.RRNodeType,name:t.name,publicId:t.publicId,systemId:t.systemId}}case H.Element:return{id:e,type:n.RRNodeType,tagName:n.tagName.toLowerCase(),attributes:{},childNodes:[]};case H.Text:return{id:e,type:n.RRNodeType,textContent:n.textContent||""};case H.Comment:return{id:e,type:n.RRNodeType,textContent:n.textContent||""};case H.CDATA:return{id:e,type:n.RRNodeType,textContent:""}}}const jo={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Uo={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},$n={},my=()=>!!globalThis.Zone;function Fs(n){if($n[n])return $n[n];const e=globalThis[n],t=e.prototype,i=n in jo?jo[n]:void 0,r=!!(i&&i.every(l=>{var a,u;return!!((u=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&u.toString().includes("[native code]"))})),s=n in Uo?Uo[n]:void 0,o=!!(s&&s.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(r&&o&&!my())return $n[n]=e.prototype,e.prototype;try{const l=document.createElement("iframe");document.body.appendChild(l);const a=l.contentWindow;if(!a)return e.prototype;const u=a[n].prototype;return document.body.removeChild(l),u?$n[n]=u:t}catch{return t}}const Zi={};function tt(n,e,t){var i;const r=`${n}.${String(t)}`;if(Zi[r])return Zi[r].call(e);const s=Fs(n),o=(i=Object.getOwnPropertyDescriptor(s,t))==null?void 0:i.get;return o?(Zi[r]=o,o.call(e)):e[t]}const Xi={};function Fu(n,e,t){const i=`${n}.${String(t)}`;if(Xi[i])return Xi[i].bind(e);const s=Fs(n)[t];return typeof s!="function"?e[t]:(Xi[i]=s,s.bind(e))}function yy(n){return tt("Node",n,"childNodes")}function vy(n){return tt("Node",n,"parentNode")}function wy(n){return tt("Node",n,"parentElement")}function Cy(n){return tt("Node",n,"textContent")}function Sy(n,e){return Fu("Node",n,"contains")(e)}function by(n){return Fu("Node",n,"getRootNode")()}function xy(n){return!n||!("host"in n)?null:tt("ShadowRoot",n,"host")}function Ry(n){return n.styleSheets}function Ey(n){return!n||!("shadowRoot"in n)?null:tt("Element",n,"shadowRoot")}function _y(n,e){return tt("Element",n,"querySelector")(e)}function Iy(n,e){return tt("Element",n,"querySelectorAll")(e)}function My(){return Fs("MutationObserver").constructor}function Ay(n,e,t){try{if(!(e in n))return()=>{};const i=n[e],r=t(i);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),n[e]=r,()=>{n[e]=i}}catch{return()=>{}}}const Dy={childNodes:yy,parentNode:vy,parentElement:wy,textContent:Cy,contains:Sy,getRootNode:by,host:xy,styleSheets:Ry,shadowRoot:Ey,querySelector:_y,querySelectorAll:Iy,mutationObserver:My,patch:Ay},vt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Go={map:{},getId(){return console.error(vt),-1},getNode(){return console.error(vt),null},removeNodeFromMap(){console.error(vt)},has(){return console.error(vt),!1},reset(){console.error(vt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Go=new Proxy(Go,{get(n,e,t){return e==="map"&&console.error(vt),Reflect.get(n,e,t)}}));Date.now().toString();function Py(n=window){"NodeList"in n&&!n.NodeList.prototype.forEach&&(n.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in n&&!n.DOMTokenList.prototype.forEach&&(n.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Ny(n){const e={},t=(r,s)=>{const o={value:r,parent:s,children:[]};return e[r.node.id]=o,o},i=[];for(const r of n){const{nextId:s,parentId:o}=r;if(s&&s in e){const l=e[s];if(l.parent){const a=l.parent.children.indexOf(l);l.parent.children.splice(a,0,t(r,l.parent))}else{const a=i.indexOf(l);i.splice(a,0,t(r,null))}continue}if(o in e){const l=e[o];l.children.push(t(r,l));continue}i.push(t(r,null))}return i}function Tu(n,e){e(n.value);for(let t=n.children.length-1;t>=0;t--)Tu(n.children[t],e)}function Ki(n,e){return!!(n.nodeName==="IFRAME"&&e.getMeta(n))}function $u(n,e){var t,i;const r=(i=(t=n.ownerDocument)==null?void 0:t.defaultView)==null?void 0:i.frameElement;if(!r||r===e)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=r.getBoundingClientRect(),o=$u(r,e),l=s.height/r.clientHeight;return{x:s.x*o.relativeScale+o.x,y:s.y*o.relativeScale+o.y,relativeScale:l,absoluteScale:o.absoluteScale*l}}function Ln(n){return n?n instanceof Te&&"shadowRoot"in n?!!n.shadowRoot:!!Dy.shadowRoot(n):!1}function zt(n,e){const t=n[e[0]];return e.length===1?t:zt(t.cssRules[e[1]].cssRules,e.slice(2))}function Ho(n){const e=[...n],t=e.pop();return{positions:e,index:t}}function Oy(n){const e=new Set,t=[];for(let i=n.length;i--;){const r=n[i];e.has(r.id)||(t.push(r),e.add(r.id))}return t}class ky{constructor(){$(this,"id",1),$(this,"styleIDMap",new WeakMap),$(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let i;return t===void 0?i=this.id++:i=t,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var he=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(he||{}),q=(n=>(n[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n))(q||{}),ve=(n=>(n[n.MouseUp=0]="MouseUp",n[n.MouseDown=1]="MouseDown",n[n.Click=2]="Click",n[n.ContextMenu=3]="ContextMenu",n[n.DblClick=4]="DblClick",n[n.Focus=5]="Focus",n[n.Blur=6]="Blur",n[n.TouchStart=7]="TouchStart",n[n.TouchMove_Departed=8]="TouchMove_Departed",n[n.TouchEnd=9]="TouchEnd",n[n.TouchCancel=10]="TouchCancel",n))(ve||{}),ai=(n=>(n[n["2D"]=0]="2D",n[n.WebGL=1]="WebGL",n[n.WebGL2=2]="WebGL2",n))(ai||{}),Zr=(n=>(n[n.Play=0]="Play",n[n.Pause=1]="Pause",n[n.Seeked=2]="Seeked",n[n.VolumeChange=3]="VolumeChange",n[n.RateChange=4]="RateChange",n))(Zr||{}),Y=(n=>(n.Start="start",n.Pause="pause",n.Resume="resume",n.Resize="resize",n.Finish="finish",n.FullsnapshotRebuilded="fullsnapshot-rebuilded",n.LoadStylesheetStart="load-stylesheet-start",n.LoadStylesheetEnd="load-stylesheet-end",n.SkipStart="skip-start",n.SkipEnd="skip-end",n.MouseInteraction="mouse-interaction",n.EventCast="event-cast",n.CustomEvent="custom-event",n.Flush="flush",n.StateChange="state-change",n.PlayBack="play-back",n.Destroy="destroy",n))(Y||{}),Xe=(n=>(n[n.Document=0]="Document",n[n.DocumentType=1]="DocumentType",n[n.Element=2]="Element",n[n.Text=3]="Text",n[n.CDATA=4]="CDATA",n[n.Comment=5]="Comment",n))(Xe||{}),Wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bn=0;Bn<Wo.length;Bn++)jt[Wo.charCodeAt(Bn)]=Bn;var Fy=function(n){var e=n.length*.75,t=n.length,i,r=0,s,o,l,a;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=new ArrayBuffer(e),c=new Uint8Array(u);for(i=0;i<t;i+=4)s=jt[n.charCodeAt(i)],o=jt[n.charCodeAt(i+1)],l=jt[n.charCodeAt(i+2)],a=jt[n.charCodeAt(i+3)],c[r++]=s<<2|o>>4,c[r++]=(o&15)<<4|l>>2,c[r++]=(l&3)<<6|a&63;return u};const Ty="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",$y=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0));typeof window<"u"&&window.Blob&&new Blob([$y(Ty)],{type:"text/javascript;charset=utf-8"});try{if(Array.from([1],n=>n*2)[0]!==2){const n=document.createElement("iframe");document.body.appendChild(n),Array.from=((no=n.contentWindow)==null?void 0:no.Array.from)||Array.from,document.body.removeChild(n)}}catch(n){console.debug("Unable to override Array.from",n)}la();function Lu(n){return{all:n=n||new Map,on:function(e,t){var i=n.get(e);i?i.push(t):n.set(e,[t])},off:function(e,t){var i=n.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var i=n.get(e);i&&i.slice().map(function(r){r(t)}),(i=n.get("*"))&&i.slice().map(function(r){r(e,t)})}}}const Ly=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"}));function By(n=window,e=document){if("scrollBehavior"in e.documentElement.style&&n.__forceSmoothScrollPolyfill__!==!0)return;const t=n.HTMLElement||n.Element,i=468,r={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:t.prototype.scroll||a,scrollIntoView:t.prototype.scrollIntoView},s=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now;function o(m){const w=["MSIE ","Trident/","Edge/"];return new RegExp(w.join("|")).test(m)}const l=o(n.navigator.userAgent)?1:0;function a(m,w){this.scrollLeft=m,this.scrollTop=w}function u(m){return .5*(1-Math.cos(Math.PI*m))}function c(m){if(m===null||typeof m!="object"||m.behavior===void 0||m.behavior==="auto"||m.behavior==="instant")return!0;if(typeof m=="object"&&m.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+m.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(m,w){if(w==="Y")return m.clientHeight+l<m.scrollHeight;if(w==="X")return m.clientWidth+l<m.scrollWidth}function f(m,w){const y=n.getComputedStyle(m,null)["overflow"+w];return y==="auto"||y==="scroll"}function g(m){const w=d(m,"Y")&&f(m,"Y"),y=d(m,"X")&&f(m,"X");return w||y}function p(m){for(;m!==e.body&&g(m)===!1;)m=m.parentNode||m.host;return m}function v(m){const w=s();let y,C,x,A=(w-m.startTime)/i;A=A>1?1:A,y=u(A),C=m.startX+(m.x-m.startX)*y,x=m.startY+(m.y-m.startY)*y,m.method.call(m.scrollable,C,x),(C!==m.x||x!==m.y)&&n.requestAnimationFrame(v.bind(n,m))}function h(m,w,y){let C,x,A,N;const _=s();m===e.body?(C=n,x=n.scrollX||n.pageXOffset,A=n.scrollY||n.pageYOffset,N=r.scroll):(C=m,x=m.scrollLeft,A=m.scrollTop,N=a),v({scrollable:C,method:N,startTime:_,startX:x,startY:A,x:w,y})}n.scroll=n.scrollTo=function(){if(arguments[0]!==void 0){if(c(arguments[0])===!0){r.scroll.call(n,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:n.scrollX||n.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:n.scrollY||n.pageYOffset);return}h.call(n,e.body,arguments[0].left!==void 0?~~arguments[0].left:n.scrollX||n.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:n.scrollY||n.pageYOffset)}},n.scrollBy=function(){if(arguments[0]!==void 0){if(c(arguments[0])){r.scrollBy.call(n,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}h.call(n,e.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset))}},t.prototype.scroll=t.prototype.scrollTo=function(){if(arguments[0]===void 0)return;if(c(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}const m=arguments[0].left,w=arguments[0].top;h.call(this,this,typeof m>"u"?this.scrollLeft:~~m,typeof w>"u"?this.scrollTop:~~w)},t.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(c(arguments[0])===!0){r.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},t.prototype.scrollIntoView=function(){if(c(arguments[0])===!0){r.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}const m=p(this),w=m.getBoundingClientRect(),y=this.getBoundingClientRect();m!==e.body?(h.call(this,m,m.scrollLeft+y.left-w.left,m.scrollTop+y.top-w.top),n.getComputedStyle(m).position!=="fixed"&&n.scrollBy({left:w.left,top:w.top,behavior:"smooth"})):n.scrollBy({left:y.left,top:y.top,behavior:"smooth"})}}class Vy{constructor(e=[],t){$(this,"timeOffset",0),$(this,"speed"),$(this,"actions"),$(this,"raf",null),$(this,"lastTimestamp"),this.actions=e,this.speed=t.speed}addAction(e){const t=this.raf===!0;if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay)this.actions.push(e);else{const i=this.findActionIndex(e);this.actions.splice(i,0,e)}t&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const e=performance.now();for(this.timeOffset+=(e-this.lastTimestamp)*this.speed,this.lastTimestamp=e;this.actions.length;){const t=this.actions[0];if(this.timeOffset>=t.delay)this.actions.shift(),t.doAction();else break}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(this.raf!==!0&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(e){this.speed=e}isActive(){return this.raf!==null}findActionIndex(e){let t=0,i=this.actions.length-1;for(;t<=i;){const r=Math.floor((t+i)/2);if(this.actions[r].delay<e.delay)t=r+1;else if(this.actions[r].delay>e.delay)i=r-1;else return r+1}return t}}function Yo(n,e){if(n.type===he.IncrementalSnapshot&&n.data.source===q.MouseMove&&n.data.positions&&n.data.positions.length){const t=n.data.positions[0].timeOffset,i=n.timestamp+t;return n.delay=i-e,i-e}return n.delay=n.timestamp-e,n.delay}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Zo(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,s=t.call(n),o=[];try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}return o}var St;(function(n){n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped"})(St||(St={}));var Bu={type:"xstate.init"};function Ji(n){return n===void 0?[]:[].concat(n)}function wt(n){return{type:"xstate.assign",assignment:n}}function Xo(n,e){return typeof(n=typeof n=="string"&&e&&e[n]?e[n]:n)=="string"?{type:n}:typeof n=="function"?{type:n.name,exec:n}:n}function ui(n){return function(e){return n===e}}function Vu(n){return typeof n=="string"?{type:n}:n}function Ko(n,e){return{value:n,context:e,actions:[],changed:!1,matches:ui(n)}}function Jo(n,e,t){var i=e,r=!1;return[n.filter(function(s){if(s.type==="xstate.assign"){r=!0;var o=Object.assign({},i);return typeof s.assignment=="function"?o=s.assignment(i,t):Object.keys(s.assignment).forEach(function(l){o[l]=typeof s.assignment[l]=="function"?s.assignment[l](i,t):s.assignment[l]}),i=o,!1}return!0}),i,r]}function zu(n,e){e===void 0&&(e={});var t=Zo(Jo(Ji(n.states[n.initial].entry).map(function(o){return Xo(o,e.actions)}),n.context,Bu),2),i=t[0],r=t[1],s={config:n,_options:e,initialState:{value:n.initial,actions:i,context:r,matches:ui(n.initial)},transition:function(o,l){var a,u,c=typeof o=="string"?{value:o,context:n.context}:o,d=c.value,f=c.context,g=Vu(l),p=n.states[d];if(p.on){var v=Ji(p.on[g.type]);try{for(var h=function(z){var J=typeof Symbol=="function"&&Symbol.iterator,de=J&&z[J],re=0;if(de)return de.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&re>=z.length&&(z=void 0),{value:z&&z[re++],done:!z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),m=h.next();!m.done;m=h.next()){var w=m.value;if(w===void 0)return Ko(d,f);var y=typeof w=="string"?{target:w}:w,C=y.target,x=y.actions,A=x===void 0?[]:x,N=y.cond,_=N===void 0?function(){return!0}:N,O=C===void 0,B=C??d,ce=n.states[B];if(_(f,g)){var ne=Zo(Jo((O?Ji(A):[].concat(p.exit,A,ce.entry).filter(function(z){return z})).map(function(z){return Xo(z,s._options.actions)}),f,g),3),K=ne[0],V=ne[1],ie=ne[2],k=C??d;return{value:k,context:V,actions:K,changed:C!==d||K.length>0||ie,matches:ui(k)}}}}catch(z){a={error:z}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}return Ko(d,f)}};return s}var qo=function(n,e){return n.actions.forEach(function(t){var i=t.exec;return i&&i(n.context,e)})};function ju(n){var e=n.initialState,t=St.NotStarted,i=new Set,r={_machine:n,send:function(s){t===St.Running&&(e=n.transition(e,s),qo(e,Vu(s)),i.forEach(function(o){return o(e)}))},subscribe:function(s){return i.add(s),s(e),{unsubscribe:function(){return i.delete(s)}}},start:function(s){if(s){var o=typeof s=="object"?s:{context:n.config.context,value:s};e={value:o.value,actions:[],context:o.context,matches:ui(o.value)}}return t=St.Running,qo(e,Bu),r},stop:function(){return t=St.Stopped,i.clear(),r},get state(){return e},get status(){return t}};return r}function zy(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.type===he.Meta&&i.timestamp<=e)return n.slice(t)}return n}function jy(n,{getCastFn:e,applyEventsSynchronously:t,emitter:i}){const r=zu({id:"player",context:n,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:wt({lastPlayedEvent:(s,o)=>o.type==="CAST_EVENT"?o.payload.event:s.lastPlayedEvent}),recordTimeOffset:wt((s,o)=>{let l=s.timeOffset;return"payload"in o&&"timeOffset"in o.payload&&(l=o.payload.timeOffset),{...s,timeOffset:l,baselineTime:s.events[0].timestamp+l}}),play(s){var o;const{timer:l,events:a,baselineTime:u,lastPlayedEvent:c}=s;l.clear();for(const p of a)Yo(p,u);const d=zy(a,u);let f=c==null?void 0:c.timestamp;(c==null?void 0:c.type)===he.IncrementalSnapshot&&c.data.source===q.MouseMove&&(f=c.timestamp+((o=c.data.positions[0])==null?void 0:o.timeOffset)),u<(f||0)&&i.emit(Y.PlayBack);const g=new Array;for(const p of d)if(!(f&&f<u&&(p.timestamp<=f||p===c)))if(p.timestamp<u)g.push(p);else{const v=e(p,!1);l.addAction({doAction:()=>{v()},delay:p.delay})}t(g),i.emit(Y.Flush),l.start()},pause(s){s.timer.clear()},resetLastPlayedEvent:wt(s=>({...s,lastPlayedEvent:null})),startLive:wt({baselineTime:(s,o)=>(s.timer.start(),o.type==="TO_LIVE"&&o.payload.baselineTime?o.payload.baselineTime:Date.now())}),addEvent:wt((s,o)=>{const{baselineTime:l,timer:a,events:u}=s;if(o.type==="ADD_EVENT"){const{event:c}=o.payload;Yo(c,l);let d=u.length-1;if(!u[d]||u[d].timestamp<=c.timestamp)u.push(c);else{let p=-1,v=0;for(;v<=d;){const h=Math.floor((v+d)/2);u[h].timestamp<=c.timestamp?v=h+1:d=h-1}p===-1&&(p=v),u.splice(p,0,c)}const f=c.timestamp<l,g=e(c,f);f?g():a.isActive()&&a.addAction({doAction:()=>{g()},delay:c.delay})}return{...s,events:u}})}});return ju(r)}function Uy(n){const e=zu({id:"speed",context:n,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(t,i)=>{"payload"in i&&t.timer.setSpeed(i.payload.speed)},recordSpeed:wt({normalSpeed:t=>t.timer.speed}),restoreSpeed:t=>{t.timer.setSpeed(t.normalSpeed)}}});return ju(e)}const Gy=n=>[`.${n} { background: currentColor }`,"noscript { display: none !important; }"],Qo=new Map;function Uu(n,e){let t=Qo.get(n);return t||(t=new Map,Qo.set(n,t)),t.has(e)||t.set(e,[]),t.get(e)}function Je(n,e,t){return async i=>{if(i&&typeof i=="object"&&"rr_type"in i)if(t&&(t.isUnchanged=!1),i.rr_type==="ImageBitmap"&&"args"in i){const r=await Je(n,e,t)(i.args);return await createImageBitmap.apply(null,r)}else if("index"in i){if(t||e===null)return i;const{rr_type:r,index:s}=i;return Uu(e,r)[s]}else if("args"in i){const{rr_type:r,args:s}=i,o=window[r];return new o(...await Promise.all(s.map(Je(n,e,t))))}else{if("base64"in i)return Fy(i.base64);if("src"in i){const r=n.get(i.src);if(r)return r;{const s=new Image;return s.src=i.src,n.set(i.src,s),s}}else if("data"in i&&i.rr_type==="Blob"){const r=await Promise.all(i.data.map(Je(n,e,t)));return new Blob(r,{type:i.type})}}else if(Array.isArray(i))return await Promise.all(i.map(Je(n,e,t)));return i}}function Hy(n,e){try{return e===ai.WebGL?n.getContext("webgl")||n.getContext("experimental-webgl"):n.getContext("webgl2")}catch{return null}}const Wy=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function Yy(n,e){if(!(e!=null&&e.constructor))return;const{name:t}=e.constructor;if(!Wy.includes(t))return;const i=Uu(n,t);i.includes(e)||i.push(e)}async function Zy({mutation:n,target:e,type:t,imageMap:i,errorHandler:r}){try{const s=Hy(e,t);if(!s)return;if(n.setter){s[n.property]=n.args[0];return}const o=s[n.property],l=await Promise.all(n.args.map(Je(i,s))),a=o.apply(s,l);Yy(s,a);const u=!1}catch(s){r(n,s)}}async function Xy({event:n,mutations:e,target:t,imageMap:i,errorHandler:r}){const s=t.getContext("2d");if(!s){r(e[0],new Error("Canvas context is null"));return}const o=e.map(async a=>Promise.all(a.args.map(Je(i,s))));(await Promise.all(o)).forEach((a,u)=>{const c=e[u];try{if(c.setter){s[c.property]=c.args[0];return}const d=s[c.property];c.property==="drawImage"&&typeof c.args[0]=="string"?(i.get(n),d.apply(s,c.args)):d.apply(s,a)}catch(d){r(c,d)}})}async function el({event:n,mutation:e,target:t,imageMap:i,canvasEventMap:r,errorHandler:s}){try{const o=r.get(n)||e,l="commands"in o?o.commands:[o];if([ai.WebGL,ai.WebGL2].includes(e.type)){for(let a=0;a<l.length;a++){const u=l[a];await Zy({mutation:u,type:e.type,target:t,imageMap:i,errorHandler:s})}return}await Xy({event:n,mutations:l,target:t,imageMap:i,errorHandler:s})}catch(o){s(e,o)}}class Ky{constructor(e){$(this,"mediaMap",new Map),$(this,"warn"),$(this,"service"),$(this,"speedService"),$(this,"emitter"),$(this,"getCurrentTime"),$(this,"metadataCallbackMap",new Map),this.warn=e.warn,this.service=e.service,this.speedService=e.speedService,this.emitter=e.emitter,this.getCurrentTime=e.getCurrentTime,this.emitter.on(Y.Start,this.start.bind(this)),this.emitter.on(Y.SkipStart,this.start.bind(this)),this.emitter.on(Y.Pause,this.pause.bind(this)),this.emitter.on(Y.Finish,this.pause.bind(this)),this.speedService.subscribe(()=>{this.syncAllMediaElements()})}syncAllMediaElements(e={pause:!1}){this.mediaMap.forEach((t,i)=>{this.syncTargetWithState(i),e.pause&&i.pause()})}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:e,target:t,mediaState:i}){if(i.isPlaying){const s=(e-i.lastInteractionTimeOffset)/1e3*i.playbackRate,o="duration"in t&&t.duration;if(Number.isNaN(o)){this.waitForMetadata(t);return}let l=i.currentTimeAtLastInteraction+s;t.loop&&o!==!1&&(l=l%o),t.currentTime=l}else t.pause(),t.currentTime=i.currentTimeAtLastInteraction}waitForMetadata(e){if(this.metadataCallbackMap.has(e)||!("addEventListener"in e))return;const t=()=>{this.metadataCallbackMap.delete(e);const i=this.mediaMap.get(e);i&&this.seekTo({time:this.getCurrentTime(),target:e,mediaState:i})};this.metadataCallbackMap.set(e,t),e.addEventListener("loadedmetadata",t,{once:!0})}getMediaStateFromMutation({target:e,timeOffset:t,mutation:i}){const r=this.mediaMap.get(e),{type:s,playbackRate:o,currentTime:l,muted:a,volume:u,loop:c}=i;return{isPlaying:s===Zr.Play||s!==Zr.Pause&&((r==null?void 0:r.isPlaying)||e.getAttribute("autoplay")!==null),currentTimeAtLastInteraction:l??(r==null?void 0:r.currentTimeAtLastInteraction)??0,lastInteractionTimeOffset:t,playbackRate:o??(r==null?void 0:r.playbackRate)??1,volume:u??(r==null?void 0:r.volume)??1,muted:a??(r==null?void 0:r.muted)??e.getAttribute("muted")===null,loop:c??(r==null?void 0:r.loop)??e.getAttribute("loop")===null}}syncTargetWithState(e){const t=this.mediaMap.get(e);if(!t)return;const{muted:i,loop:r,volume:s,isPlaying:o}=t,l=this.service.state.matches("paused"),a=t.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t}),e.volume!==s&&(e.volume=s),e.muted=i,e.loop=r,e.playbackRate!==a&&(e.playbackRate=a),o&&!l?e.play():e.pause()}catch(u){this.warn(`Failed to replay media interactions: ${u.message||u}`)}}addMediaElements(e,t,i){if(!["AUDIO","VIDEO"].includes(e.nodeName))return;const r=e,s=i.getMeta(r);if(!s||!("attributes"in s))return;const o=this.service.state.matches("paused"),l=s.attributes;let a=!1;l.rr_mediaState?a=l.rr_mediaState==="played":a=r.getAttribute("autoplay")!==null,a&&o&&r.pause();let u=1;typeof l.rr_mediaPlaybackRate=="number"&&(u=l.rr_mediaPlaybackRate);let c=!1;typeof l.rr_mediaMuted=="boolean"?c=l.rr_mediaMuted:c=r.getAttribute("muted")!==null;let d=!1;typeof l.rr_mediaLoop=="boolean"?d=l.rr_mediaLoop:d=r.getAttribute("loop")!==null;let f=1;typeof l.rr_mediaVolume=="number"&&(f=l.rr_mediaVolume);let g=0;typeof l.rr_mediaCurrentTime=="number"&&(g=l.rr_mediaCurrentTime),this.mediaMap.set(r,{isPlaying:a,currentTimeAtLastInteraction:g,lastInteractionTimeOffset:t,playbackRate:u,volume:f,muted:c,loop:d}),this.syncTargetWithState(r)}mediaMutation({target:e,timeOffset:t,mutation:i}){this.mediaMap.set(e,this.getMediaStateFromMutation({target:e,timeOffset:t,mutation:i})),this.syncTargetWithState(e)}isSupportedMediaElement(e){return["AUDIO","VIDEO"].includes(e.nodeName)}reset(){this.mediaMap.clear()}}function Vn(n,e){if(n.nodeName!=="DIALOG"||n instanceof Te)return;const t=n,i=t.open,r=i&&t.matches("dialog:modal"),s=t.getAttribute("rr_open_mode"),o=typeof(e==null?void 0:e.attributes.open)=="string"||typeof t.getAttribute("open")=="string",l=s==="modal";if(!(i&&!(r&&s==="non-modal"||!r&&l))){if(!t.isConnected){console.warn("dialog is not attached to the dom",t);return}i&&t.close(),o&&(l?t.showModal():t.show())}}function Jy(n,e){if(n.nodeName!=="DIALOG"||n instanceof Te)return;const t=n;if(!t.isConnected){console.warn("dialog is not attached to the dom",t);return}e.attributes.open===null&&(t.removeAttribute("open"),t.removeAttribute("rr_open_mode"))}const qy=5*1e3,Qy=Lu||Ly,tl="[replayer]",qi={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function nl(n){return n.type==he.IncrementalSnapshot&&(n.data.source==q.TouchMove||n.data.source==q.MouseInteraction&&n.data.type==ve.TouchStart)}class ev{constructor(e,t){if($(this,"wrapper"),$(this,"iframe"),$(this,"service"),$(this,"speedService"),$(this,"config"),$(this,"usingVirtualDom",!1),$(this,"virtualDom",new Ot),$(this,"mouse"),$(this,"mouseTail",null),$(this,"tailPositions",[]),$(this,"emitter",Qy()),$(this,"nextUserInteractionEvent"),$(this,"legacy_missingNodeRetryMap",{}),$(this,"cache",xo()),$(this,"imageMap",new Map),$(this,"canvasEventMap",new Map),$(this,"mirror",la()),$(this,"styleMirror",new ky),$(this,"mediaManager"),$(this,"firstFullSnapshot",null),$(this,"newDocumentQueue",[]),$(this,"mousePos",null),$(this,"touchActive",null),$(this,"lastMouseDownEvent",null),$(this,"lastHoveredRootNode"),$(this,"lastSelectionData",null),$(this,"constructedStyleMutations",[]),$(this,"adoptedStyleSheets",[]),$(this,"handleResize",l=>{this.iframe.style.display="inherit";for(const a of[this.mouseTail,this.iframe])a&&(a.setAttribute("width",String(l.width)),a.setAttribute("height",String(l.height)))}),$(this,"applyEventsSynchronously",l=>{for(const a of l){switch(a.type){case he.DomContentLoaded:case he.Load:case he.Custom:continue;case he.FullSnapshot:case he.Meta:case he.Plugin:case he.IncrementalSnapshot:break}this.getCastFn(a,!0)()}}),$(this,"getCastFn",(l,a=!1)=>{let u;switch(l.type){case he.DomContentLoaded:case he.Load:break;case he.Custom:u=()=>{this.emitter.emit(Y.CustomEvent,l)};break;case he.Meta:u=()=>this.emitter.emit(Y.Resize,{width:l.data.width,height:l.data.height});break;case he.FullSnapshot:u=()=>{var d;if(this.firstFullSnapshot){if(this.firstFullSnapshot===l){this.firstFullSnapshot=!0;return}}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(l,a),(d=this.iframe.contentWindow)==null||d.scrollTo(l.data.initialOffset)};break;case he.IncrementalSnapshot:u=()=>{if(this.applyIncremental(l,a),!a&&(l===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const d of this.service.state.context.events)if(!(d.timestamp<=l.timestamp)&&this.isUserInteraction(d)){d.delay-l.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=d);break}if(this.nextUserInteractionEvent){const d=this.nextUserInteractionEvent.delay-l.delay,f={speed:Math.min(Math.round(d/qy),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:f}),this.emitter.emit(Y.SkipStart,f)}}};break}return()=>{u&&u();for(const f of this.config.plugins||[])f.handler&&f.handler(l,a,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:l}});const d=this.service.state.context.events.length-1;if(!this.config.liveMode&&l===this.service.state.context.events[d]){const f=()=>{d<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(Y.Finish))};let g=50;l.type===he.IncrementalSnapshot&&l.data.source===q.MouseMove&&l.data.positions.length&&(g+=Math.max(0,-l.data.positions[0].timeOffset)),setTimeout(f,g)}this.emitter.emit(Y.EventCast,l)}}),!(t!=null&&t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");const i={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:10*1e3,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:qi,useVirtualDom:!0,logger:console};this.config=Object.assign({},i,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(Y.Resize,this.handleResize),this.setupDom();for(const l of this.config.plugins||[])l.getMirror&&l.getMirror({nodeMirror:this.mirror});this.emitter.on(Y.Flush,()=>{if(this.usingVirtualDom){const l={mirror:this.mirror,applyCanvas:(a,u,c)=>{el({event:a,mutation:u,target:c,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(a,u)=>{a.source===q.StyleSheetRule?this.applyStyleSheetRule(a,u):a.source===q.StyleDeclaration&&this.applyStyleDeclaration(a,u)},afterAppend:(a,u)=>{for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(a,{id:u,replayer:this})}};if(this.iframe.contentDocument)try{oi(this.iframe.contentDocument,this.virtualDom,l,this.virtualDom.mirror)}catch(a){console.warn(a)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const a in this.legacy_missingNodeRetryMap)try{const u=this.legacy_missingNodeRetryMap[a],c=li(u.node,this.mirror,this.virtualDom.mirror);oi(c,u.node,l,this.virtualDom.mirror),u.node=c}catch(u){this.warn(u)}this.constructedStyleMutations.forEach(a=>{this.applyStyleSheetMutation(a)}),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach(a=>{this.applyAdoptedStyleSheet(a)}),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),this.touchActive===!0?this.mouse.classList.add("touch-active"):this.touchActive===!1&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[l,a]=this.lastMouseDownEvent;l.dispatchEvent(a)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)}),this.emitter.on(Y.PlayBack,()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()});const r=new Vy([],{speed:this.config.speed});this.service=jy({events:e.map(l=>t&&t.unpackFn?t.unpackFn(l):l).sort((l,a)=>l.timestamp-a.timestamp),timer:r,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe(l=>{this.emitter.emit(Y.StateChange,{player:l})}),this.speedService=Uy({normalSpeed:-1,timer:r}),this.speedService.start(),this.speedService.subscribe(l=>{this.emitter.emit(Y.StateChange,{speed:l})}),this.mediaManager=new Ky({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const s=this.service.state.context.events.find(l=>l.type===he.Meta),o=this.service.state.context.events.find(l=>l.type===he.FullSnapshot);if(s){const{width:l,height:a}=s.data;setTimeout(()=>{this.emitter.emit(Y.Resize,{width:l,height:a})},0)}o&&setTimeout(()=>{var l;this.firstFullSnapshot||(this.firstFullSnapshot=o,this.rebuildFullSnapshot(o),(l=this.iframe.contentWindow)==null||l.scrollTo(o.data.initialOffset))},1),this.service.state.context.events.find(nl)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}setConfig(e){Object.keys(e).forEach(t=>{e[t],this.config[t]=e[t]}),this.config.skipInactive||this.backToNormal(),typeof e.speed<"u"&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),typeof e.mouseTail<"u"&&(e.mouseTail===!1?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,i;this.service.state.matches("paused")?this.service.send({type:"PLAY",payload:{timeOffset:e}}):(this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}})),(i=(t=this.iframe.contentDocument)==null?void 0:t.getElementsByTagName("html")[0])==null||i.classList.remove("rrweb-paused"),this.emitter.emit(Y.Start)}pause(e){var t,i;e===void 0&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),typeof e=="number"&&(this.play(e),this.service.send({type:"PAUSE"})),(i=(t=this.iframe.contentDocument)==null?void 0:t.getElementsByTagName("html")[0])==null||i.classList.add("rrweb-paused"),this.emitter.emit(Y.Pause)}resume(e=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(Y.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(Y.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;nl(t)&&this.mouse.classList.add("touch-device"),Promise.resolve().then(()=>this.service.send({type:"ADD_EVENT",payload:{event:t}}))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=xo()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),this.config.mouseTail!==!1&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(By(this.iframe.contentWindow,this.iframe.contentDocument),Py(this.iframe.contentWindow))}rebuildFullSnapshot(e,t=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const i=[],r=new Set,s=(a,u)=>{if(a.nodeName==="DIALOG"&&r.add(a),this.collectIframeAndAttachDocument(i,a),this.mediaManager.isSupportedMediaElement(a)){const{events:c}=this.service.state.context;this.mediaManager.addMediaElements(a,e.timestamp-c[0].timestamp,this.mirror)}for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(a,{id:u,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),Xp(e.data.node,{doc:this.iframe.contentDocument,afterAppend:s,cache:this.cache,mirror:this.mirror}),s(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:a,builtNode:u}of i)this.attachDocumentToIframe(a,u),this.newDocumentQueue=this.newDocumentQueue.filter(c=>c!==a);const{documentElement:o,head:l}=this.iframe.contentDocument;this.insertStyleRules(o,l),r.forEach(a=>Vn(a)),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(Y.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(e,t){var i;const r=Gy(this.config.blockClass).concat(this.config.insertStyleRules);if(this.config.pauseAnimation&&r.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),!!r.length)if(this.usingVirtualDom){const s=this.virtualDom.createElement("style");this.virtualDom.mirror.add(s,ku(s,this.virtualDom.unserializedId)),e.insertBefore(s,t),s.rules.push({source:q.StyleSheetRule,adds:r.map((o,l)=>({rule:o,index:l}))})}else{const s=document.createElement("style");e.insertBefore(s,t);for(let o=0;o<r.length;o++)(i=s.sheet)==null||i.insertRule(r[o],o)}}attachDocumentToIframe(e,t){const i=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,r=[],s=new Set,o=(l,a)=>{l.nodeName==="DIALOG"&&s.add(l),this.collectIframeAndAttachDocument(r,l);const u=i.getMeta(l);if((u==null?void 0:u.type)===Xe.Element&&(u==null?void 0:u.tagName.toUpperCase())==="HTML"){const{documentElement:c,head:d}=t.contentDocument;this.insertStyleRules(c,d)}if(!this.usingVirtualDom)for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(l,{id:a,replayer:this})};Ht(e.node,{doc:t.contentDocument,mirror:i,hackCss:!0,skipChild:!1,afterAppend:o,cache:this.cache}),o(t.contentDocument,e.node.id);for(const{mutationInQueue:l,builtNode:a}of r)this.attachDocumentToIframe(l,a),this.newDocumentQueue=this.newDocumentQueue.filter(u=>u!==l);s.forEach(l=>Vn(l))}collectIframeAndAttachDocument(e,t){if(Ki(t,this.mirror)){const i=this.newDocumentQueue.find(r=>r.parentId===this.mirror.getId(t));i&&e.push({mutationInQueue:i,builtNode:t})}}waitForStylesheetLoad(){var e;const t=(e=this.iframe.contentDocument)==null?void 0:e.head;if(t){const i=new Set;let r,s=this.service.state;const o=()=>{s=this.service.state};this.emitter.on(Y.Start,o),this.emitter.on(Y.Pause,o);const l=()=>{this.emitter.off(Y.Start,o),this.emitter.off(Y.Pause,o)};t.querySelectorAll('link[rel="stylesheet"]').forEach(a=>{a.sheet||(i.add(a),a.addEventListener("load",()=>{i.delete(a),i.size===0&&r!==-1&&(s.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(Y.LoadStylesheetEnd),r&&clearTimeout(r),l())}))}),i.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(Y.LoadStylesheetStart),r=setTimeout(()=>{s.matches("playing")&&this.play(this.getCurrentTime()),r=-1,l()},this.config.loadTimeout))}}async preloadAllImages(){const e=[];for(const t of this.service.state.context.events)t.type===he.IncrementalSnapshot&&t.data.source===q.CanvasMutation&&(e.push(this.deserializeAndPreloadCanvasEvents(t.data,t)),("commands"in t.data?t.data.commands:[t.data]).forEach(r=>{this.preloadImages(r,t)}));return Promise.all(e)}preloadImages(e,t){if(e.property==="drawImage"&&typeof e.args[0]=="string"&&!this.imageMap.has(t)){const i=document.createElement("canvas"),r=i.getContext("2d"),s=r==null?void 0:r.createImageData(i.width,i.height);r==null||r.putImageData(s,0,0)}}async deserializeAndPreloadCanvasEvents(e,t){if(!this.canvasEventMap.has(t)){const i={isUnchanged:!0};if("commands"in e){const r=await Promise.all(e.commands.map(async s=>{const o=await Promise.all(s.args.map(Je(this.imageMap,null,i)));return{...s,args:o}}));i.isUnchanged===!1&&this.canvasEventMap.set(t,{...e,commands:r})}else{const r=await Promise.all(e.args.map(Je(this.imageMap,null,i)));i.isUnchanged===!1&&this.canvasEventMap.set(t,{...e,args:r})}}}applyIncremental(e,t){var i,r,s;const{data:o}=e;switch(o.source){case q.Mutation:{try{this.applyMutation(o,t)}catch(l){this.warn(`Exception in mutation ${l.message||l}`,o)}break}case q.Drag:case q.TouchMove:case q.MouseMove:if(t){const l=o.positions[o.positions.length-1];this.mousePos={x:l.x,y:l.y,id:l.id,debugData:o}}else o.positions.forEach(l=>{const a={doAction:()=>{this.moveAndHover(l.x,l.y,l.id,t,o)},delay:l.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(a)}),this.timer.addAction({doAction(){},delay:e.delay-((i=o.positions[0])==null?void 0:i.timeOffset)});break;case q.MouseInteraction:{if(o.id===-1)break;const l=new Event(Xd(ve[o.type])),a=this.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);this.emitter.emit(Y.MouseInteraction,{type:o.type,target:a});const{triggerFocus:u}=this.config;switch(o.type){case ve.Blur:"blur"in a&&a.blur();break;case ve.Focus:u&&a.focus&&a.focus({preventScroll:!0});break;case ve.Click:case ve.TouchStart:case ve.TouchEnd:case ve.MouseDown:case ve.MouseUp:t?(o.type===ve.TouchStart?this.touchActive=!0:o.type===ve.TouchEnd&&(this.touchActive=!1),o.type===ve.MouseDown?this.lastMouseDownEvent=[a,l]:o.type===ve.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:o.x||0,y:o.y||0,id:o.id,debugData:o}):(o.type===ve.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(o.x||0,o.y||0,o.id,t,o),o.type===ve.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):o.type===ve.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):o.type===ve.TouchEnd?this.mouse.classList.remove("touch-active"):a.dispatchEvent(l));break;case ve.TouchCancel:t?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:a.dispatchEvent(l)}break}case q.Scroll:{if(o.id===-1)break;if(this.usingVirtualDom){const l=this.virtualDom.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);l.scrollData=o;break}this.applyScroll(o,t);break}case q.ViewportResize:this.emitter.emit(Y.Resize,{width:o.width,height:o.height});break;case q.Input:{if(o.id===-1)break;if(this.usingVirtualDom){const l=this.virtualDom.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);l.inputData=o;break}this.applyInput(o);break}case q.MediaInteraction:{const l=this.usingVirtualDom?this.virtualDom.mirror.getNode(o.id):this.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);const a=l,{events:u}=this.service.state.context;this.mediaManager.mediaMutation({target:a,timeOffset:e.timestamp-u[0].timestamp,mutation:o});break}case q.StyleSheetRule:case q.StyleDeclaration:{this.usingVirtualDom?o.styleId?this.constructedStyleMutations.push(o):o.id&&((r=this.virtualDom.mirror.getNode(o.id))==null||r.rules.push(o)):this.applyStyleSheetMutation(o);break}case q.CanvasMutation:{if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const l=this.virtualDom.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);l.canvasMutations.push({event:e,mutation:o})}else{const l=this.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);el({event:e,mutation:o,target:l,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break}case q.Font:{try{const l=new FontFace(o.family,o.buffer?new Uint8Array(JSON.parse(o.fontSource)):o.fontSource,o.descriptors);(s=this.iframe.contentDocument)==null||s.fonts.add(l)}catch(l){this.warn(l)}break}case q.Selection:{if(t){this.lastSelectionData=o;break}this.applySelection(o);break}case q.AdoptedStyleSheet:{this.usingVirtualDom?this.adoptedStyleSheets.push(o):this.applyAdoptedStyleSheet(o);break}}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t&&(this.usingVirtualDom=!0,hy(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const u in this.legacy_missingNodeRetryMap)try{const c=this.legacy_missingNodeRetryMap[u],d=Ou(c.node,this.virtualDom,this.mirror);d&&(c.node=d)}catch(c){this.warn(c)}const i=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes=e.removes.filter(u=>i.getNode(u.id)?!0:(this.warnNodeNotFound(e,u.id),!1)),e.removes.forEach(u=>{var c;const d=i.getNode(u.id);if(!d)return;let f=i.getNode(u.parentId);if(!f)return this.warnNodeNotFound(e,u.parentId);if(u.isShadow&&Ln(f)&&(f=f.shadowRoot),i.removeNodeFromMap(d),f)try{f.removeChild(d),this.usingVirtualDom&&d.nodeName==="#text"&&f.nodeName==="STYLE"&&((c=f.rules)==null?void 0:c.length)>0&&(f.rules=[])}catch(g){if(g instanceof DOMException)this.warn("parent could not remove child in mutation",f,d,e);else throw g}});const r={...this.legacy_missingNodeRetryMap},s=[],o=u=>{let c=null;return u.nextId&&(c=i.getNode(u.nextId)),u.nextId!==null&&u.nextId!==void 0&&u.nextId!==-1&&!c},l=u=>{var c,d;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let f=i.getNode(u.parentId);if(!f)return u.node.type===Xe.Document?this.newDocumentQueue.push(u):s.push(u);u.node.isShadow&&(Ln(f)||f.attachShadow({mode:"open"}),f=f.shadowRoot);let g=null,p=null;if(u.previousId&&(g=i.getNode(u.previousId)),u.nextId&&(p=i.getNode(u.nextId)),o(u))return s.push(u);if(u.node.rootId&&!i.getNode(u.node.rootId))return;const v=u.node.rootId?i.getNode(u.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(Ki(f,i)){this.attachDocumentToIframe(u,f);return}const h=(y,C)=>{if(!this.usingVirtualDom){Vn(y);for(const x of this.config.plugins||[])x.onBuild&&x.onBuild(y,{id:C,replayer:this})}},m=Ht(u.node,{doc:v,mirror:i,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:h});if(u.previousId===-1||u.nextId===-1){r[u.node.id]={node:m,mutation:u};return}const w=i.getMeta(f);if(w&&w.type===Xe.Element&&u.node.type===Xe.Text){const y=Array.isArray(f.childNodes)?f.childNodes:Array.from(f.childNodes);if(w.tagName==="textarea")for(const C of y)C.nodeType===f.TEXT_NODE&&f.removeChild(C);else if(w.tagName==="style"&&y.length===1)for(const C of y)C.nodeType===f.TEXT_NODE&&!i.hasNode(C)&&(m.textContent=C.textContent,f.removeChild(C))}else if((w==null?void 0:w.type)===Xe.Document){const y=f;u.node.type===Xe.DocumentType&&((c=y.childNodes[0])==null?void 0:c.nodeType)===Node.DOCUMENT_TYPE_NODE&&y.removeChild(y.childNodes[0]),m.nodeName==="HTML"&&y.documentElement&&y.removeChild(y.documentElement)}if(g&&g.nextSibling&&g.nextSibling.parentNode?f.insertBefore(m,g.nextSibling):p&&p.parentNode?f.contains(p)?f.insertBefore(m,p):f.insertBefore(m,null):f.appendChild(m),h(m,u.node.id),this.usingVirtualDom&&m.nodeName==="#text"&&f.nodeName==="STYLE"&&((d=f.rules)==null?void 0:d.length)>0&&(f.rules=[]),Ki(m,this.mirror)){const y=this.mirror.getId(m),C=this.newDocumentQueue.find(x=>x.parentId===y);C&&(this.attachDocumentToIframe(C,m),this.newDocumentQueue=this.newDocumentQueue.filter(x=>x!==C))}(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(r,f,m,u)};e.adds.forEach(u=>{l(u)});const a=Date.now();for(;s.length;){const u=Ny(s);if(s.length=0,Date.now()-a>500){this.warn("Timeout in the loop, please check the resolve tree data:",u);break}for(const c of u)i.getNode(c.value.parentId)?Tu(c,f=>{l(f)}):this.debug("Drop resolve tree since there is no parent for the root node.",c)}Object.keys(r).length&&Object.assign(this.legacy_missingNodeRetryMap,r),Oy(e.texts).forEach(u=>{var c;const d=i.getNode(u.id);if(!d)return e.removes.find(g=>g.id===u.id)?void 0:this.warnNodeNotFound(e,u.id);const f=d.parentElement;if(u.value&&f&&f.tagName==="STYLE"?d.textContent=vi(u.value,this.cache):d.textContent=u.value,this.usingVirtualDom){const g=d.parentNode;((c=g==null?void 0:g.rules)==null?void 0:c.length)>0&&(g.rules=[])}}),e.attributes.forEach(u=>{var c;const d=i.getNode(u.id);if(!d)return e.removes.find(f=>f.id===u.id)?void 0:this.warnNodeNotFound(e,u.id);for(const f in u.attributes)if(typeof f=="string"){const g=u.attributes[f];if(g===null)d.removeAttribute(f),f==="open"&&Jy(d,u);else if(typeof g=="string")try{if(f==="_cssText"&&(d.nodeName==="LINK"||d.nodeName==="STYLE"))try{const p=i.getMeta(d),v=Ht({...p,attributes:{...p.attributes,...u.attributes}},{doc:d.ownerDocument,mirror:i,skipChild:!0,hackCss:!0,cache:this.cache});Object.assign(p.attributes,u.attributes);const h=d.nextSibling,m=d.parentNode;if(v&&m){m.removeChild(d),m.insertBefore(v,h),i.replace(u.id,v);break}}catch{}if(f==="value"&&d.nodeName==="TEXTAREA"){const p=d;p.childNodes.forEach(h=>p.removeChild(h));const v=(c=d.ownerDocument)==null?void 0:c.createTextNode(g);v&&p.appendChild(v)}else d.setAttribute(f,g);f==="rr_open_mode"&&d.nodeName==="DIALOG"&&Vn(d,u)}catch(p){this.warn("An error occurred may due to the checkout feature.",p)}else if(f==="style"){const p=g,v=d;for(const h in p)if(p[h]===!1)v.style.removeProperty(h);else if(p[h]instanceof Array){const m=p[h];v.style.setProperty(h,m[0],m[1])}else{const m=p[h];v.style.setProperty(h,m)}}}})}applyScroll(e,t){var i,r;const s=this.mirror.getNode(e.id);if(!s)return this.debugNodeNotFound(e,e.id);const o=this.mirror.getMeta(s);if(s===this.iframe.contentDocument)(i=this.iframe.contentWindow)==null||i.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else if((o==null?void 0:o.type)===Xe.Document)(r=s.defaultView)==null||r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else try{s.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch{}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch{}}applySelection(e){try{const t=new Set,i=e.ranges.map(({start:r,startOffset:s,end:o,endOffset:l})=>{const a=this.mirror.getNode(r),u=this.mirror.getNode(o);if(!a||!u)return;const c=new Range;c.setStart(a,s),c.setEnd(u,l);const d=a.ownerDocument,f=d==null?void 0:d.getSelection();return f&&t.add(f),{range:c,selection:f}});t.forEach(r=>r.removeAllRanges()),i.forEach(r=>{var s;return r&&((s=r.selection)==null?void 0:s.addRange(r.range))})}catch{}}applyStyleSheetMutation(e){var t;let i=null;e.styleId?i=this.styleMirror.getStyle(e.styleId):e.id&&(i=((t=this.mirror.getNode(e.id))==null?void 0:t.sheet)||null),i&&(e.source===q.StyleSheetRule?this.applyStyleSheetRule(e,i):e.source===q.StyleDeclaration&&this.applyStyleDeclaration(e,i))}applyStyleSheetRule(e,t){var i,r,s,o;if((i=e.adds)==null||i.forEach(({rule:l,index:a})=>{try{if(Array.isArray(a)){const{positions:u,index:c}=Ho(a);zt(t.cssRules,u).insertRule(l,c)}else{const u=a===void 0?void 0:Math.min(a,t.cssRules.length);t==null||t.insertRule(l,u)}}catch{}}),(r=e.removes)==null||r.forEach(({index:l})=>{try{if(Array.isArray(l)){const{positions:a,index:u}=Ho(l);zt(t.cssRules,a).deleteRule(u||0)}else t==null||t.deleteRule(l)}catch{}}),e.replace)try{(s=t.replace)==null||s.call(t,e.replace)}catch{}if(e.replaceSync)try{(o=t.replaceSync)==null||o.call(t,e.replaceSync)}catch{}}applyStyleDeclaration(e,t){e.set&&zt(t.rules,e.index).style.setProperty(e.set.property,e.set.value,e.set.priority),e.remove&&zt(t.rules,e.index).style.removeProperty(e.remove.property)}applyAdoptedStyleSheet(e){var t;const i=this.mirror.getNode(e.id);if(!i)return;(t=e.styles)==null||t.forEach(l=>{var a;let u=null,c=null;if(Ln(i)?c=((a=i.ownerDocument)==null?void 0:a.defaultView)||null:i.nodeName==="#document"&&(c=i.defaultView),!!c)try{u=new c.CSSStyleSheet,this.styleMirror.add(u,l.styleId),this.applyStyleSheetRule({source:q.StyleSheetRule,adds:l.rules},u)}catch{}});const r=10;let s=0;const o=(l,a)=>{const u=a.map(c=>this.styleMirror.getStyle(c)).filter(c=>c!==null);Ln(l)?l.shadowRoot.adoptedStyleSheets=u:l.nodeName==="#document"&&(l.adoptedStyleSheets=u),u.length!==a.length&&s<r&&(setTimeout(()=>o(l,a),0+100*s),s++)};o(i,e.styleIds)}legacy_resolveMissingNode(e,t,i,r){const{previousId:s,nextId:o}=r,l=s&&e[s],a=o&&e[o];if(l){const{node:u,mutation:c}=l;t.insertBefore(u,i),delete e[c.node.id],delete this.legacy_missingNodeRetryMap[c.node.id],(c.previousId||c.nextId)&&this.legacy_resolveMissingNode(e,t,u,c)}if(a){const{node:u,mutation:c}=a;t.insertBefore(u,i.nextSibling),delete e[c.node.id],delete this.legacy_missingNodeRetryMap[c.node.id],(c.previousId||c.nextId)&&this.legacy_resolveMissingNode(e,t,u,c)}}moveAndHover(e,t,i,r,s){const o=this.mirror.getNode(i);if(!o)return this.debugNodeNotFound(s,i);const l=$u(o,this.iframe),a=e*l.absoluteScale+l.x,u=t*l.absoluteScale+l.y;this.mouse.style.left=`${a}px`,this.mouse.style.top=`${u}px`,r||this.drawMouseTail({x:a,y:u}),this.hoverElements(o)}drawMouseTail(e){if(!this.mouseTail)return;const{lineCap:t,lineWidth:i,strokeStyle:r,duration:s}=this.config.mouseTail===!0?qi:Object.assign({},qi,this.config.mouseTail),o=()=>{if(!this.mouseTail)return;const l=this.mouseTail.getContext("2d");!l||!this.tailPositions.length||(l.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),l.beginPath(),l.lineWidth=i,l.lineCap=t,l.strokeStyle=r,l.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach(a=>l.lineTo(a.x,a.y)),l.stroke())};this.tailPositions.push(e),o(),setTimeout(()=>{this.tailPositions=this.tailPositions.filter(l=>l!==e),o()},s/this.speedService.state.context.timer.speed)}hoverElements(e){var t;(t=this.lastHoveredRootNode||this.iframe.contentDocument)==null||t.querySelectorAll(".\\:hover").forEach(r=>{r.classList.remove(":hover")}),this.lastHoveredRootNode=e.getRootNode();let i=e;for(;i;)i.classList&&i.classList.add(":hover"),i=i.parentElement}isUserInteraction(e){return e.type!==he.IncrementalSnapshot?!1:e.data.source>q.Mutation&&e.data.source<=q.Input}backToNormal(){this.nextUserInteractionEvent=null,!this.speedService.state.matches("normal")&&(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(Y.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn("Has error on canvas update",t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(`Node with id '${t}' not found. `,e)}warn(...e){this.config.showWarning&&this.config.logger.warn(tl,...e)}debug(...e){this.config.showDebug&&this.config.logger.log(tl,...e)}}var Ae=Uint8Array,st=Uint16Array,Xr=Uint32Array,Gu=new Ae([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hu=new Ae([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tv=new Ae([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wu=function(n,e){for(var t=new st(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new Xr(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},Yu=Wu(Gu,2),Zu=Yu[0],nv=Yu[1];Zu[28]=258,nv[258]=28;var iv=Wu(Hu,0),rv=iv[0],Xu=new st(32768);for(var ae=0;ae<32768;++ae){var Ze=(ae&43690)>>>1|(ae&21845)<<1;Ze=(Ze&52428)>>>2|(Ze&13107)<<2,Ze=(Ze&61680)>>>4|(Ze&3855)<<4,Xu[ae]=((Ze&65280)>>>8|(Ze&255)<<8)>>>1}var Wt=function(n,e,t){for(var i=n.length,r=0,s=new st(e);r<i;++r)++s[n[r]-1];var o=new st(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var l;{l=new st(1<<e);var a=15-e;for(r=0;r<i;++r)if(n[r])for(var u=r<<4|n[r],c=e-n[r],d=o[n[r]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)l[Xu[d]>>>a]=u}return l},dn=new Ae(288);for(var ae=0;ae<144;++ae)dn[ae]=8;for(var ae=144;ae<256;++ae)dn[ae]=9;for(var ae=256;ae<280;++ae)dn[ae]=7;for(var ae=280;ae<288;++ae)dn[ae]=8;var Ku=new Ae(32);for(var ae=0;ae<32;++ae)Ku[ae]=5;var sv=Wt(dn,9),ov=Wt(Ku,5),Qi=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ne=function(n,e,t){var i=e/8>>0;return(n[i]|n[i+1]<<8)>>>(e&7)&t},er=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(e&7)},lv=function(n){return(n/8>>0)+(n&7&&1)},Ju=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof st?st:n instanceof Xr?Xr:Ae)(t-e);return i.set(n.subarray(e,t)),i},av=function(n,e,t){var i=n.length,r=!e||t,s=!t||t.i;t||(t={}),e||(e=new Ae(i*3));var o=function(b){var M=e.length;if(b>M){var G=new Ae(Math.max(M*2,b));G.set(e),e=G}},l=t.f||0,a=t.p||0,u=t.b||0,c=t.l,d=t.d,f=t.m,g=t.n,p=i*8;do{if(!c){t.f=l=Ne(n,a,1);var v=Ne(n,a+1,3);if(a+=3,v)if(v==1)c=sv,d=ov,f=9,g=5;else if(v==2){var y=Ne(n,a,31)+257,C=Ne(n,a+10,15)+4,x=y+Ne(n,a+5,31)+1;a+=14;for(var A=new Ae(x),N=new Ae(19),_=0;_<C;++_)N[tv[_]]=Ne(n,a+_*3,7);a+=C*3;var O=Qi(N),B=(1<<O)-1;if(!s&&a+x*(O+7)>p)break;for(var ce=Wt(N,O),_=0;_<x;){var ne=ce[Ne(n,a,B)];a+=ne&15;var h=ne>>>4;if(h<16)A[_++]=h;else{var K=0,V=0;for(h==16?(V=3+Ne(n,a,3),a+=2,K=A[_-1]):h==17?(V=3+Ne(n,a,7),a+=3):h==18&&(V=11+Ne(n,a,127),a+=7);V--;)A[_++]=K}}var ie=A.subarray(0,y),k=A.subarray(y);f=Qi(ie),g=Qi(k),c=Wt(ie,f),d=Wt(k,g)}else throw"invalid block type";else{var h=lv(a)+4,m=n[h-4]|n[h-3]<<8,w=h+m;if(w>i){if(s)throw"unexpected EOF";break}r&&o(u+m),e.set(n.subarray(h,w),u),t.b=u+=m,t.p=a=w*8;continue}if(a>p)throw"unexpected EOF"}r&&o(u+131072);for(var z=(1<<f)-1,J=(1<<g)-1,de=f+g+18;s||a+de<p;){var K=c[er(n,a)&z],re=K>>>4;if(a+=K&15,a>p)throw"unexpected EOF";if(!K)throw"invalid length/literal";if(re<256)e[u++]=re;else if(re==256){c=null;break}else{var te=re-254;if(re>264){var _=re-257,me=Gu[_];te=Ne(n,a,(1<<me)-1)+Zu[_],a+=me}var Se=d[er(n,a)&J],E=Se>>>4;if(!Se)throw"invalid distance";a+=Se&15;var k=rv[E];if(E>3){var me=Hu[E];k+=er(n,a)&(1<<me)-1,a+=me}if(a>p)throw"unexpected EOF";r&&o(u+131072);for(var R=u+te;u<R;u+=4)e[u]=e[u-k],e[u+1]=e[u+1-k],e[u+2]=e[u+2-k],e[u+3]=e[u+3-k];u=R}}t.l=c,t.p=a,t.b=u,c&&(l=1,t.m=f,t.d=d,t.n=g)}while(!l);return u==e.length?e:Ju(e,0,u)},uv=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function cv(n,e){return av((uv(n),n.subarray(2,-4)),e)}function fv(n,e){for(var t=n.length,i=new Ae(n.length+(n.length>>>1)),r=0,s=function(u){i[r++]=u},o=0;o<t;++o){if(r+5>i.length){var l=new Ae(r+8+(t-o<<1));l.set(i),i=l}var a=n.charCodeAt(o);a<128||e?s(a):a<2048?(s(192|a>>>6),s(128|a&63)):a>55295&&a<57344?(a=65536+(a&1047552)|n.charCodeAt(++o)&1023,s(240|a>>>18),s(128|a>>>12&63),s(128|a>>>6&63),s(128|a&63)):(s(224|a>>>12),s(128|a>>>6&63),s(128|a&63))}return Ju(i,0,r)}function dv(n,e){var t="";if(typeof TextDecoder<"u")return new TextDecoder().decode(n);for(var i=0;i<n.length;){var r=n[i++];r<128||e?t+=String.fromCharCode(r):r<224?t+=String.fromCharCode((r&31)<<6|n[i++]&63):r<240?t+=String.fromCharCode((r&15)<<12|(n[i++]&63)<<6|n[i++]&63):(r=((r&15)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023))}return t}const il="v1",hv=n=>{if(typeof n!="string")return n;try{const e=JSON.parse(n);if(e.timestamp)return e}catch{}try{const e=JSON.parse(dv(cv(fv(n,!0))));if(e.v===il)return e;throw new Error(`These events were packed with packer ${e.v} which is incompatible with current packer ${il}.`)}catch(e){throw console.error(e),new Error("Unknown data format.")}};var Ts=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(Ts||{}),Kr=(n=>(n[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n))(Kr||{});function rl(n){let e="";return Object.keys(n).forEach(t=>{e+=`${t}: ${n[t]};`}),e}function Vt(n,e=2){let t=String(n);const i=Math.pow(10,e-1);if(n<i)for(;String(i).length>t.length;)t=`0${n}`;return t}const qu=1e3,Jr=60*qu,sl=60*Jr;function zn(n){if(n<=0)return"00:00";const e=Math.floor(n/sl);n=n%sl;const t=Math.floor(n/Jr);n=n%Jr;const i=Math.floor(n/qu);return e?`${Vt(e)}:${Vt(t)}:${Vt(i)}`:`${Vt(t)}:${Vt(i)}`}function pv(n){return n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():Promise.resolve()}function gv(){return document.exitFullscreen?document.exitFullscreen():document.mozExitFullscreen?document.mozExitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve()}function ol(){let n=!1;return["fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement"].forEach(e=>{e in document&&(n=n||!!document[e])}),n}function mv(n){return document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),()=>{document.removeEventListener("fullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("MSFullscreenChange",n)}}function ll(n){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(n)]}function yv(n){return n.type!==Ts.IncrementalSnapshot?!1:n.data.source>Kr.Mutation&&n.data.source<=Kr.Input}function vv(n,e){const t=[];let i=n[0].timestamp;for(const r of n)yv(r)&&(r.timestamp-i>e&&t.push([i,r.timestamp]),i=r.timestamp);return t}function wv(n){let e,t,i,r,s,o,l,a,u;return{c(){e=we("div"),t=we("input"),i=Me(),r=we("label"),s=Me(),o=we("span"),l=at(n[3]),L(t,"type","checkbox"),L(t,"id",n[2]),t.disabled=n[1],L(t,"class","svelte-a6h7w7"),L(r,"for",n[2]),L(r,"class","svelte-a6h7w7"),L(o,"class","label svelte-a6h7w7"),L(e,"class","switch svelte-a6h7w7"),Rt(e,"disabled",n[1])},m(c,d){We(c,e,d),Z(e,t),t.checked=n[0],Z(e,i),Z(e,r),Z(e,s),Z(e,o),Z(o,l),a||(u=Ct(t,"change",n[4]),a=!0)},p(c,[d]){d&4&&L(t,"id",c[2]),d&2&&(t.disabled=c[1]),d&1&&(t.checked=c[0]),d&4&&L(r,"for",c[2]),d&8&&Jn(l,c[3]),d&2&&Rt(e,"disabled",c[1])},i:Zt,o:Zt,d(c){c&&ze(e),a=!1,u()}}}function Cv(n,e,t){let{disabled:i}=e,{checked:r}=e,{id:s}=e,{label:o}=e;function l(){r=this.checked,t(0,r)}return n.$$set=a=>{"disabled"in a&&t(1,i=a.disabled),"checked"in a&&t(0,r=a.checked),"id"in a&&t(2,s=a.id),"label"in a&&t(3,o=a.label)},[r,i,s,o,l]}class Sv extends fs{constructor(e){super(),cs(this,e,Cv,wv,ls,{disabled:1,checked:0,id:2,label:3})}}function al(n,e,t){const i=n.slice();return i[38]=e[t],i}function ul(n,e,t){const i=n.slice();return i[41]=e[t],i}function cl(n,e,t){const i=n.slice();return i[44]=e[t],i}function fl(n){let e,t,i,r=zn(n[6])+"",s,o,l,a,u,c,d,f,g,p,v=zn(n[8].totalTime)+"",h,m,w,y,C,x,A,N,_,O,B,ce,ne,K=gt(n[13]),V=[];for(let E=0;E<K.length;E+=1)V[E]=dl(cl(n,K,E));let ie=gt(n[9]),k=[];for(let E=0;E<ie.length;E+=1)k[E]=hl(ul(n,ie,E));function z(E,R){return E[7]==="playing"?xv:bv}let J=z(n),de=J(n),re=gt(n[3]),te=[];for(let E=0;E<re.length;E+=1)te[E]=pl(al(n,re,E));function me(E){n[29](E)}let Se={id:"skip",disabled:n[10]==="skipping",label:"skip inactive"};return n[0]!==void 0&&(Se.checked=n[0]),A=new Sv({props:Se}),rt.push(()=>zd(A,"checked",me)),{c(){e=we("div"),t=we("div"),i=we("span"),s=at(r),o=Me(),l=we("div"),a=we("div"),u=Me();for(let E=0;E<V.length;E+=1)V[E].c();c=Me();for(let E=0;E<k.length;E+=1)k[E].c();d=Me(),f=we("div"),g=Me(),p=we("span"),h=at(v),m=Me(),w=we("div"),y=we("button"),de.c(),C=Me();for(let E=0;E<te.length;E+=1)te[E].c();x=Me(),sa(A.$$.fragment),_=Me(),O=we("button"),O.innerHTML=`<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4
            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4
            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0
            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48
            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48
            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4
            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z"></path></svg>`,L(i,"class","rr-timeline__time svelte-189zk2r"),L(a,"class","rr-progress__step svelte-189zk2r"),ye(a,"width",n[12]),L(f,"class","rr-progress__handler svelte-189zk2r"),ye(f,"left",n[12]),L(l,"class","rr-progress svelte-189zk2r"),Rt(l,"disabled",n[10]==="skipping"),L(p,"class","rr-timeline__time svelte-189zk2r"),L(t,"class","rr-timeline svelte-189zk2r"),L(y,"class","svelte-189zk2r"),L(O,"class","svelte-189zk2r"),L(w,"class","rr-controller__btns svelte-189zk2r"),L(e,"class","rr-controller svelte-189zk2r")},m(E,R){We(E,e,R),Z(e,t),Z(t,i),Z(i,s),Z(t,o),Z(t,l),Z(l,a),Z(l,u);for(let b=0;b<V.length;b+=1)V[b]&&V[b].m(l,null);Z(l,c);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(l,null);Z(l,d),Z(l,f),n[27](l),Z(t,g),Z(t,p),Z(p,h),Z(e,m),Z(e,w),Z(w,y),de.m(y,null),Z(w,C);for(let b=0;b<te.length;b+=1)te[b]&&te[b].m(w,null);Z(w,x),as(A,w,null),Z(w,_),Z(w,O),B=!0,ce||(ne=[Ct(l,"click",n[15]),Ct(l,"keydown",n[16]),Ct(y,"click",n[4]),Ct(O,"click",n[30])],ce=!0)},p(E,R){if((!B||R[0]&64)&&r!==(r=zn(E[6])+"")&&Jn(s,r),(!B||R[0]&4096)&&ye(a,"width",E[12]),R[0]&8192){K=gt(E[13]);let M;for(M=0;M<K.length;M+=1){const G=cl(E,K,M);V[M]?V[M].p(G,R):(V[M]=dl(G),V[M].c(),V[M].m(l,c))}for(;M<V.length;M+=1)V[M].d(1);V.length=K.length}if(R[0]&512){ie=gt(E[9]);let M;for(M=0;M<ie.length;M+=1){const G=ul(E,ie,M);k[M]?k[M].p(G,R):(k[M]=hl(G),k[M].c(),k[M].m(l,d))}for(;M<k.length;M+=1)k[M].d(1);k.length=ie.length}if((!B||R[0]&4096)&&ye(f,"left",E[12]),(!B||R[0]&1024)&&Rt(l,"disabled",E[10]==="skipping"),(!B||R[0]&256)&&v!==(v=zn(E[8].totalTime)+"")&&Jn(h,v),J!==(J=z(E))&&(de.d(1),de=J(E),de&&(de.c(),de.m(y,null))),R[0]&1066){re=gt(E[3]);let M;for(M=0;M<re.length;M+=1){const G=al(E,re,M);te[M]?te[M].p(G,R):(te[M]=pl(G),te[M].c(),te[M].m(w,x))}for(;M<te.length;M+=1)te[M].d(1);te.length=re.length}const b={};R[0]&1024&&(b.disabled=E[10]==="skipping"),!N&&R[0]&1&&(N=!0,b.checked=E[0],Ld(()=>N=!1)),A.$set(b)},i(E){B||(Ue(A.$$.fragment,E),B=!0)},o(E){Et(A.$$.fragment,E),B=!1},d(E){E&&ze(e),Li(V,E),Li(k,E),n[27](null),de.d(),Li(te,E),us(A),ce=!1,Nt(ne)}}}function dl(n){let e,t;return{c(){e=we("div"),L(e,"title",t=n[44].name),ye(e,"width",n[44].width),ye(e,"height","4px"),ye(e,"position","absolute"),ye(e,"background",n[44].background),ye(e,"left",n[44].position)},m(i,r){We(i,e,r)},p(i,r){r[0]&8192&&t!==(t=i[44].name)&&L(e,"title",t),r[0]&8192&&ye(e,"width",i[44].width),r[0]&8192&&ye(e,"background",i[44].background),r[0]&8192&&ye(e,"left",i[44].position)},d(i){i&&ze(e)}}}function hl(n){let e,t;return{c(){e=we("div"),L(e,"title",t=n[41].name),ye(e,"width","10px"),ye(e,"height","5px"),ye(e,"position","absolute"),ye(e,"top","2px"),ye(e,"transform","translate(-50%, -50%)"),ye(e,"background",n[41].background),ye(e,"left",n[41].position)},m(i,r){We(i,e,r)},p(i,r){r[0]&512&&t!==(t=i[41].name)&&L(e,"title",t),r[0]&512&&ye(e,"background",i[41].background),r[0]&512&&ye(e,"left",i[41].position)},d(i){i&&ze(e)}}}function bv(n){let e,t;return{c(){e=Kn("svg"),t=Kn("path"),L(t,"d",`M170.65984 896l0-768 640 384zM644.66944
              512l-388.66944-233.32864 0 466.65728z`),L(e,"class","icon"),L(e,"viewBox","0 0 1024 1024"),L(e,"version","1.1"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),L(e,"width","16"),L(e,"height","16")},m(i,r){We(i,e,r),Z(e,t)},d(i){i&&ze(e)}}}function xv(n){let e,t;return{c(){e=Kn("svg"),t=Kn("path"),L(t,"d",`M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0
              512q0 53.00224-37.49888 90.50112t-90.50112
              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224
              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0
              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888
              90.50112t-90.50112
              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224
              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424
              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928
              30.16704t30.16704 12.4928 30.16704-12.4928
              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984
              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0
              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928
              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z`),L(e,"class","icon"),L(e,"viewBox","0 0 1024 1024"),L(e,"version","1.1"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),L(e,"width","16"),L(e,"height","16")},m(i,r){We(i,e,r),Z(e,t)},d(i){i&&ze(e)}}}function pl(n){let e,t=n[38]+"",i,r,s,o,l;function a(){return n[28](n[38])}return{c(){e=we("button"),i=at(t),r=at("x"),e.disabled=s=n[10]==="skipping",L(e,"class","svelte-189zk2r"),Rt(e,"active",n[38]===n[1]&&n[10]!=="skipping")},m(u,c){We(u,e,c),Z(e,i),Z(e,r),o||(l=Ct(e,"click",a),o=!0)},p(u,c){n=u,c[0]&8&&t!==(t=n[38]+"")&&Jn(i,t),c[0]&1024&&s!==(s=n[10]==="skipping")&&(e.disabled=s),c[0]&1034&&Rt(e,"active",n[38]===n[1]&&n[10]!=="skipping")},d(u){u&&ze(e),o=!1,l()}}}function Rv(n){let e,t,i=n[2]&&fl(n);return{c(){i&&i.c(),e=Pd()},m(r,s){i&&i.m(r,s),We(r,e,s),t=!0},p(r,s){r[2]?i?(i.p(r,s),s[0]&4&&Ue(i,1)):(i=fl(r),i.c(),Ue(i,1),i.m(e.parentNode,e)):i&&(ia(),Et(i,1,1,()=>{i=null}),ra())},i(r){t||(Ue(i),t=!0)},o(r){Et(i),t=!1},d(r){r&&ze(e),i&&i.d(r)}}}function gl(n,e,t){const i=e-n;return(100-(e-t)/i*100).toFixed(2)}function Ev(n,e,t){const i=Fd();let{replayer:r}=e,{showController:s}=e,{autoPlay:o}=e,{skipInactive:l}=e,{speedOption:a}=e,{speed:u=a.length?a[0]:1}=e,{tags:c={}}=e,{inactiveColor:d}=e,f=0,g=null,p,v,h,m,w=!1,y=null,C=null,x,A,N,_;const O=()=>{B();function R(){t(6,f=r.getCurrentTime()),w&&f>=w&&(C?ie(C.start,C.end,!0,void 0):(r.pause(),y&&(y(),y=null))),f<x.totalTime&&(g=requestAnimationFrame(R))}g=requestAnimationFrame(R)},B=()=>{g&&(cancelAnimationFrame(g),g=null)},ce=()=>{switch(p){case"playing":K();break;case"paused":ne();break}},ne=()=>{p==="paused"&&(m?(r.play(),m=!1):r.play(f))},K=()=>{p==="playing"&&(r.pause(),w=!1)},V=(R,b)=>{t(6,f=R),w=!1,m=!1,(typeof b=="boolean"?b:p==="playing")?r.play(R):r.pause(R)},ie=(R,b,M=!1,G=void 0)=>{M?C={start:R,end:b}:C=null,t(6,f=R),w=b,y=G||null,r.play(R)},k=R=>{if(v==="skipping")return;const b=h.getBoundingClientRect();let G=(R.clientX-b.left)/b.width;G<0?G=0:G>1&&(G=1);const P=x.totalTime*G;V(P)},z=R=>{v!=="skipping"&&(R.key==="ArrowLeft"?V(f-5):R.key==="ArrowRight"&&V(f+5))},J=R=>{let b=p==="playing";t(1,u=R),b&&r.pause(),r.setConfig({speed:u}),b&&r.play(f)},de=()=>{t(0,l=!l)},re=()=>Promise.resolve().then(()=>{t(8,x=r.getMetaData())});ea(()=>{t(7,p=r.service.state.value),t(10,v=r.speedService.state.value),r.on("state-change",R=>{const{player:b,speed:M}=R;if(b!=null&&b.value&&p!==b.value)switch(t(7,p=b.value),p){case"playing":O();break;case"paused":B();break}M!=null&&M.value&&v!==M.value&&t(10,v=M.value)}),r.on("finish",()=>{m=!0,y&&(y(),y=null)}),o&&r.play()}),kd(()=>{l!==r.config.skipInactive&&r.setConfig({skipInactive:l})}),ta(()=>{r.pause(),B()});function te(R){rt[R?"unshift":"push"](()=>{h=R,t(11,h)})}const me=R=>J(R);function Se(R){l=R,t(0,l)}const E=()=>i("fullscreen");return n.$$set=R=>{"replayer"in R&&t(17,r=R.replayer),"showController"in R&&t(2,s=R.showController),"autoPlay"in R&&t(18,o=R.autoPlay),"skipInactive"in R&&t(0,l=R.skipInactive),"speedOption"in R&&t(3,a=R.speedOption),"speed"in R&&t(1,u=R.speed),"tags"in R&&t(19,c=R.tags),"inactiveColor"in R&&t(20,d=R.inactiveColor)},n.$$.update=()=>{if(n.$$.dirty[0]&64&&i("ui-update-current-time",{payload:f}),n.$$.dirty[0]&128&&i("ui-update-player-state",{payload:p}),n.$$.dirty[0]&131072&&t(8,x=r.getMetaData()),n.$$.dirty[0]&320){const R=Math.min(1,f/x.totalTime);t(12,A=`${100*R}%`),i("ui-update-progress",{payload:R})}n.$$.dirty[0]&655360&&t(9,N=(()=>{const{context:R}=r.service.state,b=R.events.length,M=R.events[0].timestamp,G=R.events[b-1].timestamp,P=[];return R.events.forEach(U=>{if(U.type===Ts.Custom){const Ce={name:U.data.tag,background:c[U.data.tag]||"rgb(73, 80, 246)",position:`${gl(M,G,U.timestamp)}%`};P.push(Ce)}}),P})()),n.$$.dirty[0]&1179648&&t(13,_=(()=>{try{const{context:R}=r.service.state,b=R.events.length,M=R.events[0].timestamp,G=R.events[b-1].timestamp,P=vv(R.events,r.config.inactivePeriodThreshold),U=(Ce,xe,Ye,hn)=>{const j=xe-Ce;return((hn-Ye)/j*100).toFixed(2)};return P.map(Ce=>({name:"inactive period",background:d,position:`${gl(M,G,Ce[0])}%`,width:`${U(M,G,Ce[0],Ce[1])}%`}))}catch{return[]}})())},[l,u,s,a,ce,J,f,p,x,N,v,h,A,_,i,k,z,r,o,c,d,ne,K,V,ie,de,re,te,me,Se,E]}class _v extends fs{constructor(e){super(),cs(this,e,Ev,Rv,ls,{replayer:17,showController:2,autoPlay:18,skipInactive:0,speedOption:3,speed:1,tags:19,inactiveColor:20,toggle:4,play:21,pause:22,goto:23,playRange:24,setSpeed:5,toggleSkipInactive:25,triggerUpdateMeta:26},null,[-1,-1])}get toggle(){return this.$$.ctx[4]}get play(){return this.$$.ctx[21]}get pause(){return this.$$.ctx[22]}get goto(){return this.$$.ctx[23]}get playRange(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[5]}get toggleSkipInactive(){return this.$$.ctx[25]}get triggerUpdateMeta(){return this.$$.ctx[26]}}function ml(n){let e,t,i={replayer:n[7],showController:n[3],autoPlay:n[1],speedOption:n[2],skipInactive:n[0],tags:n[4],inactiveColor:n[5]};return e=new _v({props:i}),n[32](e),e.$on("fullscreen",n[33]),{c(){sa(e.$$.fragment)},m(r,s){as(e,r,s),t=!0},p(r,s){const o={};s[0]&128&&(o.replayer=r[7]),s[0]&8&&(o.showController=r[3]),s[0]&2&&(o.autoPlay=r[1]),s[0]&4&&(o.speedOption=r[2]),s[0]&1&&(o.skipInactive=r[0]),s[0]&16&&(o.tags=r[4]),s[0]&32&&(o.inactiveColor=r[5]),e.$set(o)},i(r){t||(Ue(e.$$.fragment,r),t=!0)},o(r){Et(e.$$.fragment,r),t=!1},d(r){n[32](null),us(e,r)}}}function Iv(n){let e,t,i,r,s=n[7]&&ml(n);return{c(){e=we("div"),t=we("div"),i=Me(),s&&s.c(),L(t,"class","rr-player__frame"),L(t,"style",n[11]),L(e,"class","rr-player"),L(e,"style",n[12])},m(o,l){We(o,e,l),Z(e,t),n[31](t),Z(e,i),s&&s.m(e,null),n[34](e),r=!0},p(o,l){(!r||l[0]&2048)&&L(t,"style",o[11]),o[7]?s?(s.p(o,l),l[0]&128&&Ue(s,1)):(s=ml(o),s.c(),Ue(s,1),s.m(e,null)):s&&(ia(),Et(s,1,1,()=>{s=null}),ra()),(!r||l[0]&4096)&&L(e,"style",o[12])},i(o){r||(Ue(s),r=!0)},o(o){Et(s),r=!1},d(o){o&&ze(e),n[31](null),s&&s.d(),n[34](null)}}}const yl=80;function Mv(n,e,t){let{width:i=1024}=e,{height:r=576}=e,{maxScale:s=1}=e,{events:o}=e,{skipInactive:l=!0}=e,{autoPlay:a=!0}=e,{speedOption:u=[1,2,4,8]}=e,{speed:c=1}=e,{showController:d=!0}=e,{tags:f={}}=e,{inactiveColor:g="#D4D4D4"}=e,p;const v=()=>p.getMirror();let h,m,w,y=i,C=r,x,A,N;const _=(b,M)=>{const G=i/M.width,P=r/M.height,U=[G,P];s&&U.push(s),b.style.transform=`scale(${Math.min(...U)})translate(-50%, -50%)`},O=()=>{_(p.wrapper,{width:p.iframe.offsetWidth,height:p.iframe.offsetHeight})},B=()=>{h&&(ol()?gv():pv(h))},ce=(b,M)=>{switch(p.on(b,M),b){case"ui-update-current-time":case"ui-update-progress":case"ui-update-player-state":x.$on(b,({detail:G})=>M(G))}},ne=b=>{p.addEvent(b),x.triggerUpdateMeta()},K=()=>p.getMetaData(),V=()=>p,ie=()=>{x.toggle()},k=b=>{x.setSpeed(b)},z=()=>{x.toggleSkipInactive()},J=()=>{x.play()},de=()=>{x.pause()},re=(b,M)=>{x.goto(b,M)},te=(b,M,G=!1,P=void 0)=>{x.playRange(b,M,G,P)};ea(()=>{if(u!==void 0&&ll(u)!=="array")throw new Error("speedOption must be array");if(u.forEach(b=>{if(ll(b)!=="number")throw new Error("item of speedOption must be number")}),u.indexOf(c)<0)throw new Error(`speed must be one of speedOption,
        current config:
        {
          ...
          speed: ${c},
          speedOption: [${u.toString()}]
          ...
        }
        `);t(7,p=new ev(o,{speed:c,root:m,unpackFn:hv,...e})),p.on("resize",b=>{_(p.wrapper,b)}),w=mv(()=>{ol()?setTimeout(()=>{y=i,C=r,t(13,i=h.offsetWidth),t(14,r=h.offsetHeight-(d?yl:0)),_(p.wrapper,{width:p.iframe.offsetWidth,height:p.iframe.offsetHeight})},0):(t(13,i=y),t(14,r=C),_(p.wrapper,{width:p.iframe.offsetWidth,height:p.iframe.offsetHeight}))})}),ta(()=>{w&&w()});function me(b){rt[b?"unshift":"push"](()=>{m=b,t(9,m)})}function Se(b){rt[b?"unshift":"push"](()=>{x=b,t(10,x)})}const E=()=>B();function R(b){rt[b?"unshift":"push"](()=>{h=b,t(8,h)})}return n.$$set=b=>{t(39,e=Qs(Qs({},e),to(b))),"width"in b&&t(13,i=b.width),"height"in b&&t(14,r=b.height),"maxScale"in b&&t(15,s=b.maxScale),"events"in b&&t(16,o=b.events),"skipInactive"in b&&t(0,l=b.skipInactive),"autoPlay"in b&&t(1,a=b.autoPlay),"speedOption"in b&&t(2,u=b.speedOption),"speed"in b&&t(17,c=b.speed),"showController"in b&&t(3,d=b.showController),"tags"in b&&t(4,f=b.tags),"inactiveColor"in b&&t(5,g=b.inactiveColor)},n.$$.update=()=>{n.$$.dirty[0]&24576&&t(11,A=rl({width:`${i}px`,height:`${r}px`})),n.$$.dirty[0]&24584&&t(12,N=rl({width:`${i}px`,height:`${r+(d?yl:0)}px`}))},e=to(e),[l,a,u,d,f,g,B,p,h,m,x,A,N,i,r,s,o,c,v,O,ce,ne,K,V,ie,k,z,J,de,re,te,me,Se,E,R]}let Av=class extends fs{constructor(e){super(),cs(this,e,Mv,Iv,ls,{width:13,height:14,maxScale:15,events:16,skipInactive:0,autoPlay:1,speedOption:2,speed:17,showController:3,tags:4,inactiveColor:5,getMirror:18,triggerResize:19,toggleFullscreen:6,addEventListener:20,addEvent:21,getMetaData:22,getReplayer:23,toggle:24,setSpeed:25,toggleSkipInactive:26,play:27,pause:28,goto:29,playRange:30},null,[-1,-1])}get getMirror(){return this.$$.ctx[18]}get triggerResize(){return this.$$.ctx[19]}get toggleFullscreen(){return this.$$.ctx[6]}get addEventListener(){return this.$$.ctx[20]}get addEvent(){return this.$$.ctx[21]}get getMetaData(){return this.$$.ctx[22]}get getReplayer(){return this.$$.ctx[23]}get toggle(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[25]}get toggleSkipInactive(){return this.$$.ctx[26]}get play(){return this.$$.ctx[27]}get pause(){return this.$$.ctx[28]}get goto(){return this.$$.ctx[29]}get playRange(){return this.$$.ctx[30]}};class Dv extends Av{constructor(e){super({target:e.target,props:e.data||e.props})}}function Pv(){const n=I.useRef(null),e=I.useRef(null),{sessionId:t}=yc(),[i,r]=I.useState("");return I.useEffect(()=>{if(t)return Jl(t).then(s=>{r(s.name)}).catch(s=>{console.error(s)}),Kl(t).then(s=>{if(!n.current||e.current)return;const o=chrome.runtime.getManifest(),l=o.version_name||o.version,a=document.createElement("link");a.href=`https://cdn.jsdelivr.net/npm/rrweb-player@${l}/dist/style.min.css`,a.rel="stylesheet",document.head.appendChild(a),e.current=new Dv({target:n.current,props:{events:s,autoPlay:!0}})}).catch(s=>{console.error(s)}),()=>{var s,o;(s=e.current)==null||s.pause(),(o=e.current)==null||o.$destroy()}},[t]),S.jsxs(S.Fragment,{children:[S.jsxs(xl,{mb:5,fontSize:"md",children:[S.jsx(nr,{children:S.jsx(Zn,{href:"#",children:"Sessions"})}),S.jsx(nr,{children:S.jsx(Zn,{children:i})})]}),S.jsx(Nl,{children:S.jsx(bl,{ref:n})})]})}function Nv(){return S.jsx(vc,{title:"Sessions",headBarItems:[{label:"Settings",icon:fc,href:"/options/index.html#"},{label:"Sessions",icon:$s,href:"#"}],sideBarItems:[{label:"List",icon:$s,href:"#"}],children:S.jsxs(wc,{children:[S.jsx(Ls,{path:"/",element:S.jsx(Id,{})}),S.jsx(Ls,{path:"session/:sessionId",element:S.jsx(Pv,{})})]})})}const vl=document.getElementById("root"),Ov=Cc([{path:"/*",element:S.jsx(Nv,{})}]);vl&&dc(vl).render(S.jsx(hc.StrictMode,{children:S.jsx(pc,{children:S.jsx(Sc,{router:Ov})})}));
